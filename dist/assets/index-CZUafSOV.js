(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function n(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(s){if(s.ep)return;s.ep=!0;const u=n(s);fetch(s.href,u)}})();var hh={exports:{}},ta={},dh={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function A_(){if(rm)return Ae;rm=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,j={};function O(M,G,pe){this.props=M,this.context=G,this.refs=j,this.updater=pe||k}O.prototype.isReactComponent={},O.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},O.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function H(){}H.prototype=O.prototype;function W(M,G,pe){this.props=M,this.context=G,this.refs=j,this.updater=pe||k}var re=W.prototype=new H;re.constructor=W,L(re,O.prototype),re.isPureReactComponent=!0;var de=Array.isArray,Ie=Object.prototype.hasOwnProperty,Se={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function I(M,G,pe){var Ce,Re={},Ne=null,be=null;if(G!=null)for(Ce in G.ref!==void 0&&(be=G.ref),G.key!==void 0&&(Ne=""+G.key),G)Ie.call(G,Ce)&&!N.hasOwnProperty(Ce)&&(Re[Ce]=G[Ce]);var Fe=arguments.length-2;if(Fe===1)Re.children=pe;else if(1<Fe){for(var $e=Array(Fe),yt=0;yt<Fe;yt++)$e[yt]=arguments[yt+2];Re.children=$e}if(M&&M.defaultProps)for(Ce in Fe=M.defaultProps,Fe)Re[Ce]===void 0&&(Re[Ce]=Fe[Ce]);return{$$typeof:i,type:M,key:Ne,ref:be,props:Re,_owner:Se.current}}function R(M,G){return{$$typeof:i,type:M.type,key:G,ref:M.ref,props:M.props,_owner:M._owner}}function x(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function D(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(pe){return G[pe]})}var b=/\/+/g;function A(M,G){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):G.toString(36)}function nt(M,G,pe,Ce,Re){var Ne=typeof M;(Ne==="undefined"||Ne==="boolean")&&(M=null);var be=!1;if(M===null)be=!0;else switch(Ne){case"string":case"number":be=!0;break;case"object":switch(M.$$typeof){case i:case e:be=!0}}if(be)return be=M,Re=Re(be),M=Ce===""?"."+A(be,0):Ce,de(Re)?(pe="",M!=null&&(pe=M.replace(b,"$&/")+"/"),nt(Re,G,pe,"",function(yt){return yt})):Re!=null&&(x(Re)&&(Re=R(Re,pe+(!Re.key||be&&be.key===Re.key?"":(""+Re.key).replace(b,"$&/")+"/")+M)),G.push(Re)),1;if(be=0,Ce=Ce===""?".":Ce+":",de(M))for(var Fe=0;Fe<M.length;Fe++){Ne=M[Fe];var $e=Ce+A(Ne,Fe);be+=nt(Ne,G,pe,$e,Re)}else if($e=S(M),typeof $e=="function")for(M=$e.call(M),Fe=0;!(Ne=M.next()).done;)Ne=Ne.value,$e=Ce+A(Ne,Fe++),be+=nt(Ne,G,pe,$e,Re);else if(Ne==="object")throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return be}function xt(M,G,pe){if(M==null)return M;var Ce=[],Re=0;return nt(M,Ce,"","",function(Ne){return G.call(pe,Ne,Re++)}),Ce}function Nt(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(pe){(M._status===0||M._status===-1)&&(M._status=1,M._result=pe)},function(pe){(M._status===0||M._status===-1)&&(M._status=2,M._result=pe)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var je={current:null},ie={transition:null},ge={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ie,ReactCurrentOwner:Se};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:xt,forEach:function(M,G,pe){xt(M,function(){G.apply(this,arguments)},pe)},count:function(M){var G=0;return xt(M,function(){G++}),G},toArray:function(M){return xt(M,function(G){return G})||[]},only:function(M){if(!x(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ae.Component=O,Ae.Fragment=n,Ae.Profiler=s,Ae.PureComponent=W,Ae.StrictMode=o,Ae.Suspense=g,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ae.act=se,Ae.cloneElement=function(M,G,pe){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ce=L({},M.props),Re=M.key,Ne=M.ref,be=M._owner;if(G!=null){if(G.ref!==void 0&&(Ne=G.ref,be=Se.current),G.key!==void 0&&(Re=""+G.key),M.type&&M.type.defaultProps)var Fe=M.type.defaultProps;for($e in G)Ie.call(G,$e)&&!N.hasOwnProperty($e)&&(Ce[$e]=G[$e]===void 0&&Fe!==void 0?Fe[$e]:G[$e])}var $e=arguments.length-2;if($e===1)Ce.children=pe;else if(1<$e){Fe=Array($e);for(var yt=0;yt<$e;yt++)Fe[yt]=arguments[yt+2];Ce.children=Fe}return{$$typeof:i,type:M.type,key:Re,ref:Ne,props:Ce,_owner:be}},Ae.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:u,_context:M},M.Consumer=M},Ae.createElement=I,Ae.createFactory=function(M){var G=I.bind(null,M);return G.type=M,G},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:f,render:M}},Ae.isValidElement=x,Ae.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:Nt}},Ae.memo=function(M,G){return{$$typeof:y,type:M,compare:G===void 0?null:G}},Ae.startTransition=function(M){var G=ie.transition;ie.transition={};try{M()}finally{ie.transition=G}},Ae.unstable_act=se,Ae.useCallback=function(M,G){return je.current.useCallback(M,G)},Ae.useContext=function(M){return je.current.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M){return je.current.useDeferredValue(M)},Ae.useEffect=function(M,G){return je.current.useEffect(M,G)},Ae.useId=function(){return je.current.useId()},Ae.useImperativeHandle=function(M,G,pe){return je.current.useImperativeHandle(M,G,pe)},Ae.useInsertionEffect=function(M,G){return je.current.useInsertionEffect(M,G)},Ae.useLayoutEffect=function(M,G){return je.current.useLayoutEffect(M,G)},Ae.useMemo=function(M,G){return je.current.useMemo(M,G)},Ae.useReducer=function(M,G,pe){return je.current.useReducer(M,G,pe)},Ae.useRef=function(M){return je.current.useRef(M)},Ae.useState=function(M){return je.current.useState(M)},Ae.useSyncExternalStore=function(M,G,pe){return je.current.useSyncExternalStore(M,G,pe)},Ae.useTransition=function(){return je.current.useTransition()},Ae.version="18.3.1",Ae}var im;function id(){return im||(im=1,dh.exports=A_()),dh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function P_(){if(om)return ta;om=1;var i=id(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,y){var E,T={},S=null,k=null;y!==void 0&&(S=""+y),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(k=g.ref);for(E in g)o.call(g,E)&&!u.hasOwnProperty(E)&&(T[E]=g[E]);if(f&&f.defaultProps)for(E in g=f.defaultProps,g)T[E]===void 0&&(T[E]=g[E]);return{$$typeof:e,type:f,key:S,ref:k,props:T,_owner:s.current}}return ta.Fragment=n,ta.jsx=h,ta.jsxs=h,ta}var sm;function k_(){return sm||(sm=1,hh.exports=P_()),hh.exports}var te=k_(),$=id(),Kl={},fh={exports:{}},Yt={},ph={exports:{}},mh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am;function x_(){return am||(am=1,function(i){function e(ie,ge){var se=ie.length;ie.push(ge);e:for(;0<se;){var M=se-1>>>1,G=ie[M];if(0<s(G,ge))ie[M]=ge,ie[se]=G,se=M;else break e}}function n(ie){return ie.length===0?null:ie[0]}function o(ie){if(ie.length===0)return null;var ge=ie[0],se=ie.pop();if(se!==ge){ie[0]=se;e:for(var M=0,G=ie.length,pe=G>>>1;M<pe;){var Ce=2*(M+1)-1,Re=ie[Ce],Ne=Ce+1,be=ie[Ne];if(0>s(Re,se))Ne<G&&0>s(be,Re)?(ie[M]=be,ie[Ne]=se,M=Ne):(ie[M]=Re,ie[Ce]=se,M=Ce);else if(Ne<G&&0>s(be,se))ie[M]=be,ie[Ne]=se,M=Ne;else break e}}return ge}function s(ie,ge){var se=ie.sortIndex-ge.sortIndex;return se!==0?se:ie.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();i.unstable_now=function(){return h.now()-f}}var g=[],y=[],E=1,T=null,S=3,k=!1,L=!1,j=!1,O=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(ie){for(var ge=n(y);ge!==null;){if(ge.callback===null)o(y);else if(ge.startTime<=ie)o(y),ge.sortIndex=ge.expirationTime,e(g,ge);else break;ge=n(y)}}function de(ie){if(j=!1,re(ie),!L)if(n(g)!==null)L=!0,Nt(Ie);else{var ge=n(y);ge!==null&&je(de,ge.startTime-ie)}}function Ie(ie,ge){L=!1,j&&(j=!1,H(I),I=-1),k=!0;var se=S;try{for(re(ge),T=n(g);T!==null&&(!(T.expirationTime>ge)||ie&&!D());){var M=T.callback;if(typeof M=="function"){T.callback=null,S=T.priorityLevel;var G=M(T.expirationTime<=ge);ge=i.unstable_now(),typeof G=="function"?T.callback=G:T===n(g)&&o(g),re(ge)}else o(g);T=n(g)}if(T!==null)var pe=!0;else{var Ce=n(y);Ce!==null&&je(de,Ce.startTime-ge),pe=!1}return pe}finally{T=null,S=se,k=!1}}var Se=!1,N=null,I=-1,R=5,x=-1;function D(){return!(i.unstable_now()-x<R)}function b(){if(N!==null){var ie=i.unstable_now();x=ie;var ge=!0;try{ge=N(!0,ie)}finally{ge?A():(Se=!1,N=null)}}else Se=!1}var A;if(typeof W=="function")A=function(){W(b)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,xt=nt.port2;nt.port1.onmessage=b,A=function(){xt.postMessage(null)}}else A=function(){O(b,0)};function Nt(ie){N=ie,Se||(Se=!0,A())}function je(ie,ge){I=O(function(){ie(i.unstable_now())},ge)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ie){ie.callback=null},i.unstable_continueExecution=function(){L||k||(L=!0,Nt(Ie))},i.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ie?Math.floor(1e3/ie):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(ie){switch(S){case 1:case 2:case 3:var ge=3;break;default:ge=S}var se=S;S=ge;try{return ie()}finally{S=se}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ie,ge){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var se=S;S=ie;try{return ge()}finally{S=se}},i.unstable_scheduleCallback=function(ie,ge,se){var M=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?M+se:M):se=M,ie){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=se+G,ie={id:E++,callback:ge,priorityLevel:ie,startTime:se,expirationTime:G,sortIndex:-1},se>M?(ie.sortIndex=se,e(y,ie),n(g)===null&&ie===n(y)&&(j?(H(I),I=-1):j=!0,je(de,se-M))):(ie.sortIndex=G,e(g,ie),L||k||(L=!0,Nt(Ie))),ie},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(ie){var ge=S;return function(){var se=S;S=ge;try{return ie.apply(this,arguments)}finally{S=se}}}}(mh)),mh}var lm;function N_(){return lm||(lm=1,ph.exports=x_()),ph.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function V_(){if(um)return Yt;um=1;var i=id(),e=N_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(s[t]=r,t=0;t<r.length;t++)o.add(r[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},T={};function S(t){return g.call(T,t)?!0:g.call(E,t)?!1:y.test(t)?T[t]=!0:(E[t]=!0,!1)}function k(t,r,a,c){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function L(t,r,a,c){if(r===null||typeof r>"u"||k(t,r,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function j(t,r,a,c,d,m,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=_}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){O[t]=new j(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];O[r]=new j(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){O[t]=new j(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){O[t]=new j(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){O[t]=new j(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){O[t]=new j(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){O[t]=new j(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){O[t]=new j(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){O[t]=new j(t,5,!1,t.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function W(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(H,W);O[r]=new j(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(H,W);O[r]=new j(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(H,W);O[r]=new j(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){O[t]=new j(t,1,!1,t.toLowerCase(),null,!1,!1)}),O.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){O[t]=new j(t,1,!1,t.toLowerCase(),null,!0,!0)});function re(t,r,a,c){var d=O.hasOwnProperty(r)?O[r]:null;(d!==null?d.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(L(r,a,d,c)&&(a=null),c||d===null?S(r)&&(a===null?t.removeAttribute(r):t.setAttribute(r,""+a)):d.mustUseProperty?t[d.propertyName]=a===null?d.type===3?!1:"":a:(r=d.attributeName,c=d.attributeNamespace,a===null?t.removeAttribute(r):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?t.setAttributeNS(c,r,a):t.setAttribute(r,a))))}var de=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ie=Symbol.for("react.element"),Se=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),D=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ge(t){return t===null||typeof t!="object"?null:(t=ie&&t[ie]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,M;function G(t){if(M===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||""}return`
`+M+t}var pe=!1;function Ce(t,r){if(!t||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(z){var c=z}Reflect.construct(t,[],r)}else{try{r.call()}catch(z){c=z}t.call(r.prototype)}else{try{throw Error()}catch(z){c=z}t()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),m=c.stack.split(`
`),_=d.length-1,C=m.length-1;1<=_&&0<=C&&d[_]!==m[C];)C--;for(;1<=_&&0<=C;_--,C--)if(d[_]!==m[C]){if(_!==1||C!==1)do if(_--,C--,0>C||d[_]!==m[C]){var P=`
`+d[_].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=_&&0<=C);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?G(t):""}function Re(t){switch(t.tag){case 5:return G(t.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return t=Ce(t.type,!1),t;case 11:return t=Ce(t.type.render,!1),t;case 1:return t=Ce(t.type,!0),t;default:return""}}function Ne(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case Se:return"Portal";case R:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case nt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case x:return(t._context.displayName||"Context")+".Provider";case b:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xt:return r=t.displayName||null,r!==null?r:Ne(t.type)||"Memo";case Nt:r=t._payload,t=t._init;try{return Ne(t(r))}catch{}}return null}function be(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $e(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function yt(t){var r=$e(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function er(t){t._valueTracker||(t._valueTracker=yt(t))}function Hi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return t&&(c=$e(t)?t.checked?"true":"false":t.value),t=c,t!==a?(r.setValue(t),!0):!1}function Ir(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ui(t,r){var a=r.checked;return se({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function Wi(t,r){var a=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;a=Fe(r.value!=null?r.value:a),t._wrapperState={initialChecked:c,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function as(t,r){r=r.checked,r!=null&&re(t,"checked",r,!1)}function ls(t,r){as(t,r);var a=Fe(r.value),c=r.type;if(a!=null)c==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Ki(t,r.type,a):r.hasOwnProperty("defaultValue")&&Ki(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Va(t,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,a||r===t.value||(t.value=r),t.defaultValue=r}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function Ki(t,r,a){(r!=="number"||Ir(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var tr=Array.isArray;function nr(t,r,a,c){if(t=t.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=r.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Fe(a),r=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function us(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qi(t,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(n(92));if(tr(a)){if(1<a.length)throw Error(n(93));a=a[0]}r=a}r==null&&(r=""),a=r}t._wrapperState={initialValue:Fe(a)}}function Gi(t,r){var a=Fe(r.value),c=Fe(r.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),r.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),c!=null&&(t.defaultValue=""+c)}function cs(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ct(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ct(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rr,hs=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,c,d){MSApp.execUnsafeLocalFunction(function(){return t(r,a,c,d)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=rr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Cr(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hi=["Webkit","ms","Moz","O"];Object.keys(ci).forEach(function(t){hi.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ci[r]=ci[t]})});function ds(t,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||ci.hasOwnProperty(t)&&ci[t]?(""+r).trim():r+"px"}function fs(t,r){t=t.style;for(var a in r)if(r.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=ds(a,r[a],c);a==="float"&&(a="cssFloat"),c?t.setProperty(a,d):t[a]=d}}var ps=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ms(t,r){if(r){if(ps[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function gs(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var di=null;function Yi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xi=null,un=null,Fn=null;function Ji(t){if(t=Bs(t)){if(typeof Xi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=ll(r),Xi(t.stateNode,t.type,r))}}function Un(t){un?Fn?Fn.push(t):Fn=[t]:un=t}function ys(){if(un){var t=un,r=Fn;if(Fn=un=null,Ji(t),r)for(t=0;t<r.length;t++)Ji(r[t])}}function fi(t,r){return t(r)}function vs(){}var ir=!1;function _s(t,r,a){if(ir)return t(r,a);ir=!0;try{return fi(t,r,a)}finally{ir=!1,(un!==null||Fn!==null)&&(vs(),ys())}}function rt(t,r){var a=t.stateNode;if(a===null)return null;var c=ll(a);if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(n(231,r,typeof a));return a}var Zi=!1;if(f)try{var En={};Object.defineProperty(En,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{Zi=!1}function pi(t,r,a,c,d,m,_,C,P){var z=Array.prototype.slice.call(arguments,3);try{r.apply(a,z)}catch(J){this.onError(J)}}var mi=!1,eo=null,wn=!1,Es=null,Uu={onError:function(t){mi=!0,eo=t}};function to(t,r,a,c,d,m,_,C,P){mi=!1,eo=null,pi.apply(Uu,arguments)}function Da(t,r,a,c,d,m,_,C,P){if(to.apply(this,arguments),mi){if(mi){var z=eo;mi=!1,eo=null}else throw Error(n(198));wn||(wn=!0,Es=z)}}function Tn(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function gi(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Sn(t){if(Tn(t)!==t)throw Error(n(188))}function La(t){var r=t.alternate;if(!r){if(r=Tn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var a=t,c=r;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return Sn(d),t;if(m===c)return Sn(d),r;m=m.sibling}throw Error(n(188))}if(a.return!==c.return)a=d,c=m;else{for(var _=!1,C=d.child;C;){if(C===a){_=!0,a=d,c=m;break}if(C===c){_=!0,c=d,a=m;break}C=C.sibling}if(!_){for(C=m.child;C;){if(C===a){_=!0,a=m,c=d;break}if(C===c){_=!0,c=m,a=d;break}C=C.sibling}if(!_)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?t:r}function ws(t){return t=La(t),t!==null?no(t):null}function no(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=no(t);if(r!==null)return r;t=t.sibling}return null}var ro=e.unstable_scheduleCallback,Ts=e.unstable_cancelCallback,Oa=e.unstable_shouldYield,Bu=e.unstable_requestPaint,qe=e.unstable_now,Ma=e.unstable_getCurrentPriorityLevel,yi=e.unstable_ImmediatePriority,Rr=e.unstable_UserBlockingPriority,cn=e.unstable_NormalPriority,Ss=e.unstable_LowPriority,ba=e.unstable_IdlePriority,vi=null,en=null;function Fa(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(vi,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Ba,Is=Math.log,Ua=Math.LN2;function Ba(t){return t>>>=0,t===0?32:31-(Is(t)/Ua|0)|0}var io=64,oo=4194304;function Ar(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _i(t,r){var a=t.pendingLanes;if(a===0)return 0;var c=0,d=t.suspendedLanes,m=t.pingedLanes,_=a&268435455;if(_!==0){var C=_&~d;C!==0?c=Ar(C):(m&=_,m!==0&&(c=Ar(m)))}else _=a&~d,_!==0?c=Ar(_):m!==0&&(c=Ar(m));if(c===0)return 0;if(r!==0&&r!==c&&!(r&d)&&(d=c&-c,m=r&-r,d>=m||d===16&&(m&4194240)!==0))return r;if(c&4&&(c|=a&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)a=31-Ut(r),d=1<<a,c|=t[a],r&=~d;return c}function ju(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function or(t,r){for(var a=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes;0<m;){var _=31-Ut(m),C=1<<_,P=d[_];P===-1?(!(C&a)||C&c)&&(d[_]=ju(C,r)):P<=r&&(t.expiredLanes|=C),m&=~C}}function tn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ei(){var t=io;return io<<=1,!(io&4194240)&&(io=64),t}function Pr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function kr(t,r,a){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ut(r),t[r]=a}function ze(t,r){var a=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<a;){var d=31-Ut(a),m=1<<d;r[d]=0,c[d]=-1,t[d]=-1,a&=~m}}function xr(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var c=31-Ut(a),d=1<<c;d&r|t[c]&r&&(t[c]|=r),a&=~d}}var ke=0;function Nr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ja,so,za,$a,qa,Cs=!1,Bn=[],St=null,In=null,Cn=null,Vr=new Map,hn=new Map,jn=[],zu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ha(t,r){switch(t){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":Vr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hn.delete(r.pointerId)}}function $t(t,r,a,c,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},r!==null&&(r=Bs(r),r!==null&&so(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function $u(t,r,a,c,d){switch(r){case"focusin":return St=$t(St,t,r,a,c,d),!0;case"dragenter":return In=$t(In,t,r,a,c,d),!0;case"mouseover":return Cn=$t(Cn,t,r,a,c,d),!0;case"pointerover":var m=d.pointerId;return Vr.set(m,$t(Vr.get(m)||null,t,r,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,hn.set(m,$t(hn.get(m)||null,t,r,a,c,d)),!0}return!1}function Wa(t){var r=Ci(t.target);if(r!==null){var a=Tn(r);if(a!==null){if(r=a.tag,r===13){if(r=gi(a),r!==null){t.blockedOn=r,qa(t.priority,function(){za(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=ao(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);di=c,a.target.dispatchEvent(c),di=null}else return r=Bs(a),r!==null&&so(r),t.blockedOn=a,!1;r.shift()}return!0}function wi(t,r,a){sr(t)&&a.delete(r)}function Ka(){Cs=!1,St!==null&&sr(St)&&(St=null),In!==null&&sr(In)&&(In=null),Cn!==null&&sr(Cn)&&(Cn=null),Vr.forEach(wi),hn.forEach(wi)}function Rn(t,r){t.blockedOn===r&&(t.blockedOn=null,Cs||(Cs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ka)))}function An(t){function r(d){return Rn(d,t)}if(0<Bn.length){Rn(Bn[0],t);for(var a=1;a<Bn.length;a++){var c=Bn[a];c.blockedOn===t&&(c.blockedOn=null)}}for(St!==null&&Rn(St,t),In!==null&&Rn(In,t),Cn!==null&&Rn(Cn,t),Vr.forEach(r),hn.forEach(r),a=0;a<jn.length;a++)c=jn[a],c.blockedOn===t&&(c.blockedOn=null);for(;0<jn.length&&(a=jn[0],a.blockedOn===null);)Wa(a),a.blockedOn===null&&jn.shift()}var ar=de.ReactCurrentBatchConfig,Dr=!0;function Ge(t,r,a,c){var d=ke,m=ar.transition;ar.transition=null;try{ke=1,Rs(t,r,a,c)}finally{ke=d,ar.transition=m}}function qu(t,r,a,c){var d=ke,m=ar.transition;ar.transition=null;try{ke=4,Rs(t,r,a,c)}finally{ke=d,ar.transition=m}}function Rs(t,r,a,c){if(Dr){var d=ao(t,r,a,c);if(d===null)tc(t,r,c,Ti,a),Ha(t,c);else if($u(d,t,r,a,c))c.stopPropagation();else if(Ha(t,c),r&4&&-1<zu.indexOf(t)){for(;d!==null;){var m=Bs(d);if(m!==null&&ja(m),m=ao(t,r,a,c),m===null&&tc(t,r,c,Ti,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else tc(t,r,c,null,a)}}var Ti=null;function ao(t,r,a,c){if(Ti=null,t=Yi(c),t=Ci(t),t!==null)if(r=Tn(t),r===null)t=null;else if(a=r.tag,a===13){if(t=gi(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Ti=t,null}function As(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ma()){case yi:return 1;case Rr:return 4;case cn:case Ss:return 16;case ba:return 536870912;default:return 16}default:return 16}}var nn=null,lo=null,qt=null;function Ps(){if(qt)return qt;var t,r=lo,a=r.length,c,d="value"in nn?nn.value:nn.textContent,m=d.length;for(t=0;t<a&&r[t]===d[t];t++);var _=a-t;for(c=1;c<=_&&r[a-c]===d[m-c];c++);return qt=d.slice(t,1<c?1-c:void 0)}function uo(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function zn(){return!0}function ks(){return!1}function It(t){function r(a,c,d,m,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?zn:ks,this.isPropagationStopped=ks,this}return se(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zn)},persist:function(){},isPersistent:zn}),r}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=It(Pn),$n=se({},Pn,{view:0,detail:0}),Hu=It($n),ho,lr,Lr,Si=se({},$n,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lr&&(Lr&&t.type==="mousemove"?(ho=t.screenX-Lr.screenX,lr=t.screenY-Lr.screenY):lr=ho=0,Lr=t),ho)},movementY:function(t){return"movementY"in t?t.movementY:lr}}),fo=It(Si),xs=se({},Si,{dataTransfer:0}),Qa=It(xs),po=se({},$n,{relatedTarget:0}),mo=It(po),Ga=se({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),ur=It(Ga),Ya=se({},Pn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xa=It(Ya),Ja=se({},Pn,{data:0}),Ns=It(Ja),go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Za={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Za[t])?!!r[t]:!1}function qn(){return el}var l=se({},$n,{key:function(t){if(t.key){var r=go[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=uo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qn,charCode:function(t){return t.type==="keypress"?uo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p=It(l),v=se({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=It(v),F=se({},$n,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qn}),q=It(F),ne=se({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Be=It(ne),dt=se({},Si,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=It(dt),vt=[9,13,27,32],st=f&&"CompositionEvent"in window,dn=null;f&&"documentMode"in document&&(dn=document.documentMode);var rn=f&&"TextEvent"in window&&!dn,Ii=f&&(!st||dn&&8<dn&&11>=dn),yo=" ",Yd=!1;function Xd(t,r){switch(t){case"keyup":return vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vo=!1;function Iv(t,r){switch(t){case"compositionend":return Jd(r);case"keypress":return r.which!==32?null:(Yd=!0,yo);case"textInput":return t=r.data,t===yo&&Yd?null:t;default:return null}}function Cv(t,r){if(vo)return t==="compositionend"||!st&&Xd(t,r)?(t=Ps(),qt=lo=nn=null,vo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ii&&r.locale!=="ko"?null:r.data;default:return null}}var Rv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Rv[t.type]:r==="textarea"}function ef(t,r,a,c){Un(c),r=ol(r,"onChange"),0<r.length&&(a=new co("onChange","change",null,a,c),t.push({event:a,listeners:r}))}var Vs=null,Ds=null;function Av(t){_f(t,0)}function tl(t){var r=So(t);if(Hi(r))return t}function Pv(t,r){if(t==="change")return r}var tf=!1;if(f){var Wu;if(f){var Ku="oninput"in document;if(!Ku){var nf=document.createElement("div");nf.setAttribute("oninput","return;"),Ku=typeof nf.oninput=="function"}Wu=Ku}else Wu=!1;tf=Wu&&(!document.documentMode||9<document.documentMode)}function rf(){Vs&&(Vs.detachEvent("onpropertychange",of),Ds=Vs=null)}function of(t){if(t.propertyName==="value"&&tl(Ds)){var r=[];ef(r,Ds,t,Yi(t)),_s(Av,r)}}function kv(t,r,a){t==="focusin"?(rf(),Vs=r,Ds=a,Vs.attachEvent("onpropertychange",of)):t==="focusout"&&rf()}function xv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tl(Ds)}function Nv(t,r){if(t==="click")return tl(r)}function Vv(t,r){if(t==="input"||t==="change")return tl(r)}function Dv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var kn=typeof Object.is=="function"?Object.is:Dv;function Ls(t,r){if(kn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(r,d)||!kn(t[d],r[d]))return!1}return!0}function sf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function af(t,r){var a=sf(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=r&&c>=r)return{node:a,offset:r-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sf(a)}}function lf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?lf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function uf(){for(var t=window,r=Ir();r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ir(t.document)}return r}function Qu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Lv(t){var r=uf(),a=t.focusedElem,c=t.selectionRange;if(r!==a&&a&&a.ownerDocument&&lf(a.ownerDocument.documentElement,a)){if(c!==null&&Qu(a)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(t,a.value.length);else if(t=(r=a.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!t.extend&&m>c&&(d=c,c=m,m=d),d=af(a,m);var _=af(a,c);d&&_&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),t.removeAllRanges(),m>c?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=a;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)t=r[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ov=f&&"documentMode"in document&&11>=document.documentMode,_o=null,Gu=null,Os=null,Yu=!1;function cf(t,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yu||_o==null||_o!==Ir(c)||(c=_o,"selectionStart"in c&&Qu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Os&&Ls(Os,c)||(Os=c,c=ol(Gu,"onSelect"),0<c.length&&(r=new co("onSelect","select",null,r,a),t.push({event:r,listeners:c}),r.target=_o)))}function nl(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Eo={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionend:nl("Transition","TransitionEnd")},Xu={},hf={};f&&(hf=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function rl(t){if(Xu[t])return Xu[t];if(!Eo[t])return t;var r=Eo[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in hf)return Xu[t]=r[a];return t}var df=rl("animationend"),ff=rl("animationiteration"),pf=rl("animationstart"),mf=rl("transitionend"),gf=new Map,yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(t,r){gf.set(t,r),u(r,[t])}for(var Ju=0;Ju<yf.length;Ju++){var Zu=yf[Ju],Mv=Zu.toLowerCase(),bv=Zu[0].toUpperCase()+Zu.slice(1);Or(Mv,"on"+bv)}Or(df,"onAnimationEnd"),Or(ff,"onAnimationIteration"),Or(pf,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(mf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ms));function vf(t,r,a){var c=t.type||"unknown-event";t.currentTarget=a,Da(c,r,void 0,t),t.currentTarget=null}function _f(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],d=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var _=c.length-1;0<=_;_--){var C=c[_],P=C.instance,z=C.currentTarget;if(C=C.listener,P!==m&&d.isPropagationStopped())break e;vf(d,C,z),m=P}else for(_=0;_<c.length;_++){if(C=c[_],P=C.instance,z=C.currentTarget,C=C.listener,P!==m&&d.isPropagationStopped())break e;vf(d,C,z),m=P}}}if(wn)throw t=Es,wn=!1,Es=null,t}function We(t,r){var a=r[ac];a===void 0&&(a=r[ac]=new Set);var c=t+"__bubble";a.has(c)||(Ef(r,t,2,!1),a.add(c))}function ec(t,r,a){var c=0;r&&(c|=4),Ef(a,t,c,r)}var il="_reactListening"+Math.random().toString(36).slice(2);function bs(t){if(!t[il]){t[il]=!0,o.forEach(function(a){a!=="selectionchange"&&(Fv.has(a)||ec(a,!1,t),ec(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[il]||(r[il]=!0,ec("selectionchange",!1,r))}}function Ef(t,r,a,c){switch(As(r)){case 1:var d=Ge;break;case 4:d=qu;break;default:d=Rs}a=d.bind(null,r,a,t),d=void 0,!Zi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(r,a,{capture:!0,passive:d}):t.addEventListener(r,a,!0):d!==void 0?t.addEventListener(r,a,{passive:d}):t.addEventListener(r,a,!1)}function tc(t,r,a,c,d){var m=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var C=c.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;_=_.return}for(;C!==null;){if(_=Ci(C),_===null)return;if(P=_.tag,P===5||P===6){c=m=_;continue e}C=C.parentNode}}c=c.return}_s(function(){var z=m,J=Yi(a),Z=[];e:{var X=gf.get(t);if(X!==void 0){var oe=co,ce=t;switch(t){case"keypress":if(uo(a)===0)break e;case"keydown":case"keyup":oe=p;break;case"focusin":ce="focus",oe=mo;break;case"focusout":ce="blur",oe=mo;break;case"beforeblur":case"afterblur":oe=mo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Qa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=q;break;case df:case ff:case pf:oe=ur;break;case mf:oe=Be;break;case"scroll":oe=Hu;break;case"wheel":oe=Ve;break;case"copy":case"cut":case"paste":oe=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=w}var he=(r&4)!==0,it=!he&&t==="scroll",U=he?X!==null?X+"Capture":null:X;he=[];for(var V=z,B;V!==null;){B=V;var ee=B.stateNode;if(B.tag===5&&ee!==null&&(B=ee,U!==null&&(ee=rt(V,U),ee!=null&&he.push(Fs(V,ee,B)))),it)break;V=V.return}0<he.length&&(X=new oe(X,ce,null,a,J),Z.push({event:X,listeners:he}))}}if(!(r&7)){e:{if(X=t==="mouseover"||t==="pointerover",oe=t==="mouseout"||t==="pointerout",X&&a!==di&&(ce=a.relatedTarget||a.fromElement)&&(Ci(ce)||ce[cr]))break e;if((oe||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,oe?(ce=a.relatedTarget||a.toElement,oe=z,ce=ce?Ci(ce):null,ce!==null&&(it=Tn(ce),ce!==it||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(oe=null,ce=z),oe!==ce)){if(he=fo,ee="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(he=w,ee="onPointerLeave",U="onPointerEnter",V="pointer"),it=oe==null?X:So(oe),B=ce==null?X:So(ce),X=new he(ee,V+"leave",oe,a,J),X.target=it,X.relatedTarget=B,ee=null,Ci(J)===z&&(he=new he(U,V+"enter",ce,a,J),he.target=B,he.relatedTarget=it,ee=he),it=ee,oe&&ce)t:{for(he=oe,U=ce,V=0,B=he;B;B=wo(B))V++;for(B=0,ee=U;ee;ee=wo(ee))B++;for(;0<V-B;)he=wo(he),V--;for(;0<B-V;)U=wo(U),B--;for(;V--;){if(he===U||U!==null&&he===U.alternate)break t;he=wo(he),U=wo(U)}he=null}else he=null;oe!==null&&wf(Z,X,oe,he,!1),ce!==null&&it!==null&&wf(Z,it,ce,he,!0)}}e:{if(X=z?So(z):window,oe=X.nodeName&&X.nodeName.toLowerCase(),oe==="select"||oe==="input"&&X.type==="file")var fe=Pv;else if(Zd(X))if(tf)fe=Vv;else{fe=xv;var ye=kv}else(oe=X.nodeName)&&oe.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(fe=Nv);if(fe&&(fe=fe(t,z))){ef(Z,fe,a,J);break e}ye&&ye(t,X,z),t==="focusout"&&(ye=X._wrapperState)&&ye.controlled&&X.type==="number"&&Ki(X,"number",X.value)}switch(ye=z?So(z):window,t){case"focusin":(Zd(ye)||ye.contentEditable==="true")&&(_o=ye,Gu=z,Os=null);break;case"focusout":Os=Gu=_o=null;break;case"mousedown":Yu=!0;break;case"contextmenu":case"mouseup":case"dragend":Yu=!1,cf(Z,a,J);break;case"selectionchange":if(Ov)break;case"keydown":case"keyup":cf(Z,a,J)}var ve;if(st)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else vo?Xd(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(Ii&&a.locale!=="ko"&&(vo||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&vo&&(ve=Ps()):(nn=J,lo="value"in nn?nn.value:nn.textContent,vo=!0)),ye=ol(z,_e),0<ye.length&&(_e=new Ns(_e,t,null,a,J),Z.push({event:_e,listeners:ye}),ve?_e.data=ve:(ve=Jd(a),ve!==null&&(_e.data=ve)))),(ve=rn?Iv(t,a):Cv(t,a))&&(z=ol(z,"onBeforeInput"),0<z.length&&(J=new Ns("onBeforeInput","beforeinput",null,a,J),Z.push({event:J,listeners:z}),J.data=ve))}_f(Z,r)})}function Fs(t,r,a){return{instance:t,listener:r,currentTarget:a}}function ol(t,r){for(var a=r+"Capture",c=[];t!==null;){var d=t,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=rt(t,a),m!=null&&c.unshift(Fs(t,m,d)),m=rt(t,r),m!=null&&c.push(Fs(t,m,d))),t=t.return}return c}function wo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wf(t,r,a,c,d){for(var m=r._reactName,_=[];a!==null&&a!==c;){var C=a,P=C.alternate,z=C.stateNode;if(P!==null&&P===c)break;C.tag===5&&z!==null&&(C=z,d?(P=rt(a,m),P!=null&&_.unshift(Fs(a,P,C))):d||(P=rt(a,m),P!=null&&_.push(Fs(a,P,C)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var Uv=/\r\n?/g,Bv=/\u0000|\uFFFD/g;function Tf(t){return(typeof t=="string"?t:""+t).replace(Uv,`
`).replace(Bv,"")}function sl(t,r,a){if(r=Tf(r),Tf(t)!==r&&a)throw Error(n(425))}function al(){}var nc=null,rc=null;function ic(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var oc=typeof setTimeout=="function"?setTimeout:void 0,jv=typeof clearTimeout=="function"?clearTimeout:void 0,Sf=typeof Promise=="function"?Promise:void 0,zv=typeof queueMicrotask=="function"?queueMicrotask:typeof Sf<"u"?function(t){return Sf.resolve(null).then(t).catch($v)}:oc;function $v(t){setTimeout(function(){throw t})}function sc(t,r){var a=r,c=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){t.removeChild(d),An(r);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);An(r)}function Mr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function If(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}var To=Math.random().toString(36).slice(2),Hn="__reactFiber$"+To,Us="__reactProps$"+To,cr="__reactContainer$"+To,ac="__reactEvents$"+To,qv="__reactListeners$"+To,Hv="__reactHandles$"+To;function Ci(t){var r=t[Hn];if(r)return r;for(var a=t.parentNode;a;){if(r=a[cr]||a[Hn]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=If(t);t!==null;){if(a=t[Hn])return a;t=If(t)}return r}t=a,a=t.parentNode}return null}function Bs(t){return t=t[Hn]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function So(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function ll(t){return t[Us]||null}var lc=[],Io=-1;function br(t){return{current:t}}function Ke(t){0>Io||(t.current=lc[Io],lc[Io]=null,Io--)}function He(t,r){Io++,lc[Io]=t.current,t.current=r}var Fr={},Vt=br(Fr),Ht=br(!1),Ri=Fr;function Co(t,r){var a=t.type.contextTypes;if(!a)return Fr;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=r[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function Wt(t){return t=t.childContextTypes,t!=null}function ul(){Ke(Ht),Ke(Vt)}function Cf(t,r,a){if(Vt.current!==Fr)throw Error(n(168));He(Vt,r),He(Ht,a)}function Rf(t,r,a){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in r))throw Error(n(108,be(t)||"Unknown",d));return se({},a,c)}function cl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fr,Ri=Vt.current,He(Vt,t),He(Ht,Ht.current),!0}function Af(t,r,a){var c=t.stateNode;if(!c)throw Error(n(169));a?(t=Rf(t,r,Ri),c.__reactInternalMemoizedMergedChildContext=t,Ke(Ht),Ke(Vt),He(Vt,t)):Ke(Ht),He(Ht,a)}var hr=null,hl=!1,uc=!1;function Pf(t){hr===null?hr=[t]:hr.push(t)}function Wv(t){hl=!0,Pf(t)}function Ur(){if(!uc&&hr!==null){uc=!0;var t=0,r=ke;try{var a=hr;for(ke=1;t<a.length;t++){var c=a[t];do c=c(!0);while(c!==null)}hr=null,hl=!1}catch(d){throw hr!==null&&(hr=hr.slice(t+1)),ro(yi,Ur),d}finally{ke=r,uc=!1}}return null}var Ro=[],Ao=0,dl=null,fl=0,fn=[],pn=0,Ai=null,dr=1,fr="";function Pi(t,r){Ro[Ao++]=fl,Ro[Ao++]=dl,dl=t,fl=r}function kf(t,r,a){fn[pn++]=dr,fn[pn++]=fr,fn[pn++]=Ai,Ai=t;var c=dr;t=fr;var d=32-Ut(c)-1;c&=~(1<<d),a+=1;var m=32-Ut(r)+d;if(30<m){var _=d-d%5;m=(c&(1<<_)-1).toString(32),c>>=_,d-=_,dr=1<<32-Ut(r)+d|a<<d|c,fr=m+t}else dr=1<<m|a<<d|c,fr=t}function cc(t){t.return!==null&&(Pi(t,1),kf(t,1,0))}function hc(t){for(;t===dl;)dl=Ro[--Ao],Ro[Ao]=null,fl=Ro[--Ao],Ro[Ao]=null;for(;t===Ai;)Ai=fn[--pn],fn[pn]=null,fr=fn[--pn],fn[pn]=null,dr=fn[--pn],fn[pn]=null}var on=null,sn=null,Ye=!1,xn=null;function xf(t,r){var a=vn(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=t,r=t.deletions,r===null?(t.deletions=[a],t.flags|=16):r.push(a)}function Nf(t,r){switch(t.tag){case 5:var a=t.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,on=t,sn=Mr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,on=t,sn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Ai!==null?{id:dr,overflow:fr}:null,t.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=vn(18,null,null,0),a.stateNode=r,a.return=t,t.child=a,on=t,sn=null,!0):!1;default:return!1}}function dc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fc(t){if(Ye){var r=sn;if(r){var a=r;if(!Nf(t,r)){if(dc(t))throw Error(n(418));r=Mr(a.nextSibling);var c=on;r&&Nf(t,r)?xf(c,a):(t.flags=t.flags&-4097|2,Ye=!1,on=t)}}else{if(dc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ye=!1,on=t}}}function Vf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;on=t}function pl(t){if(t!==on)return!1;if(!Ye)return Vf(t),Ye=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!ic(t.type,t.memoizedProps)),r&&(r=sn)){if(dc(t))throw Df(),Error(n(418));for(;r;)xf(t,r),r=Mr(r.nextSibling)}if(Vf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(r===0){sn=Mr(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}t=t.nextSibling}sn=null}}else sn=on?Mr(t.stateNode.nextSibling):null;return!0}function Df(){for(var t=sn;t;)t=Mr(t.nextSibling)}function Po(){sn=on=null,Ye=!1}function pc(t){xn===null?xn=[t]:xn.push(t)}var Kv=de.ReactCurrentBatchConfig;function js(t,r,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,t));var d=c,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(_){var C=d.refs;_===null?delete C[m]:C[m]=_},r._stringRef=m,r)}if(typeof t!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,t))}return t}function ml(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Lf(t){var r=t._init;return r(t._payload)}function Of(t){function r(U,V){if(t){var B=U.deletions;B===null?(U.deletions=[V],U.flags|=16):B.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)r(U,V),V=V.sibling;return null}function c(U,V){for(U=new Map;V!==null;)V.key!==null?U.set(V.key,V):U.set(V.index,V),V=V.sibling;return U}function d(U,V){return U=Kr(U,V),U.index=0,U.sibling=null,U}function m(U,V,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<V?(U.flags|=2,V):B):(U.flags|=2,V)):(U.flags|=1048576,V)}function _(U){return t&&U.alternate===null&&(U.flags|=2),U}function C(U,V,B,ee){return V===null||V.tag!==6?(V=oh(B,U.mode,ee),V.return=U,V):(V=d(V,B),V.return=U,V)}function P(U,V,B,ee){var fe=B.type;return fe===N?J(U,V,B.props.children,ee,B.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Nt&&Lf(fe)===V.type)?(ee=d(V,B.props),ee.ref=js(U,V,B),ee.return=U,ee):(ee=Ul(B.type,B.key,B.props,null,U.mode,ee),ee.ref=js(U,V,B),ee.return=U,ee)}function z(U,V,B,ee){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=sh(B,U.mode,ee),V.return=U,V):(V=d(V,B.children||[]),V.return=U,V)}function J(U,V,B,ee,fe){return V===null||V.tag!==7?(V=Mi(B,U.mode,ee,fe),V.return=U,V):(V=d(V,B),V.return=U,V)}function Z(U,V,B){if(typeof V=="string"&&V!==""||typeof V=="number")return V=oh(""+V,U.mode,B),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Ie:return B=Ul(V.type,V.key,V.props,null,U.mode,B),B.ref=js(U,null,V),B.return=U,B;case Se:return V=sh(V,U.mode,B),V.return=U,V;case Nt:var ee=V._init;return Z(U,ee(V._payload),B)}if(tr(V)||ge(V))return V=Mi(V,U.mode,B,null),V.return=U,V;ml(U,V)}return null}function X(U,V,B,ee){var fe=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return fe!==null?null:C(U,V,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Ie:return B.key===fe?P(U,V,B,ee):null;case Se:return B.key===fe?z(U,V,B,ee):null;case Nt:return fe=B._init,X(U,V,fe(B._payload),ee)}if(tr(B)||ge(B))return fe!==null?null:J(U,V,B,ee,null);ml(U,B)}return null}function oe(U,V,B,ee,fe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return U=U.get(B)||null,C(V,U,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Ie:return U=U.get(ee.key===null?B:ee.key)||null,P(V,U,ee,fe);case Se:return U=U.get(ee.key===null?B:ee.key)||null,z(V,U,ee,fe);case Nt:var ye=ee._init;return oe(U,V,B,ye(ee._payload),fe)}if(tr(ee)||ge(ee))return U=U.get(B)||null,J(V,U,ee,fe,null);ml(V,ee)}return null}function ce(U,V,B,ee){for(var fe=null,ye=null,ve=V,_e=V=0,wt=null;ve!==null&&_e<B.length;_e++){ve.index>_e?(wt=ve,ve=null):wt=ve.sibling;var Me=X(U,ve,B[_e],ee);if(Me===null){ve===null&&(ve=wt);break}t&&ve&&Me.alternate===null&&r(U,ve),V=m(Me,V,_e),ye===null?fe=Me:ye.sibling=Me,ye=Me,ve=wt}if(_e===B.length)return a(U,ve),Ye&&Pi(U,_e),fe;if(ve===null){for(;_e<B.length;_e++)ve=Z(U,B[_e],ee),ve!==null&&(V=m(ve,V,_e),ye===null?fe=ve:ye.sibling=ve,ye=ve);return Ye&&Pi(U,_e),fe}for(ve=c(U,ve);_e<B.length;_e++)wt=oe(ve,U,_e,B[_e],ee),wt!==null&&(t&&wt.alternate!==null&&ve.delete(wt.key===null?_e:wt.key),V=m(wt,V,_e),ye===null?fe=wt:ye.sibling=wt,ye=wt);return t&&ve.forEach(function(Qr){return r(U,Qr)}),Ye&&Pi(U,_e),fe}function he(U,V,B,ee){var fe=ge(B);if(typeof fe!="function")throw Error(n(150));if(B=fe.call(B),B==null)throw Error(n(151));for(var ye=fe=null,ve=V,_e=V=0,wt=null,Me=B.next();ve!==null&&!Me.done;_e++,Me=B.next()){ve.index>_e?(wt=ve,ve=null):wt=ve.sibling;var Qr=X(U,ve,Me.value,ee);if(Qr===null){ve===null&&(ve=wt);break}t&&ve&&Qr.alternate===null&&r(U,ve),V=m(Qr,V,_e),ye===null?fe=Qr:ye.sibling=Qr,ye=Qr,ve=wt}if(Me.done)return a(U,ve),Ye&&Pi(U,_e),fe;if(ve===null){for(;!Me.done;_e++,Me=B.next())Me=Z(U,Me.value,ee),Me!==null&&(V=m(Me,V,_e),ye===null?fe=Me:ye.sibling=Me,ye=Me);return Ye&&Pi(U,_e),fe}for(ve=c(U,ve);!Me.done;_e++,Me=B.next())Me=oe(ve,U,_e,Me.value,ee),Me!==null&&(t&&Me.alternate!==null&&ve.delete(Me.key===null?_e:Me.key),V=m(Me,V,_e),ye===null?fe=Me:ye.sibling=Me,ye=Me);return t&&ve.forEach(function(R_){return r(U,R_)}),Ye&&Pi(U,_e),fe}function it(U,V,B,ee){if(typeof B=="object"&&B!==null&&B.type===N&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case Ie:e:{for(var fe=B.key,ye=V;ye!==null;){if(ye.key===fe){if(fe=B.type,fe===N){if(ye.tag===7){a(U,ye.sibling),V=d(ye,B.props.children),V.return=U,U=V;break e}}else if(ye.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Nt&&Lf(fe)===ye.type){a(U,ye.sibling),V=d(ye,B.props),V.ref=js(U,ye,B),V.return=U,U=V;break e}a(U,ye);break}else r(U,ye);ye=ye.sibling}B.type===N?(V=Mi(B.props.children,U.mode,ee,B.key),V.return=U,U=V):(ee=Ul(B.type,B.key,B.props,null,U.mode,ee),ee.ref=js(U,V,B),ee.return=U,U=ee)}return _(U);case Se:e:{for(ye=B.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(U,V.sibling),V=d(V,B.children||[]),V.return=U,U=V;break e}else{a(U,V);break}else r(U,V);V=V.sibling}V=sh(B,U.mode,ee),V.return=U,U=V}return _(U);case Nt:return ye=B._init,it(U,V,ye(B._payload),ee)}if(tr(B))return ce(U,V,B,ee);if(ge(B))return he(U,V,B,ee);ml(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,V!==null&&V.tag===6?(a(U,V.sibling),V=d(V,B),V.return=U,U=V):(a(U,V),V=oh(B,U.mode,ee),V.return=U,U=V),_(U)):a(U,V)}return it}var ko=Of(!0),Mf=Of(!1),gl=br(null),yl=null,xo=null,mc=null;function gc(){mc=xo=yl=null}function yc(t){var r=gl.current;Ke(gl),t._currentValue=r}function vc(t,r,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===a)break;t=t.return}}function No(t,r){yl=t,mc=xo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Kt=!0),t.firstContext=null)}function mn(t){var r=t._currentValue;if(mc!==t)if(t={context:t,memoizedValue:r,next:null},xo===null){if(yl===null)throw Error(n(308));xo=t,yl.dependencies={lanes:0,firstContext:t}}else xo=xo.next=t;return r}var ki=null;function _c(t){ki===null?ki=[t]:ki.push(t)}function bf(t,r,a,c){var d=r.interleaved;return d===null?(a.next=a,_c(r)):(a.next=d.next,d.next=a),r.interleaved=a,pr(t,c)}function pr(t,r){t.lanes|=r;var a=t.alternate;for(a!==null&&(a.lanes|=r),a=t,t=t.return;t!==null;)t.childLanes|=r,a=t.alternate,a!==null&&(a.childLanes|=r),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Br=!1;function Ec(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ff(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function jr(t,r,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,Oe&2){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,pr(t,a)}return d=c.interleaved,d===null?(r.next=r,_c(c)):(r.next=d.next,d.next=r),c.interleaved=r,pr(t,a)}function vl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,xr(t,a)}}function Uf(t,r){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?d=m=r:m=m.next=r}else d=m=r;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}function _l(t,r,a,c){var d=t.updateQueue;Br=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var P=C,z=P.next;P.next=null,_===null?m=z:_.next=z,_=P;var J=t.alternate;J!==null&&(J=J.updateQueue,C=J.lastBaseUpdate,C!==_&&(C===null?J.firstBaseUpdate=z:C.next=z,J.lastBaseUpdate=P))}if(m!==null){var Z=d.baseState;_=0,J=z=P=null,C=m;do{var X=C.lane,oe=C.eventTime;if((c&X)===X){J!==null&&(J=J.next={eventTime:oe,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ce=t,he=C;switch(X=r,oe=a,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){Z=ce.call(oe,Z,X);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,X=typeof ce=="function"?ce.call(oe,Z,X):ce,X==null)break e;Z=se({},Z,X);break e;case 2:Br=!0}}C.callback!==null&&C.lane!==0&&(t.flags|=64,X=d.effects,X===null?d.effects=[C]:X.push(C))}else oe={eventTime:oe,lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},J===null?(z=J=oe,P=Z):J=J.next=oe,_|=X;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;X=C,C=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);if(J===null&&(P=Z),d.baseState=P,d.firstBaseUpdate=z,d.lastBaseUpdate=J,r=d.shared.interleaved,r!==null){d=r;do _|=d.lane,d=d.next;while(d!==r)}else m===null&&(d.shared.lanes=0);Vi|=_,t.lanes=_,t.memoizedState=Z}}function Bf(t,r,a){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(n(191,d));d.call(c)}}}var zs={},Wn=br(zs),$s=br(zs),qs=br(zs);function xi(t){if(t===zs)throw Error(n(174));return t}function wc(t,r){switch(He(qs,r),He($s,t),He(Wn,zs),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ht(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ht(r,t)}Ke(Wn),He(Wn,r)}function Vo(){Ke(Wn),Ke($s),Ke(qs)}function jf(t){xi(qs.current);var r=xi(Wn.current),a=ht(r,t.type);r!==a&&(He($s,t),He(Wn,a))}function Tc(t){$s.current===t&&(Ke(Wn),Ke($s))}var Je=br(0);function El(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Sc=[];function Ic(){for(var t=0;t<Sc.length;t++)Sc[t]._workInProgressVersionPrimary=null;Sc.length=0}var wl=de.ReactCurrentDispatcher,Cc=de.ReactCurrentBatchConfig,Ni=0,Ze=null,ft=null,_t=null,Tl=!1,Hs=!1,Ws=0,Qv=0;function Dt(){throw Error(n(321))}function Rc(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!kn(t[a],r[a]))return!1;return!0}function Ac(t,r,a,c,d,m){if(Ni=m,Ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,wl.current=t===null||t.memoizedState===null?Jv:Zv,t=a(c,d),Hs){m=0;do{if(Hs=!1,Ws=0,25<=m)throw Error(n(301));m+=1,_t=ft=null,r.updateQueue=null,wl.current=e_,t=a(c,d)}while(Hs)}if(wl.current=Cl,r=ft!==null&&ft.next!==null,Ni=0,_t=ft=Ze=null,Tl=!1,r)throw Error(n(300));return t}function Pc(){var t=Ws!==0;return Ws=0,t}function Kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ze.memoizedState=_t=t:_t=_t.next=t,_t}function gn(){if(ft===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var r=_t===null?Ze.memoizedState:_t.next;if(r!==null)_t=r,ft=t;else{if(t===null)throw Error(n(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},_t===null?Ze.memoizedState=_t=t:_t=_t.next=t}return _t}function Ks(t,r){return typeof r=="function"?r(t):r}function kc(t){var r=gn(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var c=ft,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var C=_=null,P=null,z=m;do{var J=z.lane;if((Ni&J)===J)P!==null&&(P=P.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:t(c,z.action);else{var Z={lane:J,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};P===null?(C=P=Z,_=c):P=P.next=Z,Ze.lanes|=J,Vi|=J}z=z.next}while(z!==null&&z!==m);P===null?_=c:P.next=C,kn(c,r.memoizedState)||(Kt=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=P,a.lastRenderedState=c}if(t=a.interleaved,t!==null){d=t;do m=d.lane,Ze.lanes|=m,Vi|=m,d=d.next;while(d!==t)}else d===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function xc(t){var r=gn(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var c=a.dispatch,d=a.pending,m=r.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do m=t(m,_.action),_=_.next;while(_!==d);kn(m,r.memoizedState)||(Kt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,c]}function zf(){}function $f(t,r){var a=Ze,c=gn(),d=r(),m=!kn(c.memoizedState,d);if(m&&(c.memoizedState=d,Kt=!0),c=c.queue,Nc(Wf.bind(null,a,c,t),[t]),c.getSnapshot!==r||m||_t!==null&&_t.memoizedState.tag&1){if(a.flags|=2048,Qs(9,Hf.bind(null,a,c,d,r),void 0,null),Et===null)throw Error(n(349));Ni&30||qf(a,r,d)}return d}function qf(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ze.updateQueue,r===null?(r={lastEffect:null,stores:null},Ze.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Hf(t,r,a,c){r.value=a,r.getSnapshot=c,Kf(r)&&Qf(t)}function Wf(t,r,a){return a(function(){Kf(r)&&Qf(t)})}function Kf(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!kn(t,a)}catch{return!0}}function Qf(t){var r=pr(t,1);r!==null&&Ln(r,t,1,-1)}function Gf(t){var r=Kn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:t},r.queue=t,t=t.dispatch=Xv.bind(null,Ze,t),[r.memoizedState,t]}function Qs(t,r,a,c){return t={tag:t,create:r,destroy:a,deps:c,next:null},r=Ze.updateQueue,r===null?(r={lastEffect:null,stores:null},Ze.updateQueue=r,r.lastEffect=t.next=t):(a=r.lastEffect,a===null?r.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,r.lastEffect=t)),t}function Yf(){return gn().memoizedState}function Sl(t,r,a,c){var d=Kn();Ze.flags|=t,d.memoizedState=Qs(1|r,a,void 0,c===void 0?null:c)}function Il(t,r,a,c){var d=gn();c=c===void 0?null:c;var m=void 0;if(ft!==null){var _=ft.memoizedState;if(m=_.destroy,c!==null&&Rc(c,_.deps)){d.memoizedState=Qs(r,a,m,c);return}}Ze.flags|=t,d.memoizedState=Qs(1|r,a,m,c)}function Xf(t,r){return Sl(8390656,8,t,r)}function Nc(t,r){return Il(2048,8,t,r)}function Jf(t,r){return Il(4,2,t,r)}function Zf(t,r){return Il(4,4,t,r)}function ep(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function tp(t,r,a){return a=a!=null?a.concat([t]):null,Il(4,4,ep.bind(null,r,t),a)}function Vc(){}function np(t,r){var a=gn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Rc(r,c[1])?c[0]:(a.memoizedState=[t,r],t)}function rp(t,r){var a=gn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Rc(r,c[1])?c[0]:(t=t(),a.memoizedState=[t,r],t)}function ip(t,r,a){return Ni&21?(kn(a,r)||(a=Ei(),Ze.lanes|=a,Vi|=a,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=a)}function Gv(t,r){var a=ke;ke=a!==0&&4>a?a:4,t(!0);var c=Cc.transition;Cc.transition={};try{t(!1),r()}finally{ke=a,Cc.transition=c}}function op(){return gn().memoizedState}function Yv(t,r,a){var c=Hr(t);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},sp(t))ap(r,a);else if(a=bf(t,r,a,c),a!==null){var d=zt();Ln(a,t,c,d),lp(a,r,c)}}function Xv(t,r,a){var c=Hr(t),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(sp(t))ap(r,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,C=m(_,a);if(d.hasEagerState=!0,d.eagerState=C,kn(C,_)){var P=r.interleaved;P===null?(d.next=d,_c(r)):(d.next=P.next,P.next=d),r.interleaved=d;return}}catch{}finally{}a=bf(t,r,d,c),a!==null&&(d=zt(),Ln(a,t,c,d),lp(a,r,c))}}function sp(t){var r=t.alternate;return t===Ze||r!==null&&r===Ze}function ap(t,r){Hs=Tl=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function lp(t,r,a){if(a&4194240){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,xr(t,a)}}var Cl={readContext:mn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},Jv={readContext:mn,useCallback:function(t,r){return Kn().memoizedState=[t,r===void 0?null:r],t},useContext:mn,useEffect:Xf,useImperativeHandle:function(t,r,a){return a=a!=null?a.concat([t]):null,Sl(4194308,4,ep.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Sl(4194308,4,t,r)},useInsertionEffect:function(t,r){return Sl(4,2,t,r)},useMemo:function(t,r){var a=Kn();return r=r===void 0?null:r,t=t(),a.memoizedState=[t,r],t},useReducer:function(t,r,a){var c=Kn();return r=a!==void 0?a(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=Yv.bind(null,Ze,t),[c.memoizedState,t]},useRef:function(t){var r=Kn();return t={current:t},r.memoizedState=t},useState:Gf,useDebugValue:Vc,useDeferredValue:function(t){return Kn().memoizedState=t},useTransition:function(){var t=Gf(!1),r=t[0];return t=Gv.bind(null,t[1]),Kn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,a){var c=Ze,d=Kn();if(Ye){if(a===void 0)throw Error(n(407));a=a()}else{if(a=r(),Et===null)throw Error(n(349));Ni&30||qf(c,r,a)}d.memoizedState=a;var m={value:a,getSnapshot:r};return d.queue=m,Xf(Wf.bind(null,c,m,t),[t]),c.flags|=2048,Qs(9,Hf.bind(null,c,m,a,r),void 0,null),a},useId:function(){var t=Kn(),r=Et.identifierPrefix;if(Ye){var a=fr,c=dr;a=(c&~(1<<32-Ut(c)-1)).toString(32)+a,r=":"+r+"R"+a,a=Ws++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=Qv++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Zv={readContext:mn,useCallback:np,useContext:mn,useEffect:Nc,useImperativeHandle:tp,useInsertionEffect:Jf,useLayoutEffect:Zf,useMemo:rp,useReducer:kc,useRef:Yf,useState:function(){return kc(Ks)},useDebugValue:Vc,useDeferredValue:function(t){var r=gn();return ip(r,ft.memoizedState,t)},useTransition:function(){var t=kc(Ks)[0],r=gn().memoizedState;return[t,r]},useMutableSource:zf,useSyncExternalStore:$f,useId:op,unstable_isNewReconciler:!1},e_={readContext:mn,useCallback:np,useContext:mn,useEffect:Nc,useImperativeHandle:tp,useInsertionEffect:Jf,useLayoutEffect:Zf,useMemo:rp,useReducer:xc,useRef:Yf,useState:function(){return xc(Ks)},useDebugValue:Vc,useDeferredValue:function(t){var r=gn();return ft===null?r.memoizedState=t:ip(r,ft.memoizedState,t)},useTransition:function(){var t=xc(Ks)[0],r=gn().memoizedState;return[t,r]},useMutableSource:zf,useSyncExternalStore:$f,useId:op,unstable_isNewReconciler:!1};function Nn(t,r){if(t&&t.defaultProps){r=se({},r),t=t.defaultProps;for(var a in t)r[a]===void 0&&(r[a]=t[a]);return r}return r}function Dc(t,r,a,c){r=t.memoizedState,a=a(c,r),a=a==null?r:se({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rl={isMounted:function(t){return(t=t._reactInternals)?Tn(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var c=zt(),d=Hr(t),m=mr(c,d);m.payload=r,a!=null&&(m.callback=a),r=jr(t,m,d),r!==null&&(Ln(r,t,d,c),vl(r,t,d))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var c=zt(),d=Hr(t),m=mr(c,d);m.tag=1,m.payload=r,a!=null&&(m.callback=a),r=jr(t,m,d),r!==null&&(Ln(r,t,d,c),vl(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=zt(),c=Hr(t),d=mr(a,c);d.tag=2,r!=null&&(d.callback=r),r=jr(t,d,c),r!==null&&(Ln(r,t,c,a),vl(r,t,c))}};function up(t,r,a,c,d,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,_):r.prototype&&r.prototype.isPureReactComponent?!Ls(a,c)||!Ls(d,m):!0}function cp(t,r,a){var c=!1,d=Fr,m=r.contextType;return typeof m=="object"&&m!==null?m=mn(m):(d=Wt(r)?Ri:Vt.current,c=r.contextTypes,m=(c=c!=null)?Co(t,d):Fr),r=new r(a,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Rl,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=m),r}function hp(t,r,a,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==t&&Rl.enqueueReplaceState(r,r.state,null)}function Lc(t,r,a,c){var d=t.stateNode;d.props=a,d.state=t.memoizedState,d.refs={},Ec(t);var m=r.contextType;typeof m=="object"&&m!==null?d.context=mn(m):(m=Wt(r)?Ri:Vt.current,d.context=Co(t,m)),d.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(Dc(t,r,m,a),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Rl.enqueueReplaceState(d,d.state,null),_l(t,a,d,c),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Do(t,r){try{var a="",c=r;do a+=Re(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:d,digest:null}}function Oc(t,r,a){return{value:t,source:null,stack:a??null,digest:r??null}}function Mc(t,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var t_=typeof WeakMap=="function"?WeakMap:Map;function dp(t,r,a){a=mr(-1,a),a.tag=3,a.payload={element:null};var c=r.value;return a.callback=function(){Dl||(Dl=!0,Xc=c),Mc(t,r)},a}function fp(t,r,a){a=mr(-1,a),a.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;a.payload=function(){return c(d)},a.callback=function(){Mc(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Mc(t,r),typeof c!="function"&&($r===null?$r=new Set([this]):$r.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),a}function pp(t,r,a){var c=t.pingCache;if(c===null){c=t.pingCache=new t_;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(a)||(d.add(a),t=m_.bind(null,t,r,a),r.then(t,t))}function mp(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function gp(t,r,a,c,d){return t.mode&1?(t.flags|=65536,t.lanes=d,t):(t===r?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=mr(-1,1),r.tag=2,jr(a,r,1))),a.lanes|=1),t)}var n_=de.ReactCurrentOwner,Kt=!1;function jt(t,r,a,c){r.child=t===null?Mf(r,null,a,c):ko(r,t.child,a,c)}function yp(t,r,a,c,d){a=a.render;var m=r.ref;return No(r,d),c=Ac(t,r,a,c,m,d),a=Pc(),t!==null&&!Kt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,gr(t,r,d)):(Ye&&a&&cc(r),r.flags|=1,jt(t,r,c,d),r.child)}function vp(t,r,a,c,d){if(t===null){var m=a.type;return typeof m=="function"&&!ih(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=m,_p(t,r,m,c,d)):(t=Ul(a.type,null,c,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!(t.lanes&d)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ls,a(_,c)&&t.ref===r.ref)return gr(t,r,d)}return r.flags|=1,t=Kr(m,c),t.ref=r.ref,t.return=r,r.child=t}function _p(t,r,a,c,d){if(t!==null){var m=t.memoizedProps;if(Ls(m,c)&&t.ref===r.ref)if(Kt=!1,r.pendingProps=c=m,(t.lanes&d)!==0)t.flags&131072&&(Kt=!0);else return r.lanes=t.lanes,gr(t,r,d)}return bc(t,r,a,c,d)}function Ep(t,r,a){var c=r.pendingProps,d=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Oo,an),an|=a;else{if(!(a&1073741824))return t=m!==null?m.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,He(Oo,an),an|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,He(Oo,an),an|=c}else m!==null?(c=m.baseLanes|a,r.memoizedState=null):c=a,He(Oo,an),an|=c;return jt(t,r,d,a),r.child}function wp(t,r){var a=r.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function bc(t,r,a,c,d){var m=Wt(a)?Ri:Vt.current;return m=Co(r,m),No(r,d),a=Ac(t,r,a,c,m,d),c=Pc(),t!==null&&!Kt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,gr(t,r,d)):(Ye&&c&&cc(r),r.flags|=1,jt(t,r,a,d),r.child)}function Tp(t,r,a,c,d){if(Wt(a)){var m=!0;cl(r)}else m=!1;if(No(r,d),r.stateNode===null)Pl(t,r),cp(r,a,c),Lc(r,a,c,d),c=!0;else if(t===null){var _=r.stateNode,C=r.memoizedProps;_.props=C;var P=_.context,z=a.contextType;typeof z=="object"&&z!==null?z=mn(z):(z=Wt(a)?Ri:Vt.current,z=Co(r,z));var J=a.getDerivedStateFromProps,Z=typeof J=="function"||typeof _.getSnapshotBeforeUpdate=="function";Z||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==c||P!==z)&&hp(r,_,c,z),Br=!1;var X=r.memoizedState;_.state=X,_l(r,c,_,d),P=r.memoizedState,C!==c||X!==P||Ht.current||Br?(typeof J=="function"&&(Dc(r,a,J,c),P=r.memoizedState),(C=Br||up(r,a,C,c,X,P,z))?(Z||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=P),_.props=c,_.state=P,_.context=z,c=C):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,Ff(t,r),C=r.memoizedProps,z=r.type===r.elementType?C:Nn(r.type,C),_.props=z,Z=r.pendingProps,X=_.context,P=a.contextType,typeof P=="object"&&P!==null?P=mn(P):(P=Wt(a)?Ri:Vt.current,P=Co(r,P));var oe=a.getDerivedStateFromProps;(J=typeof oe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==Z||X!==P)&&hp(r,_,c,P),Br=!1,X=r.memoizedState,_.state=X,_l(r,c,_,d);var ce=r.memoizedState;C!==Z||X!==ce||Ht.current||Br?(typeof oe=="function"&&(Dc(r,a,oe,c),ce=r.memoizedState),(z=Br||up(r,a,z,c,X,ce,P)||!1)?(J||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ce,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ce,P)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ce),_.props=c,_.state=ce,_.context=P,c=z):(typeof _.componentDidUpdate!="function"||C===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),c=!1)}return Fc(t,r,a,c,m,d)}function Fc(t,r,a,c,d,m){wp(t,r);var _=(r.flags&128)!==0;if(!c&&!_)return d&&Af(r,a,!1),gr(t,r,m);c=r.stateNode,n_.current=r;var C=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&_?(r.child=ko(r,t.child,null,m),r.child=ko(r,null,C,m)):jt(t,r,C,m),r.memoizedState=c.state,d&&Af(r,a,!0),r.child}function Sp(t){var r=t.stateNode;r.pendingContext?Cf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Cf(t,r.context,!1),wc(t,r.containerInfo)}function Ip(t,r,a,c,d){return Po(),pc(d),r.flags|=256,jt(t,r,a,c),r.child}var Uc={dehydrated:null,treeContext:null,retryLane:0};function Bc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Cp(t,r,a){var c=r.pendingProps,d=Je.current,m=!1,_=(r.flags&128)!==0,C;if((C=_)||(C=t!==null&&t.memoizedState===null?!1:(d&2)!==0),C?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),He(Je,d&1),t===null)return fc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=c.children,t=c.fallback,m?(c=r.mode,m=r.child,_={mode:"hidden",children:_},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=_):m=Bl(_,c,0,null),t=Mi(t,c,a,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=Bc(a),r.memoizedState=Uc,t):jc(r,_));if(d=t.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return r_(t,r,_,c,C,d,a);if(m){m=c.fallback,_=r.mode,d=t.child,C=d.sibling;var P={mode:"hidden",children:c.children};return!(_&1)&&r.child!==d?(c=r.child,c.childLanes=0,c.pendingProps=P,r.deletions=null):(c=Kr(d,P),c.subtreeFlags=d.subtreeFlags&14680064),C!==null?m=Kr(C,m):(m=Mi(m,_,a,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,_=t.child.memoizedState,_=_===null?Bc(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=t.childLanes&~a,r.memoizedState=Uc,c}return m=t.child,t=m.sibling,c=Kr(m,{mode:"visible",children:c.children}),!(r.mode&1)&&(c.lanes=a),c.return=r,c.sibling=null,t!==null&&(a=r.deletions,a===null?(r.deletions=[t],r.flags|=16):a.push(t)),r.child=c,r.memoizedState=null,c}function jc(t,r){return r=Bl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Al(t,r,a,c){return c!==null&&pc(c),ko(r,t.child,null,a),t=jc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function r_(t,r,a,c,d,m,_){if(a)return r.flags&256?(r.flags&=-257,c=Oc(Error(n(422))),Al(t,r,_,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=c.fallback,d=r.mode,c=Bl({mode:"visible",children:c.children},d,0,null),m=Mi(m,d,_,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,r.mode&1&&ko(r,t.child,null,_),r.child.memoizedState=Bc(_),r.memoizedState=Uc,m);if(!(r.mode&1))return Al(t,r,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var C=c.dgst;return c=C,m=Error(n(419)),c=Oc(m,c,void 0),Al(t,r,_,c)}if(C=(_&t.childLanes)!==0,Kt||C){if(c=Et,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|_)?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,pr(t,d),Ln(c,t,d,-1))}return rh(),c=Oc(Error(n(421))),Al(t,r,_,c)}return d.data==="$?"?(r.flags|=128,r.child=t.child,r=g_.bind(null,t),d._reactRetry=r,null):(t=m.treeContext,sn=Mr(d.nextSibling),on=r,Ye=!0,xn=null,t!==null&&(fn[pn++]=dr,fn[pn++]=fr,fn[pn++]=Ai,dr=t.id,fr=t.overflow,Ai=r),r=jc(r,c.children),r.flags|=4096,r)}function Rp(t,r,a){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),vc(t.return,r,a)}function zc(t,r,a,c,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function Ap(t,r,a){var c=r.pendingProps,d=c.revealOrder,m=c.tail;if(jt(t,r,c.children,a),c=Je.current,c&2)c=c&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rp(t,a,r);else if(t.tag===19)Rp(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(He(Je,c),!(r.mode&1))r.memoizedState=null;else switch(d){case"forwards":for(a=r.child,d=null;a!==null;)t=a.alternate,t!==null&&El(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),zc(r,!1,d,a,m);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&El(t)===null){r.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}zc(r,!0,a,null,m);break;case"together":zc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Pl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function gr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Vi|=r.lanes,!(a&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,a=Kr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Kr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function i_(t,r,a){switch(r.tag){case 3:Sp(r),Po();break;case 5:jf(r);break;case 1:Wt(r.type)&&cl(r);break;case 4:wc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,d=r.memoizedProps.value;He(gl,c._currentValue),c._currentValue=d;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(He(Je,Je.current&1),r.flags|=128,null):a&r.child.childLanes?Cp(t,r,a):(He(Je,Je.current&1),t=gr(t,r,a),t!==null?t.sibling:null);He(Je,Je.current&1);break;case 19:if(c=(a&r.childLanes)!==0,t.flags&128){if(c)return Ap(t,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),He(Je,Je.current),c)break;return null;case 22:case 23:return r.lanes=0,Ep(t,r,a)}return gr(t,r,a)}var Pp,$c,kp,xp;Pp=function(t,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},$c=function(){},kp=function(t,r,a,c){var d=t.memoizedProps;if(d!==c){t=r.stateNode,xi(Wn.current);var m=null;switch(a){case"input":d=ui(t,d),c=ui(t,c),m=[];break;case"select":d=se({},d,{value:void 0}),c=se({},c,{value:void 0}),m=[];break;case"textarea":d=us(t,d),c=us(t,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=al)}ms(a,c);var _;a=null;for(z in d)if(!c.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var C=d[z];for(_ in C)C.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(s.hasOwnProperty(z)?m||(m=[]):(m=m||[]).push(z,null));for(z in c){var P=c[z];if(C=d!=null?d[z]:void 0,c.hasOwnProperty(z)&&P!==C&&(P!=null||C!=null))if(z==="style")if(C){for(_ in C)!C.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in P)P.hasOwnProperty(_)&&C[_]!==P[_]&&(a||(a={}),a[_]=P[_])}else a||(m||(m=[]),m.push(z,a)),a=P;else z==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,C=C?C.__html:void 0,P!=null&&C!==P&&(m=m||[]).push(z,P)):z==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(z,""+P):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(s.hasOwnProperty(z)?(P!=null&&z==="onScroll"&&We("scroll",t),m||C===P||(m=[])):(m=m||[]).push(z,P))}a&&(m=m||[]).push("style",a);var z=m;(r.updateQueue=z)&&(r.flags|=4)}},xp=function(t,r,a,c){a!==c&&(r.flags|=4)};function Gs(t,r){if(!Ye)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Lt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(r)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=a,r}function o_(t,r,a){var c=r.pendingProps;switch(hc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(r),null;case 1:return Wt(r.type)&&ul(),Lt(r),null;case 3:return c=r.stateNode,Vo(),Ke(Ht),Ke(Vt),Ic(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(pl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,xn!==null&&(eh(xn),xn=null))),$c(t,r),Lt(r),null;case 5:Tc(r);var d=xi(qs.current);if(a=r.type,t!==null&&r.stateNode!=null)kp(t,r,a,c,d),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return Lt(r),null}if(t=xi(Wn.current),pl(r)){c=r.stateNode,a=r.type;var m=r.memoizedProps;switch(c[Hn]=r,c[Us]=m,t=(r.mode&1)!==0,a){case"dialog":We("cancel",c),We("close",c);break;case"iframe":case"object":case"embed":We("load",c);break;case"video":case"audio":for(d=0;d<Ms.length;d++)We(Ms[d],c);break;case"source":We("error",c);break;case"img":case"image":case"link":We("error",c),We("load",c);break;case"details":We("toggle",c);break;case"input":Wi(c,m),We("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},We("invalid",c);break;case"textarea":Qi(c,m),We("invalid",c)}ms(a,m),d=null;for(var _ in m)if(m.hasOwnProperty(_)){var C=m[_];_==="children"?typeof C=="string"?c.textContent!==C&&(m.suppressHydrationWarning!==!0&&sl(c.textContent,C,t),d=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(m.suppressHydrationWarning!==!0&&sl(c.textContent,C,t),d=["children",""+C]):s.hasOwnProperty(_)&&C!=null&&_==="onScroll"&&We("scroll",c)}switch(a){case"input":er(c),Va(c,m,!0);break;case"textarea":er(c),cs(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=al)}c=d,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ct(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=_.createElement(a,{is:c.is}):(t=_.createElement(a),a==="select"&&(_=t,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):t=_.createElementNS(t,a),t[Hn]=r,t[Us]=c,Pp(t,r,!1,!1),r.stateNode=t;e:{switch(_=gs(a,c),a){case"dialog":We("cancel",t),We("close",t),d=c;break;case"iframe":case"object":case"embed":We("load",t),d=c;break;case"video":case"audio":for(d=0;d<Ms.length;d++)We(Ms[d],t);d=c;break;case"source":We("error",t),d=c;break;case"img":case"image":case"link":We("error",t),We("load",t),d=c;break;case"details":We("toggle",t),d=c;break;case"input":Wi(t,c),d=ui(t,c),We("invalid",t);break;case"option":d=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},d=se({},c,{value:void 0}),We("invalid",t);break;case"textarea":Qi(t,c),d=us(t,c),We("invalid",t);break;default:d=c}ms(a,d),C=d;for(m in C)if(C.hasOwnProperty(m)){var P=C[m];m==="style"?fs(t,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&hs(t,P)):m==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Cr(t,P):typeof P=="number"&&Cr(t,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(s.hasOwnProperty(m)?P!=null&&m==="onScroll"&&We("scroll",t):P!=null&&re(t,m,P,_))}switch(a){case"input":er(t),Va(t,c,!1);break;case"textarea":er(t),cs(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Fe(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?nr(t,!!c.multiple,m,!1):c.defaultValue!=null&&nr(t,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=al)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Lt(r),null;case 6:if(t&&r.stateNode!=null)xp(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(a=xi(qs.current),xi(Wn.current),pl(r)){if(c=r.stateNode,a=r.memoizedProps,c[Hn]=r,(m=c.nodeValue!==a)&&(t=on,t!==null))switch(t.tag){case 3:sl(c.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sl(c.nodeValue,a,(t.mode&1)!==0)}m&&(r.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Hn]=r,r.stateNode=c}return Lt(r),null;case 13:if(Ke(Je),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&sn!==null&&r.mode&1&&!(r.flags&128))Df(),Po(),r.flags|=98560,m=!1;else if(m=pl(r),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(n(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Hn]=r}else Po(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Lt(r),m=!1}else xn!==null&&(eh(xn),xn=null),m=!0;if(!m)return r.flags&65536?r:null}return r.flags&128?(r.lanes=a,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,r.mode&1&&(t===null||Je.current&1?pt===0&&(pt=3):rh())),r.updateQueue!==null&&(r.flags|=4),Lt(r),null);case 4:return Vo(),$c(t,r),t===null&&bs(r.stateNode.containerInfo),Lt(r),null;case 10:return yc(r.type._context),Lt(r),null;case 17:return Wt(r.type)&&ul(),Lt(r),null;case 19:if(Ke(Je),m=r.memoizedState,m===null)return Lt(r),null;if(c=(r.flags&128)!==0,_=m.rendering,_===null)if(c)Gs(m,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=El(t),_!==null){for(r.flags|=128,Gs(m,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=a,a=r.child;a!==null;)m=a,t=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,t=_.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return He(Je,Je.current&1|2),r.child}t=t.sibling}m.tail!==null&&qe()>Mo&&(r.flags|=128,c=!0,Gs(m,!1),r.lanes=4194304)}else{if(!c)if(t=El(_),t!==null){if(r.flags|=128,c=!0,a=t.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),Gs(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Ye)return Lt(r),null}else 2*qe()-m.renderingStartTime>Mo&&a!==1073741824&&(r.flags|=128,c=!0,Gs(m,!1),r.lanes=4194304);m.isBackwards?(_.sibling=r.child,r.child=_):(a=m.last,a!==null?a.sibling=_:r.child=_,m.last=_)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=qe(),r.sibling=null,a=Je.current,He(Je,c?a&1|2:a&1),r):(Lt(r),null);case 22:case 23:return nh(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&r.mode&1?an&1073741824&&(Lt(r),r.subtreeFlags&6&&(r.flags|=8192)):Lt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function s_(t,r){switch(hc(r),r.tag){case 1:return Wt(r.type)&&ul(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Vo(),Ke(Ht),Ke(Vt),Ic(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Tc(r),null;case 13:if(Ke(Je),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Po()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ke(Je),null;case 4:return Vo(),null;case 10:return yc(r.type._context),null;case 22:case 23:return nh(),null;case 24:return null;default:return null}}var kl=!1,Ot=!1,a_=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Lo(t,r){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){tt(t,r,c)}else a.current=null}function qc(t,r,a){try{a()}catch(c){tt(t,r,c)}}var Np=!1;function l_(t,r){if(nc=Dr,t=uf(),Qu(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,C=-1,P=-1,z=0,J=0,Z=t,X=null;t:for(;;){for(var oe;Z!==a||d!==0&&Z.nodeType!==3||(C=_+d),Z!==m||c!==0&&Z.nodeType!==3||(P=_+c),Z.nodeType===3&&(_+=Z.nodeValue.length),(oe=Z.firstChild)!==null;)X=Z,Z=oe;for(;;){if(Z===t)break t;if(X===a&&++z===d&&(C=_),X===m&&++J===c&&(P=_),(oe=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=oe}a=C===-1||P===-1?null:{start:C,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(rc={focusedElem:t,selectionRange:a},Dr=!1,ue=r;ue!==null;)if(r=ue,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ue=t;else for(;ue!==null;){r=ue;try{var ce=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,it=ce.memoizedState,U=r.stateNode,V=U.getSnapshotBeforeUpdate(r.elementType===r.type?he:Nn(r.type,he),it);U.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var B=r.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ee){tt(r,r.return,ee)}if(t=r.sibling,t!==null){t.return=r.return,ue=t;break}ue=r.return}return ce=Np,Np=!1,ce}function Ys(t,r,a){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&t)===t){var m=d.destroy;d.destroy=void 0,m!==void 0&&qc(r,a,m)}d=d.next}while(d!==c)}}function xl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var c=a.create;a.destroy=c()}a=a.next}while(a!==r)}}function Hc(t){var r=t.ref;if(r!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof r=="function"?r(t):r.current=t}}function Vp(t){var r=t.alternate;r!==null&&(t.alternate=null,Vp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Hn],delete r[Us],delete r[ac],delete r[qv],delete r[Hv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dp(t){return t.tag===5||t.tag===3||t.tag===4}function Lp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wc(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=al));else if(c!==4&&(t=t.child,t!==null))for(Wc(t,r,a),t=t.sibling;t!==null;)Wc(t,r,a),t=t.sibling}function Kc(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Kc(t,r,a),t=t.sibling;t!==null;)Kc(t,r,a),t=t.sibling}var Ct=null,Vn=!1;function zr(t,r,a){for(a=a.child;a!==null;)Op(t,r,a),a=a.sibling}function Op(t,r,a){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(vi,a)}catch{}switch(a.tag){case 5:Ot||Lo(a,r);case 6:var c=Ct,d=Vn;Ct=null,zr(t,r,a),Ct=c,Vn=d,Ct!==null&&(Vn?(t=Ct,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):Ct.removeChild(a.stateNode));break;case 18:Ct!==null&&(Vn?(t=Ct,a=a.stateNode,t.nodeType===8?sc(t.parentNode,a):t.nodeType===1&&sc(t,a),An(t)):sc(Ct,a.stateNode));break;case 4:c=Ct,d=Vn,Ct=a.stateNode.containerInfo,Vn=!0,zr(t,r,a),Ct=c,Vn=d;break;case 0:case 11:case 14:case 15:if(!Ot&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,_=m.destroy;m=m.tag,_!==void 0&&(m&2||m&4)&&qc(a,r,_),d=d.next}while(d!==c)}zr(t,r,a);break;case 1:if(!Ot&&(Lo(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){tt(a,r,C)}zr(t,r,a);break;case 21:zr(t,r,a);break;case 22:a.mode&1?(Ot=(c=Ot)||a.memoizedState!==null,zr(t,r,a),Ot=c):zr(t,r,a);break;default:zr(t,r,a)}}function Mp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new a_),r.forEach(function(c){var d=y_.bind(null,t,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Dn(t,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=t,_=r,C=_;e:for(;C!==null;){switch(C.tag){case 5:Ct=C.stateNode,Vn=!1;break e;case 3:Ct=C.stateNode.containerInfo,Vn=!0;break e;case 4:Ct=C.stateNode.containerInfo,Vn=!0;break e}C=C.return}if(Ct===null)throw Error(n(160));Op(m,_,d),Ct=null,Vn=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(z){tt(d,r,z)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)bp(r,t),r=r.sibling}function bp(t,r){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(r,t),Qn(t),c&4){try{Ys(3,t,t.return),xl(3,t)}catch(he){tt(t,t.return,he)}try{Ys(5,t,t.return)}catch(he){tt(t,t.return,he)}}break;case 1:Dn(r,t),Qn(t),c&512&&a!==null&&Lo(a,a.return);break;case 5:if(Dn(r,t),Qn(t),c&512&&a!==null&&Lo(a,a.return),t.flags&32){var d=t.stateNode;try{Cr(d,"")}catch(he){tt(t,t.return,he)}}if(c&4&&(d=t.stateNode,d!=null)){var m=t.memoizedProps,_=a!==null?a.memoizedProps:m,C=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{C==="input"&&m.type==="radio"&&m.name!=null&&as(d,m),gs(C,_);var z=gs(C,m);for(_=0;_<P.length;_+=2){var J=P[_],Z=P[_+1];J==="style"?fs(d,Z):J==="dangerouslySetInnerHTML"?hs(d,Z):J==="children"?Cr(d,Z):re(d,J,Z,z)}switch(C){case"input":ls(d,m);break;case"textarea":Gi(d,m);break;case"select":var X=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var oe=m.value;oe!=null?nr(d,!!m.multiple,oe,!1):X!==!!m.multiple&&(m.defaultValue!=null?nr(d,!!m.multiple,m.defaultValue,!0):nr(d,!!m.multiple,m.multiple?[]:"",!1))}d[Us]=m}catch(he){tt(t,t.return,he)}}break;case 6:if(Dn(r,t),Qn(t),c&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,m=t.memoizedProps;try{d.nodeValue=m}catch(he){tt(t,t.return,he)}}break;case 3:if(Dn(r,t),Qn(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{An(r.containerInfo)}catch(he){tt(t,t.return,he)}break;case 4:Dn(r,t),Qn(t);break;case 13:Dn(r,t),Qn(t),d=t.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(Yc=qe())),c&4&&Mp(t);break;case 22:if(J=a!==null&&a.memoizedState!==null,t.mode&1?(Ot=(z=Ot)||J,Dn(r,t),Ot=z):Dn(r,t),Qn(t),c&8192){if(z=t.memoizedState!==null,(t.stateNode.isHidden=z)&&!J&&t.mode&1)for(ue=t,J=t.child;J!==null;){for(Z=ue=J;ue!==null;){switch(X=ue,oe=X.child,X.tag){case 0:case 11:case 14:case 15:Ys(4,X,X.return);break;case 1:Lo(X,X.return);var ce=X.stateNode;if(typeof ce.componentWillUnmount=="function"){c=X,a=X.return;try{r=c,ce.props=r.memoizedProps,ce.state=r.memoizedState,ce.componentWillUnmount()}catch(he){tt(c,a,he)}}break;case 5:Lo(X,X.return);break;case 22:if(X.memoizedState!==null){Bp(Z);continue}}oe!==null?(oe.return=X,ue=oe):Bp(Z)}J=J.sibling}e:for(J=null,Z=t;;){if(Z.tag===5){if(J===null){J=Z;try{d=Z.stateNode,z?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(C=Z.stateNode,P=Z.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,C.style.display=ds("display",_))}catch(he){tt(t,t.return,he)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=z?"":Z.memoizedProps}catch(he){tt(t,t.return,he)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===t)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===t)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===t)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Dn(r,t),Qn(t),c&4&&Mp(t);break;case 21:break;default:Dn(r,t),Qn(t)}}function Qn(t){var r=t.flags;if(r&2){try{e:{for(var a=t.return;a!==null;){if(Dp(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Cr(d,""),c.flags&=-33);var m=Lp(t);Kc(t,m,d);break;case 3:case 4:var _=c.stateNode.containerInfo,C=Lp(t);Wc(t,C,_);break;default:throw Error(n(161))}}catch(P){tt(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function u_(t,r,a){ue=t,Fp(t)}function Fp(t,r,a){for(var c=(t.mode&1)!==0;ue!==null;){var d=ue,m=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||kl;if(!_){var C=d.alternate,P=C!==null&&C.memoizedState!==null||Ot;C=kl;var z=Ot;if(kl=_,(Ot=P)&&!z)for(ue=d;ue!==null;)_=ue,P=_.child,_.tag===22&&_.memoizedState!==null?jp(d):P!==null?(P.return=_,ue=P):jp(d);for(;m!==null;)ue=m,Fp(m),m=m.sibling;ue=d,kl=C,Ot=z}Up(t)}else d.subtreeFlags&8772&&m!==null?(m.return=d,ue=m):Up(t)}}function Up(t){for(;ue!==null;){var r=ue;if(r.flags&8772){var a=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Ot||xl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Ot)if(a===null)c.componentDidMount();else{var d=r.elementType===r.type?a.memoizedProps:Nn(r.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&Bf(r,m,c);break;case 3:var _=r.updateQueue;if(_!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}Bf(r,_,a)}break;case 5:var C=r.stateNode;if(a===null&&r.flags&4){a=C;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var z=r.alternate;if(z!==null){var J=z.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&An(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ot||r.flags&512&&Hc(r)}catch(X){tt(r,r.return,X)}}if(r===t){ue=null;break}if(a=r.sibling,a!==null){a.return=r.return,ue=a;break}ue=r.return}}function Bp(t){for(;ue!==null;){var r=ue;if(r===t){ue=null;break}var a=r.sibling;if(a!==null){a.return=r.return,ue=a;break}ue=r.return}}function jp(t){for(;ue!==null;){var r=ue;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{xl(4,r)}catch(P){tt(r,a,P)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var d=r.return;try{c.componentDidMount()}catch(P){tt(r,d,P)}}var m=r.return;try{Hc(r)}catch(P){tt(r,m,P)}break;case 5:var _=r.return;try{Hc(r)}catch(P){tt(r,_,P)}}}catch(P){tt(r,r.return,P)}if(r===t){ue=null;break}var C=r.sibling;if(C!==null){C.return=r.return,ue=C;break}ue=r.return}}var c_=Math.ceil,Nl=de.ReactCurrentDispatcher,Qc=de.ReactCurrentOwner,yn=de.ReactCurrentBatchConfig,Oe=0,Et=null,at=null,Rt=0,an=0,Oo=br(0),pt=0,Xs=null,Vi=0,Vl=0,Gc=0,Js=null,Qt=null,Yc=0,Mo=1/0,yr=null,Dl=!1,Xc=null,$r=null,Ll=!1,qr=null,Ol=0,Zs=0,Jc=null,Ml=-1,bl=0;function zt(){return Oe&6?qe():Ml!==-1?Ml:Ml=qe()}function Hr(t){return t.mode&1?Oe&2&&Rt!==0?Rt&-Rt:Kv.transition!==null?(bl===0&&(bl=Ei()),bl):(t=ke,t!==0||(t=window.event,t=t===void 0?16:As(t.type)),t):1}function Ln(t,r,a,c){if(50<Zs)throw Zs=0,Jc=null,Error(n(185));kr(t,a,c),(!(Oe&2)||t!==Et)&&(t===Et&&(!(Oe&2)&&(Vl|=a),pt===4&&Wr(t,Rt)),Gt(t,c),a===1&&Oe===0&&!(r.mode&1)&&(Mo=qe()+500,hl&&Ur()))}function Gt(t,r){var a=t.callbackNode;or(t,r);var c=_i(t,t===Et?Rt:0);if(c===0)a!==null&&Ts(a),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(a!=null&&Ts(a),r===1)t.tag===0?Wv($p.bind(null,t)):Pf($p.bind(null,t)),zv(function(){!(Oe&6)&&Ur()}),a=null;else{switch(Nr(c)){case 1:a=yi;break;case 4:a=Rr;break;case 16:a=cn;break;case 536870912:a=ba;break;default:a=cn}a=Xp(a,zp.bind(null,t))}t.callbackPriority=r,t.callbackNode=a}}function zp(t,r){if(Ml=-1,bl=0,Oe&6)throw Error(n(327));var a=t.callbackNode;if(bo()&&t.callbackNode!==a)return null;var c=_i(t,t===Et?Rt:0);if(c===0)return null;if(c&30||c&t.expiredLanes||r)r=Fl(t,c);else{r=c;var d=Oe;Oe|=2;var m=Hp();(Et!==t||Rt!==r)&&(yr=null,Mo=qe()+500,Li(t,r));do try{f_();break}catch(C){qp(t,C)}while(!0);gc(),Nl.current=m,Oe=d,at!==null?r=0:(Et=null,Rt=0,r=pt)}if(r!==0){if(r===2&&(d=tn(t),d!==0&&(c=d,r=Zc(t,d))),r===1)throw a=Xs,Li(t,0),Wr(t,c),Gt(t,qe()),a;if(r===6)Wr(t,c);else{if(d=t.current.alternate,!(c&30)&&!h_(d)&&(r=Fl(t,c),r===2&&(m=tn(t),m!==0&&(c=m,r=Zc(t,m))),r===1))throw a=Xs,Li(t,0),Wr(t,c),Gt(t,qe()),a;switch(t.finishedWork=d,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:Oi(t,Qt,yr);break;case 3:if(Wr(t,c),(c&130023424)===c&&(r=Yc+500-qe(),10<r)){if(_i(t,0)!==0)break;if(d=t.suspendedLanes,(d&c)!==c){zt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=oc(Oi.bind(null,t,Qt,yr),r);break}Oi(t,Qt,yr);break;case 4:if(Wr(t,c),(c&4194240)===c)break;for(r=t.eventTimes,d=-1;0<c;){var _=31-Ut(c);m=1<<_,_=r[_],_>d&&(d=_),c&=~m}if(c=d,c=qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*c_(c/1960))-c,10<c){t.timeoutHandle=oc(Oi.bind(null,t,Qt,yr),c);break}Oi(t,Qt,yr);break;case 5:Oi(t,Qt,yr);break;default:throw Error(n(329))}}}return Gt(t,qe()),t.callbackNode===a?zp.bind(null,t):null}function Zc(t,r){var a=Js;return t.current.memoizedState.isDehydrated&&(Li(t,r).flags|=256),t=Fl(t,r),t!==2&&(r=Qt,Qt=a,r!==null&&eh(r)),t}function eh(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function h_(t){for(var r=t;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!kn(m(),d))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Wr(t,r){for(r&=~Gc,r&=~Vl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var a=31-Ut(r),c=1<<a;t[a]=-1,r&=~c}}function $p(t){if(Oe&6)throw Error(n(327));bo();var r=_i(t,0);if(!(r&1))return Gt(t,qe()),null;var a=Fl(t,r);if(t.tag!==0&&a===2){var c=tn(t);c!==0&&(r=c,a=Zc(t,c))}if(a===1)throw a=Xs,Li(t,0),Wr(t,r),Gt(t,qe()),a;if(a===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Oi(t,Qt,yr),Gt(t,qe()),null}function th(t,r){var a=Oe;Oe|=1;try{return t(r)}finally{Oe=a,Oe===0&&(Mo=qe()+500,hl&&Ur())}}function Di(t){qr!==null&&qr.tag===0&&!(Oe&6)&&bo();var r=Oe;Oe|=1;var a=yn.transition,c=ke;try{if(yn.transition=null,ke=1,t)return t()}finally{ke=c,yn.transition=a,Oe=r,!(Oe&6)&&Ur()}}function nh(){an=Oo.current,Ke(Oo)}function Li(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,jv(a)),at!==null)for(a=at.return;a!==null;){var c=a;switch(hc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ul();break;case 3:Vo(),Ke(Ht),Ke(Vt),Ic();break;case 5:Tc(c);break;case 4:Vo();break;case 13:Ke(Je);break;case 19:Ke(Je);break;case 10:yc(c.type._context);break;case 22:case 23:nh()}a=a.return}if(Et=t,at=t=Kr(t.current,null),Rt=an=r,pt=0,Xs=null,Gc=Vl=Vi=0,Qt=Js=null,ki!==null){for(r=0;r<ki.length;r++)if(a=ki[r],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var _=m.next;m.next=d,c.next=_}a.pending=c}ki=null}return t}function qp(t,r){do{var a=at;try{if(gc(),wl.current=Cl,Tl){for(var c=Ze.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Tl=!1}if(Ni=0,_t=ft=Ze=null,Hs=!1,Ws=0,Qc.current=null,a===null||a.return===null){pt=1,Xs=r,at=null;break}e:{var m=t,_=a.return,C=a,P=r;if(r=Rt,C.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var z=P,J=C,Z=J.tag;if(!(J.mode&1)&&(Z===0||Z===11||Z===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var oe=mp(_);if(oe!==null){oe.flags&=-257,gp(oe,_,C,m,r),oe.mode&1&&pp(m,z,r),r=oe,P=z;var ce=r.updateQueue;if(ce===null){var he=new Set;he.add(P),r.updateQueue=he}else ce.add(P);break e}else{if(!(r&1)){pp(m,z,r),rh();break e}P=Error(n(426))}}else if(Ye&&C.mode&1){var it=mp(_);if(it!==null){!(it.flags&65536)&&(it.flags|=256),gp(it,_,C,m,r),pc(Do(P,C));break e}}m=P=Do(P,C),pt!==4&&(pt=2),Js===null?Js=[m]:Js.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var U=dp(m,P,r);Uf(m,U);break e;case 1:C=P;var V=m.type,B=m.stateNode;if(!(m.flags&128)&&(typeof V.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&($r===null||!$r.has(B)))){m.flags|=65536,r&=-r,m.lanes|=r;var ee=fp(m,C,r);Uf(m,ee);break e}}m=m.return}while(m!==null)}Kp(a)}catch(fe){r=fe,at===a&&a!==null&&(at=a=a.return);continue}break}while(!0)}function Hp(){var t=Nl.current;return Nl.current=Cl,t===null?Cl:t}function rh(){(pt===0||pt===3||pt===2)&&(pt=4),Et===null||!(Vi&268435455)&&!(Vl&268435455)||Wr(Et,Rt)}function Fl(t,r){var a=Oe;Oe|=2;var c=Hp();(Et!==t||Rt!==r)&&(yr=null,Li(t,r));do try{d_();break}catch(d){qp(t,d)}while(!0);if(gc(),Oe=a,Nl.current=c,at!==null)throw Error(n(261));return Et=null,Rt=0,pt}function d_(){for(;at!==null;)Wp(at)}function f_(){for(;at!==null&&!Oa();)Wp(at)}function Wp(t){var r=Yp(t.alternate,t,an);t.memoizedProps=t.pendingProps,r===null?Kp(t):at=r,Qc.current=null}function Kp(t){var r=t;do{var a=r.alternate;if(t=r.return,r.flags&32768){if(a=s_(a,r),a!==null){a.flags&=32767,at=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,at=null;return}}else if(a=o_(a,r,an),a!==null){at=a;return}if(r=r.sibling,r!==null){at=r;return}at=r=t}while(r!==null);pt===0&&(pt=5)}function Oi(t,r,a){var c=ke,d=yn.transition;try{yn.transition=null,ke=1,p_(t,r,a,c)}finally{yn.transition=d,ke=c}return null}function p_(t,r,a,c){do bo();while(qr!==null);if(Oe&6)throw Error(n(327));a=t.finishedWork;var d=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var m=a.lanes|a.childLanes;if(ze(t,m),t===Et&&(at=Et=null,Rt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Ll||(Ll=!0,Xp(cn,function(){return bo(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=yn.transition,yn.transition=null;var _=ke;ke=1;var C=Oe;Oe|=4,Qc.current=null,l_(t,a),bp(a,t),Lv(rc),Dr=!!nc,rc=nc=null,t.current=a,u_(a),Bu(),Oe=C,ke=_,yn.transition=m}else t.current=a;if(Ll&&(Ll=!1,qr=t,Ol=d),m=t.pendingLanes,m===0&&($r=null),Fa(a.stateNode),Gt(t,qe()),r!==null)for(c=t.onRecoverableError,a=0;a<r.length;a++)d=r[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Dl)throw Dl=!1,t=Xc,Xc=null,t;return Ol&1&&t.tag!==0&&bo(),m=t.pendingLanes,m&1?t===Jc?Zs++:(Zs=0,Jc=t):Zs=0,Ur(),null}function bo(){if(qr!==null){var t=Nr(Ol),r=yn.transition,a=ke;try{if(yn.transition=null,ke=16>t?16:t,qr===null)var c=!1;else{if(t=qr,qr=null,Ol=0,Oe&6)throw Error(n(331));var d=Oe;for(Oe|=4,ue=t.current;ue!==null;){var m=ue,_=m.child;if(ue.flags&16){var C=m.deletions;if(C!==null){for(var P=0;P<C.length;P++){var z=C[P];for(ue=z;ue!==null;){var J=ue;switch(J.tag){case 0:case 11:case 15:Ys(8,J,m)}var Z=J.child;if(Z!==null)Z.return=J,ue=Z;else for(;ue!==null;){J=ue;var X=J.sibling,oe=J.return;if(Vp(J),J===z){ue=null;break}if(X!==null){X.return=oe,ue=X;break}ue=oe}}}var ce=m.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var it=he.sibling;he.sibling=null,he=it}while(he!==null)}}ue=m}}if(m.subtreeFlags&2064&&_!==null)_.return=m,ue=_;else e:for(;ue!==null;){if(m=ue,m.flags&2048)switch(m.tag){case 0:case 11:case 15:Ys(9,m,m.return)}var U=m.sibling;if(U!==null){U.return=m.return,ue=U;break e}ue=m.return}}var V=t.current;for(ue=V;ue!==null;){_=ue;var B=_.child;if(_.subtreeFlags&2064&&B!==null)B.return=_,ue=B;else e:for(_=V;ue!==null;){if(C=ue,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:xl(9,C)}}catch(fe){tt(C,C.return,fe)}if(C===_){ue=null;break e}var ee=C.sibling;if(ee!==null){ee.return=C.return,ue=ee;break e}ue=C.return}}if(Oe=d,Ur(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(vi,t)}catch{}c=!0}return c}finally{ke=a,yn.transition=r}}return!1}function Qp(t,r,a){r=Do(a,r),r=dp(t,r,1),t=jr(t,r,1),r=zt(),t!==null&&(kr(t,1,r),Gt(t,r))}function tt(t,r,a){if(t.tag===3)Qp(t,t,a);else for(;r!==null;){if(r.tag===3){Qp(r,t,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($r===null||!$r.has(c))){t=Do(a,t),t=fp(r,t,1),r=jr(r,t,1),t=zt(),r!==null&&(kr(r,1,t),Gt(r,t));break}}r=r.return}}function m_(t,r,a){var c=t.pingCache;c!==null&&c.delete(r),r=zt(),t.pingedLanes|=t.suspendedLanes&a,Et===t&&(Rt&a)===a&&(pt===4||pt===3&&(Rt&130023424)===Rt&&500>qe()-Yc?Li(t,0):Gc|=a),Gt(t,r)}function Gp(t,r){r===0&&(t.mode&1?(r=oo,oo<<=1,!(oo&130023424)&&(oo=4194304)):r=1);var a=zt();t=pr(t,r),t!==null&&(kr(t,r,a),Gt(t,a))}function g_(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Gp(t,a)}function y_(t,r){var a=0;switch(t.tag){case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),Gp(t,a)}var Yp;Yp=function(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps||Ht.current)Kt=!0;else{if(!(t.lanes&a)&&!(r.flags&128))return Kt=!1,i_(t,r,a);Kt=!!(t.flags&131072)}else Kt=!1,Ye&&r.flags&1048576&&kf(r,fl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Pl(t,r),t=r.pendingProps;var d=Co(r,Vt.current);No(r,a),d=Ac(null,r,c,t,d,a);var m=Pc();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Wt(c)?(m=!0,cl(r)):m=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ec(r),d.updater=Rl,r.stateNode=d,d._reactInternals=r,Lc(r,c,t,a),r=Fc(null,r,c,!0,m,a)):(r.tag=0,Ye&&m&&cc(r),jt(null,r,d,a),r=r.child),r;case 16:c=r.elementType;e:{switch(Pl(t,r),t=r.pendingProps,d=c._init,c=d(c._payload),r.type=c,d=r.tag=__(c),t=Nn(c,t),d){case 0:r=bc(null,r,c,t,a);break e;case 1:r=Tp(null,r,c,t,a);break e;case 11:r=yp(null,r,c,t,a);break e;case 14:r=vp(null,r,c,Nn(c.type,t),a);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Nn(c,d),bc(t,r,c,d,a);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Nn(c,d),Tp(t,r,c,d,a);case 3:e:{if(Sp(r),t===null)throw Error(n(387));c=r.pendingProps,m=r.memoizedState,d=m.element,Ff(t,r),_l(r,c,null,a);var _=r.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){d=Do(Error(n(423)),r),r=Ip(t,r,c,a,d);break e}else if(c!==d){d=Do(Error(n(424)),r),r=Ip(t,r,c,a,d);break e}else for(sn=Mr(r.stateNode.containerInfo.firstChild),on=r,Ye=!0,xn=null,a=Mf(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Po(),c===d){r=gr(t,r,a);break e}jt(t,r,c,a)}r=r.child}return r;case 5:return jf(r),t===null&&fc(r),c=r.type,d=r.pendingProps,m=t!==null?t.memoizedProps:null,_=d.children,ic(c,d)?_=null:m!==null&&ic(c,m)&&(r.flags|=32),wp(t,r),jt(t,r,_,a),r.child;case 6:return t===null&&fc(r),null;case 13:return Cp(t,r,a);case 4:return wc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=ko(r,null,c,a):jt(t,r,c,a),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Nn(c,d),yp(t,r,c,d,a);case 7:return jt(t,r,r.pendingProps,a),r.child;case 8:return jt(t,r,r.pendingProps.children,a),r.child;case 12:return jt(t,r,r.pendingProps.children,a),r.child;case 10:e:{if(c=r.type._context,d=r.pendingProps,m=r.memoizedProps,_=d.value,He(gl,c._currentValue),c._currentValue=_,m!==null)if(kn(m.value,_)){if(m.children===d.children&&!Ht.current){r=gr(t,r,a);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var C=m.dependencies;if(C!==null){_=m.child;for(var P=C.firstContext;P!==null;){if(P.context===c){if(m.tag===1){P=mr(-1,a&-a),P.tag=2;var z=m.updateQueue;if(z!==null){z=z.shared;var J=z.pending;J===null?P.next=P:(P.next=J.next,J.next=P),z.pending=P}}m.lanes|=a,P=m.alternate,P!==null&&(P.lanes|=a),vc(m.return,a,r),C.lanes|=a;break}P=P.next}}else if(m.tag===10)_=m.type===r.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(n(341));_.lanes|=a,C=_.alternate,C!==null&&(C.lanes|=a),vc(_,a,r),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===r){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}jt(t,r,d.children,a),r=r.child}return r;case 9:return d=r.type,c=r.pendingProps.children,No(r,a),d=mn(d),c=c(d),r.flags|=1,jt(t,r,c,a),r.child;case 14:return c=r.type,d=Nn(c,r.pendingProps),d=Nn(c.type,d),vp(t,r,c,d,a);case 15:return _p(t,r,r.type,r.pendingProps,a);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Nn(c,d),Pl(t,r),r.tag=1,Wt(c)?(t=!0,cl(r)):t=!1,No(r,a),cp(r,c,d),Lc(r,c,d,a),Fc(null,r,c,!0,t,a);case 19:return Ap(t,r,a);case 22:return Ep(t,r,a)}throw Error(n(156,r.tag))};function Xp(t,r){return ro(t,r)}function v_(t,r,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,r,a,c){return new v_(t,r,a,c)}function ih(t){return t=t.prototype,!(!t||!t.isReactComponent)}function __(t){if(typeof t=="function")return ih(t)?1:0;if(t!=null){if(t=t.$$typeof,t===b)return 11;if(t===xt)return 14}return 2}function Kr(t,r){var a=t.alternate;return a===null?(a=vn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function Ul(t,r,a,c,d,m){var _=2;if(c=t,typeof t=="function")ih(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case N:return Mi(a.children,d,m,r);case I:_=8,d|=8;break;case R:return t=vn(12,a,r,d|2),t.elementType=R,t.lanes=m,t;case A:return t=vn(13,a,r,d),t.elementType=A,t.lanes=m,t;case nt:return t=vn(19,a,r,d),t.elementType=nt,t.lanes=m,t;case je:return Bl(a,d,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x:_=10;break e;case D:_=9;break e;case b:_=11;break e;case xt:_=14;break e;case Nt:_=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=vn(_,a,r,d),r.elementType=t,r.type=c,r.lanes=m,r}function Mi(t,r,a,c){return t=vn(7,t,c,r),t.lanes=a,t}function Bl(t,r,a,c){return t=vn(22,t,c,r),t.elementType=je,t.lanes=a,t.stateNode={isHidden:!1},t}function oh(t,r,a){return t=vn(6,t,null,r),t.lanes=a,t}function sh(t,r,a){return r=vn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function E_(t,r,a,c,d){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pr(0),this.expirationTimes=Pr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function ah(t,r,a,c,d,m,_,C,P){return t=new E_(t,r,a,C,P),r===1?(r=1,m===!0&&(r|=8)):r=0,m=vn(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ec(m),t}function w_(t,r,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Se,key:c==null?null:""+c,children:t,containerInfo:r,implementation:a}}function Jp(t){if(!t)return Fr;t=t._reactInternals;e:{if(Tn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Wt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var a=t.type;if(Wt(a))return Rf(t,a,r)}return r}function Zp(t,r,a,c,d,m,_,C,P){return t=ah(a,c,!0,t,d,m,_,C,P),t.context=Jp(null),a=t.current,c=zt(),d=Hr(a),m=mr(c,d),m.callback=r??null,jr(a,m,d),t.current.lanes=d,kr(t,d,c),Gt(t,c),t}function jl(t,r,a,c){var d=r.current,m=zt(),_=Hr(d);return a=Jp(a),r.context===null?r.context=a:r.pendingContext=a,r=mr(m,_),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=jr(d,r,_),t!==null&&(Ln(t,d,_,m),vl(t,d,_)),_}function zl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function em(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function lh(t,r){em(t,r),(t=t.alternate)&&em(t,r)}function T_(){return null}var tm=typeof reportError=="function"?reportError:function(t){console.error(t)};function uh(t){this._internalRoot=t}$l.prototype.render=uh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));jl(t,r,null,null)},$l.prototype.unmount=uh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Di(function(){jl(null,t,null,null)}),r[cr]=null}};function $l(t){this._internalRoot=t}$l.prototype.unstable_scheduleHydration=function(t){if(t){var r=$a();t={blockedOn:null,target:t,priority:r};for(var a=0;a<jn.length&&r!==0&&r<jn[a].priority;a++);jn.splice(a,0,t),a===0&&Wa(t)}};function ch(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ql(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nm(){}function S_(t,r,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var z=zl(_);m.call(z)}}var _=Zp(r,c,t,0,null,!1,!1,"",nm);return t._reactRootContainer=_,t[cr]=_.current,bs(t.nodeType===8?t.parentNode:t),Di(),_}for(;d=t.lastChild;)t.removeChild(d);if(typeof c=="function"){var C=c;c=function(){var z=zl(P);C.call(z)}}var P=ah(t,0,!1,null,null,!1,!1,"",nm);return t._reactRootContainer=P,t[cr]=P.current,bs(t.nodeType===8?t.parentNode:t),Di(function(){jl(r,P,a,c)}),P}function Hl(t,r,a,c,d){var m=a._reactRootContainer;if(m){var _=m;if(typeof d=="function"){var C=d;d=function(){var P=zl(_);C.call(P)}}jl(r,_,t,d)}else _=S_(a,r,t,d,c);return zl(_)}ja=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var a=Ar(r.pendingLanes);a!==0&&(xr(r,a|1),Gt(r,qe()),!(Oe&6)&&(Mo=qe()+500,Ur()))}break;case 13:Di(function(){var c=pr(t,1);if(c!==null){var d=zt();Ln(c,t,1,d)}}),lh(t,1)}},so=function(t){if(t.tag===13){var r=pr(t,134217728);if(r!==null){var a=zt();Ln(r,t,134217728,a)}lh(t,134217728)}},za=function(t){if(t.tag===13){var r=Hr(t),a=pr(t,r);if(a!==null){var c=zt();Ln(a,t,r,c)}lh(t,r)}},$a=function(){return ke},qa=function(t,r){var a=ke;try{return ke=t,r()}finally{ke=a}},Xi=function(t,r,a){switch(r){case"input":if(ls(t,a),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==t&&c.form===t.form){var d=ll(c);if(!d)throw Error(n(90));Hi(c),ls(c,d)}}}break;case"textarea":Gi(t,a);break;case"select":r=a.value,r!=null&&nr(t,!!a.multiple,r,!1)}},fi=th,vs=Di;var I_={usingClientEntryPoint:!1,Events:[Bs,So,ll,Un,ys,th]},ea={findFiberByHostInstance:Ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C_={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ws(t),t===null?null:t.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance||T_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{vi=Wl.inject(C_),en=Wl}catch{}}return Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I_,Yt.createPortal=function(t,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ch(r))throw Error(n(200));return w_(t,r,null,a)},Yt.createRoot=function(t,r){if(!ch(t))throw Error(n(299));var a=!1,c="",d=tm;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=ah(t,1,!1,null,null,a,!1,c,d),t[cr]=r.current,bs(t.nodeType===8?t.parentNode:t),new uh(r)},Yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=ws(r),t=t===null?null:t.stateNode,t},Yt.flushSync=function(t){return Di(t)},Yt.hydrate=function(t,r,a){if(!ql(r))throw Error(n(200));return Hl(null,t,r,!0,a)},Yt.hydrateRoot=function(t,r,a){if(!ch(t))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",_=tm;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),r=Zp(r,null,t,1,a??null,d,!1,m,_),t[cr]=r.current,bs(t),c)for(t=0;t<c.length;t++)a=c[t],d=a._getVersion,d=d(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,d]:r.mutableSourceEagerHydrationData.push(a,d);return new $l(r)},Yt.render=function(t,r,a){if(!ql(r))throw Error(n(200));return Hl(null,t,r,!1,a)},Yt.unmountComponentAtNode=function(t){if(!ql(t))throw Error(n(40));return t._reactRootContainer?(Di(function(){Hl(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1},Yt.unstable_batchedUpdates=th,Yt.unstable_renderSubtreeIntoContainer=function(t,r,a,c){if(!ql(a))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Hl(t,r,a,!1,c)},Yt.version="18.3.1-next-f1338f8080-20240426",Yt}var cm;function D_(){if(cm)return fh.exports;cm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fh.exports=V_(),fh.exports}var hm;function L_(){if(hm)return Kl;hm=1;var i=D_();return Kl.createRoot=i.createRoot,Kl.hydrateRoot=i.hydrateRoot,Kl}var O_=L_(),na={},dm;function M_(){if(dm)return na;dm=1,Object.defineProperty(na,"__esModule",{value:!0}),na.parse=h,na.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,k){const L=new u,j=S.length;if(j<2)return L;const O=(k==null?void 0:k.decode)||E;let H=0;do{const W=S.indexOf("=",H);if(W===-1)break;const re=S.indexOf(";",H),de=re===-1?j:re;if(W>de){H=S.lastIndexOf(";",W-1)+1;continue}const Ie=f(S,H,W),Se=g(S,W,Ie),N=S.slice(Ie,Se);if(L[N]===void 0){let I=f(S,W+1,de),R=g(S,de,I);const x=O(S.slice(I,R));L[N]=x}H=de+1}while(H<j);return L}function f(S,k,L){do{const j=S.charCodeAt(k);if(j!==32&&j!==9)return k}while(++k<L);return L}function g(S,k,L){for(;k>L;){const j=S.charCodeAt(--k);if(j!==32&&j!==9)return k+1}return L}function y(S,k,L){const j=(L==null?void 0:L.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const O=j(k);if(!e.test(O))throw new TypeError(`argument val is invalid: ${k}`);let H=S+"="+O;if(!L)return H;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);H+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);H+="; Domain="+L.domain}if(L.path){if(!o.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);H+="; Path="+L.path}if(L.expires){if(!T(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);H+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(H+="; HttpOnly"),L.secure&&(H+="; Secure"),L.partitioned&&(H+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return H}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return s.call(S)==="[object Date]"}return na}M_();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fm="popstate";function b_(i={}){function e(o,s){let{pathname:u,search:h,hash:f}=o.location;return Nh("",{pathname:u,search:h,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(o,s){return typeof s=="string"?s:da(s)}return U_(e,n,null,i)}function Xe(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function On(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F_(){return Math.random().toString(36).substring(2,10)}function pm(i,e){return{usr:i.state,key:i.key,idx:e}}function Nh(i,e,n=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Jo(e):e,state:n,key:e&&e.key||o||F_()}}function da({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Jo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let o=i.indexOf("?");o>=0&&(e.search=i.substring(o),i=i.substring(0,o)),i&&(e.pathname=i)}return e}function U_(i,e,n,o={}){let{window:s=document.defaultView,v5Compat:u=!1}=o,h=s.history,f="POP",g=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function T(){f="POP";let O=E(),H=O==null?null:O-y;y=O,g&&g({action:f,location:j.location,delta:H})}function S(O,H){f="PUSH";let W=Nh(j.location,O,H);y=E()+1;let re=pm(W,y),de=j.createHref(W);try{h.pushState(re,"",de)}catch(Ie){if(Ie instanceof DOMException&&Ie.name==="DataCloneError")throw Ie;s.location.assign(de)}u&&g&&g({action:f,location:j.location,delta:1})}function k(O,H){f="REPLACE";let W=Nh(j.location,O,H);y=E();let re=pm(W,y),de=j.createHref(W);h.replaceState(re,"",de),u&&g&&g({action:f,location:j.location,delta:0})}function L(O){let H=s.location.origin!=="null"?s.location.origin:s.location.href,W=typeof O=="string"?O:da(O);return W=W.replace(/ $/,"%20"),Xe(H,`No window.location.(origin|href) available to create URL for href: ${W}`),new URL(W,H)}let j={get action(){return f},get location(){return i(s,h)},listen(O){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(fm,T),g=O,()=>{s.removeEventListener(fm,T),g=null}},createHref(O){return e(s,O)},createURL:L,encodeLocation(O){let H=L(O);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:S,replace:k,go(O){return h.go(O)}};return j}function Rg(i,e,n="/"){return B_(i,e,n,!1)}function B_(i,e,n,o){let s=typeof e=="string"?Jo(e):e,u=Zr(s.pathname||"/",n);if(u==null)return null;let h=Ag(i);j_(h);let f=null;for(let g=0;f==null&&g<h.length;++g){let y=J_(u);f=Y_(h[g],y,o)}return f}function Ag(i,e=[],n=[],o=""){let s=(u,h,f)=>{let g={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Xe(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length));let y=vr([o,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(Xe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Ag(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:Q_(y,u.index),routesMeta:E})};return i.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))s(u,h);else for(let g of Pg(u.path))s(u,h,g)}),e}function Pg(i){let e=i.split("/");if(e.length===0)return[];let[n,...o]=e,s=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return s?[u,""]:[u];let h=Pg(o.join("/")),f=[];return f.push(...h.map(g=>g===""?u:[u,g].join("/"))),s&&f.push(...h),f.map(g=>i.startsWith("/")&&g===""?"/":g)}function j_(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:G_(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var z_=/^:[\w-]+$/,$_=3,q_=2,H_=1,W_=10,K_=-2,mm=i=>i==="*";function Q_(i,e){let n=i.split("/"),o=n.length;return n.some(mm)&&(o+=K_),e&&(o+=q_),n.filter(s=>!mm(s)).reduce((s,u)=>s+(z_.test(u)?$_:u===""?H_:W_),o)}function G_(i,e){return i.length===e.length&&i.slice(0,-1).every((o,s)=>o===e[s])?i[i.length-1]-e[e.length-1]:0}function Y_(i,e,n=!1){let{routesMeta:o}=i,s={},u="/",h=[];for(let f=0;f<o.length;++f){let g=o[f],y=f===o.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=lu({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),S=g.route;if(!T&&y&&n&&!o[o.length-1].route.index&&(T=lu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!T)return null;Object.assign(s,T.params),h.push({params:s,pathname:vr([u,T.pathname]),pathnameBase:n0(vr([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=vr([u,T.pathnameBase]))}return h}function lu(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,o]=X_(i.path,i.caseSensitive,i.end),s=e.match(n);if(!s)return null;let u=s[0],h=u.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:o.reduce((y,{paramName:E,isOptional:T},S)=>{if(E==="*"){let L=f[S]||"";h=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const k=f[S];return T&&!k?y[E]=void 0:y[E]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function X_(i,e=!1,n=!0){On(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],s="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,g)=>(o.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),s+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":i!==""&&i!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),o]}function J_(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return On(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Zr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=i.charAt(n);return o&&o!=="/"?null:i.slice(n)||"/"}function Z_(i,e="/"){let{pathname:n,search:o="",hash:s=""}=typeof i=="string"?Jo(i):i;return{pathname:n?n.startsWith("/")?n:e0(n,e):e,search:r0(o),hash:i0(s)}}function e0(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function gh(i,e,n,o){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t0(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function od(i){let e=t0(i);return e.map((n,o)=>o===e.length-1?n.pathname:n.pathnameBase)}function sd(i,e,n,o=!1){let s;typeof i=="string"?s=Jo(i):(s={...i},Xe(!s.pathname||!s.pathname.includes("?"),gh("?","pathname","search",s)),Xe(!s.pathname||!s.pathname.includes("#"),gh("#","pathname","hash",s)),Xe(!s.search||!s.search.includes("#"),gh("#","search","hash",s)));let u=i===""||s.pathname==="",h=u?"/":s.pathname,f;if(h==null)f=n;else{let T=e.length-1;if(!o&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;s.pathname=S.join("/")}f=T>=0?e[T]:"/"}let g=Z_(s,f),y=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var vr=i=>i.join("/").replace(/\/\/+/g,"/"),n0=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),r0=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,i0=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function o0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var kg=["POST","PUT","PATCH","DELETE"];new Set(kg);var s0=["GET",...kg];new Set(s0);var Zo=$.createContext(null);Zo.displayName="DataRouter";var wu=$.createContext(null);wu.displayName="DataRouterState";var xg=$.createContext({isTransitioning:!1});xg.displayName="ViewTransition";var a0=$.createContext(new Map);a0.displayName="Fetchers";var l0=$.createContext(null);l0.displayName="Await";var bn=$.createContext(null);bn.displayName="Navigation";var Ta=$.createContext(null);Ta.displayName="Location";var _n=$.createContext({outlet:null,matches:[],isDataRoute:!1});_n.displayName="Route";var ad=$.createContext(null);ad.displayName="RouteError";function u0(i,{relative:e}={}){Xe(es(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=$.useContext(bn),{hash:s,pathname:u,search:h}=Ia(i,{relative:e}),f=u;return n!=="/"&&(f=u==="/"?n:vr([n,u])),o.createHref({pathname:f,search:h,hash:s})}function es(){return $.useContext(Ta)!=null}function si(){return Xe(es(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Ta).location}var Ng="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vg(i){$.useContext(bn).static||$.useLayoutEffect(i)}function Sa(){let{isDataRoute:i}=$.useContext(_n);return i?C0():c0()}function c0(){Xe(es(),"useNavigate() may be used only in the context of a <Router> component.");let i=$.useContext(Zo),{basename:e,navigator:n}=$.useContext(bn),{matches:o}=$.useContext(_n),{pathname:s}=si(),u=JSON.stringify(od(o)),h=$.useRef(!1);return Vg(()=>{h.current=!0}),$.useCallback((g,y={})=>{if(On(h.current,Ng),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=sd(g,JSON.parse(u),s,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:vr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,s,i])}var h0=$.createContext(null);function d0(i){let e=$.useContext(_n).outlet;return e&&$.createElement(h0.Provider,{value:i},e)}function f0(){let{matches:i}=$.useContext(_n),e=i[i.length-1];return e?e.params:{}}function Ia(i,{relative:e}={}){let{matches:n}=$.useContext(_n),{pathname:o}=si(),s=JSON.stringify(od(n));return $.useMemo(()=>sd(i,JSON.parse(s),o,e==="path"),[i,s,o,e])}function p0(i,e){return Dg(i,e)}function Dg(i,e,n,o){var H;Xe(es(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=$.useContext(bn),{matches:u}=$.useContext(_n),h=u[u.length-1],f=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",E=h&&h.route;{let W=E&&E.path||"";Lg(g,!E||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let T=si(),S;if(e){let W=typeof e=="string"?Jo(e):e;Xe(y==="/"||((H=W.pathname)==null?void 0:H.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${W.pathname}" was given in the \`location\` prop.`),S=W}else S=T;let k=S.pathname||"/",L=k;if(y!=="/"){let W=y.replace(/^\//,"").split("/");L="/"+k.replace(/^\//,"").split("/").slice(W.length).join("/")}let j=Rg(i,{pathname:L});On(E||j!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),On(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=_0(j&&j.map(W=>Object.assign({},W,{params:Object.assign({},f,W.params),pathname:vr([y,s.encodeLocation?s.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?y:vr([y,s.encodeLocation?s.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,n,o);return e&&O?$.createElement(Ta.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},O):O}function m0(){let i=I0(),e=o0(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:s},n):null,h)}var g0=$.createElement(m0,null),y0=class extends $.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?$.createElement(_n.Provider,{value:this.props.routeContext},$.createElement(ad.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function v0({routeContext:i,match:e,children:n}){let o=$.useContext(Zo);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(_n.Provider,{value:i},n)}function _0(i,e=[],n=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let s=i,u=n==null?void 0:n.errors;if(u!=null){let g=s.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Xe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),s=s.slice(0,Math.min(s.length,g+1))}let h=!1,f=-1;if(n)for(let g=0;g<s.length;g++){let y=s[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=g),y.route.id){let{loaderData:E,errors:T}=n,S=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||S){h=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((g,y,E)=>{let T,S=!1,k=null,L=null;n&&(T=u&&y.route.id?u[y.route.id]:void 0,k=y.route.errorElement||g0,h&&(f<0&&E===0?(Lg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,L=null):f===E&&(S=!0,L=y.route.hydrateFallbackElement||null)));let j=e.concat(s.slice(0,E+1)),O=()=>{let H;return T?H=k:S?H=L:y.route.Component?H=$.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=g,$.createElement(v0,{match:y,routeContext:{outlet:g,matches:j,isDataRoute:n!=null},children:H})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?$.createElement(y0,{location:n.location,revalidation:n.revalidation,component:k,error:T,children:O(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):O()},null)}function ld(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E0(i){let e=$.useContext(Zo);return Xe(e,ld(i)),e}function w0(i){let e=$.useContext(wu);return Xe(e,ld(i)),e}function T0(i){let e=$.useContext(_n);return Xe(e,ld(i)),e}function ud(i){let e=T0(i),n=e.matches[e.matches.length-1];return Xe(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function S0(){return ud("useRouteId")}function I0(){var o;let i=$.useContext(ad),e=w0("useRouteError"),n=ud("useRouteError");return i!==void 0?i:(o=e.errors)==null?void 0:o[n]}function C0(){let{router:i}=E0("useNavigate"),e=ud("useNavigate"),n=$.useRef(!1);return Vg(()=>{n.current=!0}),$.useCallback(async(s,u={})=>{On(n.current,Ng),n.current&&(typeof s=="number"?i.navigate(s):await i.navigate(s,{fromRouteId:e,...u}))},[i,e])}var gm={};function Lg(i,e,n){!e&&!gm[i]&&(gm[i]=!0,On(!1,n))}$.memo(R0);function R0({routes:i,future:e,state:n}){return Dg(i,void 0,n,e)}function ym({to:i,replace:e,state:n,relative:o}){Xe(es(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=$.useContext(bn);On(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=$.useContext(_n),{pathname:h}=si(),f=Sa(),g=sd(i,od(u),h,o==="path"),y=JSON.stringify(g);return $.useEffect(()=>{f(JSON.parse(y),{replace:e,state:n,relative:o})},[f,y,o,e,n]),null}function A0(i){return d0(i.context)}function Gn(i){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function P0({basename:i="/",children:e=null,location:n,navigationType:o="POP",navigator:s,static:u=!1}){Xe(!es(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),f=$.useMemo(()=>({basename:h,navigator:s,static:u,future:{}}),[h,s,u]);typeof n=="string"&&(n=Jo(n));let{pathname:g="/",search:y="",hash:E="",state:T=null,key:S="default"}=n,k=$.useMemo(()=>{let L=Zr(g,h);return L==null?null:{location:{pathname:L,search:y,hash:E,state:T,key:S},navigationType:o}},[h,g,y,E,T,S,o]);return On(k!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:$.createElement(bn.Provider,{value:f},$.createElement(Ta.Provider,{children:e,value:k}))}function k0({children:i,location:e}){return p0(Vh(i),e)}function Vh(i,e=[]){let n=[];return $.Children.forEach(i,(o,s)=>{if(!$.isValidElement(o))return;let u=[...e,s];if(o.type===$.Fragment){n.push.apply(n,Vh(o.props.children,u));return}Xe(o.type===Gn,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=Vh(o.props.children,u)),n.push(h)}),n}var eu="get",tu="application/x-www-form-urlencoded";function Tu(i){return i!=null&&typeof i.tagName=="string"}function x0(i){return Tu(i)&&i.tagName.toLowerCase()==="button"}function N0(i){return Tu(i)&&i.tagName.toLowerCase()==="form"}function V0(i){return Tu(i)&&i.tagName.toLowerCase()==="input"}function D0(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function L0(i,e){return i.button===0&&(!e||e==="_self")&&!D0(i)}var Ql=null;function O0(){if(Ql===null)try{new FormData(document.createElement("form"),0),Ql=!1}catch{Ql=!0}return Ql}var M0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yh(i){return i!=null&&!M0.has(i)?(On(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tu}"`),null):i}function b0(i,e){let n,o,s,u,h;if(N0(i)){let f=i.getAttribute("action");o=f?Zr(f,e):null,n=i.getAttribute("method")||eu,s=yh(i.getAttribute("enctype"))||tu,u=new FormData(i)}else if(x0(i)||V0(i)&&(i.type==="submit"||i.type==="image")){let f=i.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||f.getAttribute("action");if(o=g?Zr(g,e):null,n=i.getAttribute("formmethod")||f.getAttribute("method")||eu,s=yh(i.getAttribute("formenctype"))||yh(f.getAttribute("enctype"))||tu,u=new FormData(f,i),!O0()){let{name:y,type:E,value:T}=i;if(E==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,T)}}else{if(Tu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=eu,o=null,s=tu,h=i}return u&&s==="text/plain"&&(h=u,u=void 0),{action:o,method:n.toLowerCase(),encType:s,formData:u,body:h}}function cd(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function F0(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U0(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function B0(i,e,n){let o=await Promise.all(i.map(async s=>{let u=e.routes[s.route.id];if(u){let h=await F0(u,n);return h.links?h.links():[]}return[]}));return q0(o.flat(1).filter(U0).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function vm(i,e,n,o,s,u){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,f=(g,y)=>{var E;return n[y].pathname!==g.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>h(g,y)||f(g,y)):u==="data"?e.filter((g,y)=>{var T;let E=o.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,y)||f(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function j0(i,e){return z0(i.map(n=>{let o=e.routes[n.route.id];if(!o)return[];let s=[o.module];return o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function z0(i){return[...new Set(i)]}function $0(i){let e={},n=Object.keys(i).sort();for(let o of n)e[o]=i[o];return e}function q0(i,e){let n=new Set;return new Set(e),i.reduce((o,s)=>{let u=JSON.stringify($0(s));return n.has(u)||(n.add(u),o.push({key:u,link:s})),o},[])}function H0(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function W0(){let i=$.useContext(Zo);return cd(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function K0(){let i=$.useContext(wu);return cd(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var hd=$.createContext(void 0);hd.displayName="FrameworkContext";function Og(){let i=$.useContext(hd);return cd(i,"You must render this element inside a <HydratedRouter> element"),i}function Q0(i,e){let n=$.useContext(hd),[o,s]=$.useState(!1),[u,h]=$.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,S=$.useRef(null);$.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let j=H=>{H.forEach(W=>{h(W.isIntersecting)})},O=new IntersectionObserver(j,{threshold:.5});return S.current&&O.observe(S.current),()=>{O.disconnect()}}},[i]),$.useEffect(()=>{if(o){let j=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(j)}}},[o]);let k=()=>{s(!0)},L=()=>{s(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:ra(f,k),onBlur:ra(g,L),onMouseEnter:ra(y,k),onMouseLeave:ra(E,L),onTouchStart:ra(T,k)}]:[!1,S,{}]}function ra(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function G0({page:i,...e}){let{router:n}=W0(),o=$.useMemo(()=>Rg(n.routes,i,n.basename),[n.routes,i,n.basename]);return o?$.createElement(X0,{page:i,matches:o,...e}):(console.warn(`Tried to prefetch ${i} but no routes matched.`),null)}function Y0(i){let{manifest:e,routeModules:n}=Og(),[o,s]=$.useState([]);return $.useEffect(()=>{let u=!1;return B0(i,e,n).then(h=>{u||s(h)}),()=>{u=!0}},[i,e,n]),o}function X0({page:i,matches:e,...n}){let o=si(),{manifest:s,routeModules:u}=Og(),{loaderData:h,matches:f}=K0(),g=$.useMemo(()=>vm(i,e,f,s,o,"data"),[i,e,f,s,o]),y=$.useMemo(()=>vm(i,e,f,s,o,"assets"),[i,e,f,s,o]),E=$.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let k=new Set,L=!1;if(e.forEach(O=>{var W;let H=s.routes[O.route.id];!H||!H.hasLoader||(!g.some(re=>re.route.id===O.route.id)&&O.route.id in h&&((W=u[O.route.id])!=null&&W.shouldRevalidate)||H.hasClientLoader?L=!0:k.add(O.route.id))}),k.size===0)return[];let j=H0(i);return L&&k.size>0&&j.searchParams.set("_routes",e.filter(O=>k.has(O.route.id)).map(O=>O.route.id).join(",")),[j.pathname+j.search]},[h,o,s,g,e,i,u]),T=$.useMemo(()=>j0(y,s),[y,s]),S=Y0(y);return $.createElement($.Fragment,null,E.map(k=>$.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),T.map(k=>$.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),S.map(({key:k,link:L})=>$.createElement("link",{key:k,...L})))}function J0(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Mg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mg&&(window.__reactRouterVersion="7.0.2")}catch{}function Z0({basename:i,children:e,window:n}){let o=$.useRef();o.current==null&&(o.current=b_({window:n,v5Compat:!0}));let s=o.current,[u,h]=$.useState({action:s.action,location:s.location}),f=$.useCallback(g=>{$.startTransition(()=>h(g))},[h]);return $.useLayoutEffect(()=>s.listen(f),[s,f]),$.createElement(P0,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:s})}var bg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dd=$.forwardRef(function({onClick:e,discover:n="render",prefetch:o="none",relative:s,reloadDocument:u,replace:h,state:f,target:g,to:y,preventScrollReset:E,viewTransition:T,...S},k){let{basename:L}=$.useContext(bn),j=typeof y=="string"&&bg.test(y),O,H=!1;if(typeof y=="string"&&j&&(O=y,Mg))try{let R=new URL(window.location.href),x=y.startsWith("//")?new URL(R.protocol+y):new URL(y),D=Zr(x.pathname,L);x.origin===R.origin&&D!=null?y=D+x.search+x.hash:H=!0}catch{On(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=u0(y,{relative:s}),[re,de,Ie]=Q0(o,S),Se=nE(y,{replace:h,state:f,target:g,preventScrollReset:E,relative:s,viewTransition:T});function N(R){e&&e(R),R.defaultPrevented||Se(R)}let I=$.createElement("a",{...S,...Ie,href:O||W,onClick:H||u?e:N,ref:J0(k,de),target:g,"data-discover":!j&&n==="render"?"true":void 0});return re&&!j?$.createElement($.Fragment,null,I,$.createElement(G0,{page:W})):I});dd.displayName="Link";var Fg=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:o="",end:s=!1,style:u,to:h,viewTransition:f,children:g,...y},E){let T=Ia(h,{relative:y.relative}),S=si(),k=$.useContext(wu),{navigator:L,basename:j}=$.useContext(bn),O=k!=null&&aE(T)&&f===!0,H=L.encodeLocation?L.encodeLocation(T).pathname:T.pathname,W=S.pathname,re=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(W=W.toLowerCase(),re=re?re.toLowerCase():null,H=H.toLowerCase()),re&&j&&(re=Zr(re,j)||re);const de=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let Ie=W===H||!s&&W.startsWith(H)&&W.charAt(de)==="/",Se=re!=null&&(re===H||!s&&re.startsWith(H)&&re.charAt(H.length)==="/"),N={isActive:Ie,isPending:Se,isTransitioning:O},I=Ie?e:void 0,R;typeof o=="function"?R=o(N):R=[o,Ie?"active":null,Se?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(N):u;return $.createElement(dd,{...y,"aria-current":I,className:R,ref:E,style:x,to:h,viewTransition:f},typeof g=="function"?g(N):g)});Fg.displayName="NavLink";var eE=$.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:o,replace:s,state:u,method:h=eu,action:f,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:T,...S},k)=>{let L=oE(),j=sE(f,{relative:y}),O=h.toLowerCase()==="get"?"get":"post",H=typeof f=="string"&&bg.test(f),W=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let de=re.nativeEvent.submitter,Ie=(de==null?void 0:de.getAttribute("formmethod"))||h;L(de||re.currentTarget,{fetcherKey:e,method:Ie,navigate:n,replace:s,state:u,relative:y,preventScrollReset:E,viewTransition:T})};return $.createElement("form",{ref:k,method:O,action:j,onSubmit:o?g:W,...S,"data-discover":!H&&i==="render"?"true":void 0})});eE.displayName="Form";function tE(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ug(i){let e=$.useContext(Zo);return Xe(e,tE(i)),e}function nE(i,{target:e,replace:n,state:o,preventScrollReset:s,relative:u,viewTransition:h}={}){let f=Sa(),g=si(),y=Ia(i,{relative:u});return $.useCallback(E=>{if(L0(E,e)){E.preventDefault();let T=n!==void 0?n:da(g)===da(y);f(i,{replace:T,state:o,preventScrollReset:s,relative:u,viewTransition:h})}},[g,f,y,n,o,e,i,s,u,h])}var rE=0,iE=()=>`__${String(++rE)}__`;function oE(){let{router:i}=Ug("useSubmit"),{basename:e}=$.useContext(bn),n=S0();return $.useCallback(async(o,s={})=>{let{action:u,method:h,encType:f,formData:g,body:y}=b0(o,e);if(s.navigate===!1){let E=s.fetcherKey||iE();await i.fetch(E,n,s.action||u,{preventScrollReset:s.preventScrollReset,formData:g,body:y,formMethod:s.method||h,formEncType:s.encType||f,flushSync:s.flushSync})}else await i.navigate(s.action||u,{preventScrollReset:s.preventScrollReset,formData:g,body:y,formMethod:s.method||h,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[i,e,n])}function sE(i,{relative:e}={}){let{basename:n}=$.useContext(bn),o=$.useContext(_n);Xe(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),u={...Ia(i||".",{relative:e})},h=si();if(i==null){u.search=h.search;let f=new URLSearchParams(u.search),g=f.getAll("index");if(g.some(E=>E==="")){f.delete("index"),g.filter(T=>T).forEach(T=>f.append("index",T));let E=f.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&s.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:vr([n,u.pathname])),da(u)}function aE(i,e={}){let n=$.useContext(xg);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Ug("useViewTransitionState"),s=Ia(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Zr(n.currentLocation.pathname,o)||n.currentLocation.pathname,h=Zr(n.nextLocation.pathname,o)||n.nextLocation.pathname;return lu(s.pathname,h)!=null||lu(s.pathname,u)!=null}new TextEncoder;var _m={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=function(i){const e=[];let n=0;for(let o=0;o<i.length;o++){let s=i.charCodeAt(o);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(s=65536+((s&1023)<<10)+(i.charCodeAt(++o)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},lE=function(i){const e=[];let n=0,o=0;for(;n<i.length;){const s=i[n++];if(s<128)e[o++]=String.fromCharCode(s);else if(s>191&&s<224){const u=i[n++];e[o++]=String.fromCharCode((s&31)<<6|u&63)}else if(s>239&&s<365){const u=i[n++],h=i[n++],f=i[n++],g=((s&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;e[o++]=String.fromCharCode(55296+(g>>10)),e[o++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[o++]=String.fromCharCode((s&15)<<12|(u&63)<<6|h&63)}}return e.join("")},jg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let s=0;s<i.length;s+=3){const u=i[s],h=s+1<i.length,f=h?i[s+1]:0,g=s+2<i.length,y=g?i[s+2]:0,E=u>>2,T=(u&3)<<4|f>>4;let S=(f&15)<<2|y>>6,k=y&63;g||(k=64,h||(S=64)),o.push(n[E],n[T],n[S],n[k])}return o.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Bg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):lE(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let s=0;s<i.length;){const u=n[i.charAt(s++)],f=s<i.length?n[i.charAt(s)]:0;++s;const y=s<i.length?n[i.charAt(s)]:64;++s;const T=s<i.length?n[i.charAt(s)]:64;if(++s,u==null||f==null||y==null||T==null)throw new uE;const S=u<<2|f>>4;if(o.push(S),y!==64){const k=f<<4&240|y>>2;if(o.push(k),T!==64){const L=y<<6&192|T;o.push(L)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class uE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cE=function(i){const e=Bg(i);return jg.encodeByteArray(e,!0)},uu=function(i){return cE(i).replace(/\./g,"")},hE=function(i){try{return jg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=()=>dE().__FIREBASE_DEFAULTS__,pE=()=>{if(typeof process>"u"||typeof _m>"u")return;const i=_m.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},mE=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&hE(i[1]);return e&&JSON.parse(e)},fd=()=>{try{return fE()||pE()||mE()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},gE=i=>{var e,n;return(n=(e=fd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},yE=i=>{const e=gE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),o]:[e.substring(0,n),o]},zg=()=>{var i;return(i=fd())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},o=e||"demo-project",s=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:s,exp:s+3600,auth_time:s,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[uu(JSON.stringify(n)),uu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wE(){var i;const e=(i=fd())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TE(){return!wE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SE(){try{return typeof indexedDB=="object"}catch{return!1}}function IE(){return new Promise((i,e)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(o);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(o),i(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var u;e(((u=s.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="FirebaseError";class ts extends Error{constructor(e,n,o){super(n),this.code=e,this.customData=o,this.name=CE,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$g.prototype.create)}}class $g{constructor(e,n,o){this.service=e,this.serviceName=n,this.errors=o}create(e,...n){const o=n[0]||{},s=`${this.service}/${e}`,u=this.errors[e],h=u?RE(u,o):"Error",f=`${this.serviceName}: ${h} (${s}).`;return new ts(s,f,o)}}function RE(i,e){return i.replace(AE,(n,o)=>{const s=e[o];return s!=null?String(s):`<${o}?>`})}const AE=/\{\$([^}]+)}/g;function Dh(i,e){if(i===e)return!0;const n=Object.keys(i),o=Object.keys(e);for(const s of n){if(!o.includes(s))return!1;const u=i[s],h=e[s];if(Em(u)&&Em(h)){if(!Dh(u,h))return!1}else if(u!==h)return!1}for(const s of o)if(!n.includes(s))return!1;return!0}function Em(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(i){return i&&i._delegate?i._delegate:i}class fa{constructor(e,n,o){this.name=e,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const o=new vE;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&o.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xE(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:s});o.resolve(u)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);o===f&&h.resolve(s)}return s}onInit(e,n){var o;const s=this.normalizeInstanceIdentifier(n),u=(o=this.onInitCallbacks.get(s))!==null&&o!==void 0?o:new Set;u.add(e),this.onInitCallbacks.set(s,u);const h=this.instances.get(s);return h&&e(h,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const o=this.onInitCallbacks.get(n);if(o)for(const s of o)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:kE(e),options:n}),this.instances.set(e,o),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kE(i){return i===bi?void 0:i}function xE(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const VE={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},DE=Le.INFO,LE={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},OE=(i,e,...n)=>{if(e<i.logLevel)return;const o=new Date().toISOString(),s=LE[e];if(s)console[s](`[${o}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qg{constructor(e){this.name=e,this._logLevel=DE,this._logHandler=OE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const ME=(i,e)=>e.some(n=>i instanceof n);let wm,Tm;function bE(){return wm||(wm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FE(){return Tm||(Tm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hg=new WeakMap,Lh=new WeakMap,Wg=new WeakMap,vh=new WeakMap,pd=new WeakMap;function UE(i){const e=new Promise((n,o)=>{const s=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Yr(i.result)),s()},h=()=>{o(i.error),s()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Hg.set(n,i)}).catch(()=>{}),pd.set(e,i),e}function BE(i){if(Lh.has(i))return;const e=new Promise((n,o)=>{const s=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),s()},h=()=>{o(i.error||new DOMException("AbortError","AbortError")),s()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Lh.set(i,e)}let Oh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Lh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Wg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function jE(i){Oh=i(Oh)}function zE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const o=i.call(_h(this),e,...n);return Wg.set(o,e.sort?e.sort():[e]),Yr(o)}:FE().includes(i)?function(...e){return i.apply(_h(this),e),Yr(Hg.get(this))}:function(...e){return Yr(i.apply(_h(this),e))}}function $E(i){return typeof i=="function"?zE(i):(i instanceof IDBTransaction&&BE(i),ME(i,bE())?new Proxy(i,Oh):i)}function Yr(i){if(i instanceof IDBRequest)return UE(i);if(vh.has(i))return vh.get(i);const e=$E(i);return e!==i&&(vh.set(i,e),pd.set(e,i)),e}const _h=i=>pd.get(i);function qE(i,e,{blocked:n,upgrade:o,blocking:s,terminated:u}={}){const h=indexedDB.open(i,e),f=Yr(h);return o&&h.addEventListener("upgradeneeded",g=>{o(Yr(h.result),g.oldVersion,g.newVersion,Yr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),f.then(g=>{u&&g.addEventListener("close",()=>u()),s&&g.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const HE=["get","getKey","getAll","getAllKeys","count"],WE=["put","add","delete","clear"],Eh=new Map;function Sm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Eh.get(e))return Eh.get(e);const n=e.replace(/FromIndex$/,""),o=e!==n,s=WE.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(s||HE.includes(n)))return;const u=async function(h,...f){const g=this.transaction(h,s?"readwrite":"readonly");let y=g.store;return o&&(y=y.index(f.shift())),(await Promise.all([y[n](...f),s&&g.done]))[0]};return Eh.set(e,u),u}jE(i=>({...i,get:(e,n,o)=>Sm(e,n)||i.get(e,n,o),has:(e,n)=>!!Sm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QE(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function QE(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mh="@firebase/app",Im="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new qg("@firebase/app"),GE="@firebase/app-compat",YE="@firebase/analytics-compat",XE="@firebase/analytics",JE="@firebase/app-check-compat",ZE="@firebase/app-check",ew="@firebase/auth",tw="@firebase/auth-compat",nw="@firebase/database",rw="@firebase/data-connect",iw="@firebase/database-compat",ow="@firebase/functions",sw="@firebase/functions-compat",aw="@firebase/installations",lw="@firebase/installations-compat",uw="@firebase/messaging",cw="@firebase/messaging-compat",hw="@firebase/performance",dw="@firebase/performance-compat",fw="@firebase/remote-config",pw="@firebase/remote-config-compat",mw="@firebase/storage",gw="@firebase/storage-compat",yw="@firebase/firestore",vw="@firebase/vertexai",_w="@firebase/firestore-compat",Ew="firebase",ww="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh="[DEFAULT]",Tw={[Mh]:"fire-core",[GE]:"fire-core-compat",[XE]:"fire-analytics",[YE]:"fire-analytics-compat",[ZE]:"fire-app-check",[JE]:"fire-app-check-compat",[ew]:"fire-auth",[tw]:"fire-auth-compat",[nw]:"fire-rtdb",[rw]:"fire-data-connect",[iw]:"fire-rtdb-compat",[ow]:"fire-fn",[sw]:"fire-fn-compat",[aw]:"fire-iid",[lw]:"fire-iid-compat",[uw]:"fire-fcm",[cw]:"fire-fcm-compat",[hw]:"fire-perf",[dw]:"fire-perf-compat",[fw]:"fire-rc",[pw]:"fire-rc-compat",[mw]:"fire-gcs",[gw]:"fire-gcs-compat",[yw]:"fire-fst",[_w]:"fire-fst-compat",[vw]:"fire-vertex","fire-js":"fire-js",[Ew]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new Map,Sw=new Map,Fh=new Map;function Cm(i,e){try{i.container.addComponent(e)}catch(n){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function hu(i){const e=i.name;if(Fh.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;Fh.set(e,i);for(const n of cu.values())Cm(n,i);for(const n of Sw.values())Cm(n,i);return!0}function Iw(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new $g("app","Firebase",Cw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=ww;function Kg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const o=Object.assign({name:bh,automaticDataCollectionEnabled:!1},e),s=o.name;if(typeof s!="string"||!s)throw Xr.create("bad-app-name",{appName:String(s)});if(n||(n=zg()),!n)throw Xr.create("no-options");const u=cu.get(s);if(u){if(Dh(n,u.options)&&Dh(o,u.config))return u;throw Xr.create("duplicate-app",{appName:s})}const h=new NE(s);for(const g of Fh.values())h.addComponent(g);const f=new Rw(n,o,h);return cu.set(s,f),f}function Pw(i=bh){const e=cu.get(i);if(!e&&i===bh&&zg())return Kg();if(!e)throw Xr.create("no-app",{appName:i});return e}function $o(i,e,n){var o;let s=(o=Tw[i])!==null&&o!==void 0?o:i;n&&(s+=`-${n}`);const u=s.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const f=[`Unable to register library "${s}" with version "${e}":`];u&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(f.join(" "));return}hu(new fa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="firebase-heartbeat-database",xw=1,pa="firebase-heartbeat-store";let wh=null;function Qg(){return wh||(wh=qE(kw,xw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(pa)}catch(n){console.warn(n)}}}}).catch(i=>{throw Xr.create("idb-open",{originalErrorMessage:i.message})})),wh}async function Nw(i){try{const n=(await Qg()).transaction(pa),o=await n.objectStore(pa).get(Gg(i));return await n.done,o}catch(e){if(e instanceof ts)wr.warn(e.message);else{const n=Xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wr.warn(n.message)}}}async function Rm(i,e){try{const o=(await Qg()).transaction(pa,"readwrite");await o.objectStore(pa).put(e,Gg(i)),await o.done}catch(n){if(n instanceof ts)wr.warn(n.message);else{const o=Xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wr.warn(o.message)}}}function Gg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=1024,Dw=30*24*60*60*1e3;class Lw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Mw(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Am();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=Dw}),this._storage.overwrite(this._heartbeatsCache))}catch(o){wr.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Am(),{heartbeatsToSend:o,unsentEntries:s}=Ow(this._heartbeatsCache.heartbeats),u=uu(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return wr.warn(n),""}}}function Am(){return new Date().toISOString().substring(0,10)}function Ow(i,e=Vw){const n=[];let o=i.slice();for(const s of i){const u=n.find(h=>h.agent===s.agent);if(u){if(u.dates.push(s.date),Pm(n)>e){u.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Pm(n)>e){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class Mw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SE()?IE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Nw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Rm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Rm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Pm(i){return uu(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(i){hu(new fa("platform-logger",e=>new KE(e),"PRIVATE")),hu(new fa("heartbeat",e=>new Lw(e),"PRIVATE")),$o(Mh,Im,i),$o(Mh,Im,"esm2017"),$o("fire-js","")}bw("");var Fw="firebase",Uw="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$o(Fw,Uw,"app");var km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ui,Yg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function R(){}R.prototype=I.prototype,N.D=I.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(x,D,b){for(var A=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)A[nt-2]=arguments[nt];return I.prototype[D].apply(x,A)}}function n(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,n),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,I,R){R||(R=0);var x=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)x[D]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(D=0;16>D;++D)x[D]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=N.g[0],R=N.g[1],D=N.g[2];var b=N.g[3],A=I+(b^R&(D^b))+x[0]+3614090360&4294967295;I=R+(A<<7&4294967295|A>>>25),A=b+(D^I&(R^D))+x[1]+3905402710&4294967295,b=I+(A<<12&4294967295|A>>>20),A=D+(R^b&(I^R))+x[2]+606105819&4294967295,D=b+(A<<17&4294967295|A>>>15),A=R+(I^D&(b^I))+x[3]+3250441966&4294967295,R=D+(A<<22&4294967295|A>>>10),A=I+(b^R&(D^b))+x[4]+4118548399&4294967295,I=R+(A<<7&4294967295|A>>>25),A=b+(D^I&(R^D))+x[5]+1200080426&4294967295,b=I+(A<<12&4294967295|A>>>20),A=D+(R^b&(I^R))+x[6]+2821735955&4294967295,D=b+(A<<17&4294967295|A>>>15),A=R+(I^D&(b^I))+x[7]+4249261313&4294967295,R=D+(A<<22&4294967295|A>>>10),A=I+(b^R&(D^b))+x[8]+1770035416&4294967295,I=R+(A<<7&4294967295|A>>>25),A=b+(D^I&(R^D))+x[9]+2336552879&4294967295,b=I+(A<<12&4294967295|A>>>20),A=D+(R^b&(I^R))+x[10]+4294925233&4294967295,D=b+(A<<17&4294967295|A>>>15),A=R+(I^D&(b^I))+x[11]+2304563134&4294967295,R=D+(A<<22&4294967295|A>>>10),A=I+(b^R&(D^b))+x[12]+1804603682&4294967295,I=R+(A<<7&4294967295|A>>>25),A=b+(D^I&(R^D))+x[13]+4254626195&4294967295,b=I+(A<<12&4294967295|A>>>20),A=D+(R^b&(I^R))+x[14]+2792965006&4294967295,D=b+(A<<17&4294967295|A>>>15),A=R+(I^D&(b^I))+x[15]+1236535329&4294967295,R=D+(A<<22&4294967295|A>>>10),A=I+(D^b&(R^D))+x[1]+4129170786&4294967295,I=R+(A<<5&4294967295|A>>>27),A=b+(R^D&(I^R))+x[6]+3225465664&4294967295,b=I+(A<<9&4294967295|A>>>23),A=D+(I^R&(b^I))+x[11]+643717713&4294967295,D=b+(A<<14&4294967295|A>>>18),A=R+(b^I&(D^b))+x[0]+3921069994&4294967295,R=D+(A<<20&4294967295|A>>>12),A=I+(D^b&(R^D))+x[5]+3593408605&4294967295,I=R+(A<<5&4294967295|A>>>27),A=b+(R^D&(I^R))+x[10]+38016083&4294967295,b=I+(A<<9&4294967295|A>>>23),A=D+(I^R&(b^I))+x[15]+3634488961&4294967295,D=b+(A<<14&4294967295|A>>>18),A=R+(b^I&(D^b))+x[4]+3889429448&4294967295,R=D+(A<<20&4294967295|A>>>12),A=I+(D^b&(R^D))+x[9]+568446438&4294967295,I=R+(A<<5&4294967295|A>>>27),A=b+(R^D&(I^R))+x[14]+3275163606&4294967295,b=I+(A<<9&4294967295|A>>>23),A=D+(I^R&(b^I))+x[3]+4107603335&4294967295,D=b+(A<<14&4294967295|A>>>18),A=R+(b^I&(D^b))+x[8]+1163531501&4294967295,R=D+(A<<20&4294967295|A>>>12),A=I+(D^b&(R^D))+x[13]+2850285829&4294967295,I=R+(A<<5&4294967295|A>>>27),A=b+(R^D&(I^R))+x[2]+4243563512&4294967295,b=I+(A<<9&4294967295|A>>>23),A=D+(I^R&(b^I))+x[7]+1735328473&4294967295,D=b+(A<<14&4294967295|A>>>18),A=R+(b^I&(D^b))+x[12]+2368359562&4294967295,R=D+(A<<20&4294967295|A>>>12),A=I+(R^D^b)+x[5]+4294588738&4294967295,I=R+(A<<4&4294967295|A>>>28),A=b+(I^R^D)+x[8]+2272392833&4294967295,b=I+(A<<11&4294967295|A>>>21),A=D+(b^I^R)+x[11]+1839030562&4294967295,D=b+(A<<16&4294967295|A>>>16),A=R+(D^b^I)+x[14]+4259657740&4294967295,R=D+(A<<23&4294967295|A>>>9),A=I+(R^D^b)+x[1]+2763975236&4294967295,I=R+(A<<4&4294967295|A>>>28),A=b+(I^R^D)+x[4]+1272893353&4294967295,b=I+(A<<11&4294967295|A>>>21),A=D+(b^I^R)+x[7]+4139469664&4294967295,D=b+(A<<16&4294967295|A>>>16),A=R+(D^b^I)+x[10]+3200236656&4294967295,R=D+(A<<23&4294967295|A>>>9),A=I+(R^D^b)+x[13]+681279174&4294967295,I=R+(A<<4&4294967295|A>>>28),A=b+(I^R^D)+x[0]+3936430074&4294967295,b=I+(A<<11&4294967295|A>>>21),A=D+(b^I^R)+x[3]+3572445317&4294967295,D=b+(A<<16&4294967295|A>>>16),A=R+(D^b^I)+x[6]+76029189&4294967295,R=D+(A<<23&4294967295|A>>>9),A=I+(R^D^b)+x[9]+3654602809&4294967295,I=R+(A<<4&4294967295|A>>>28),A=b+(I^R^D)+x[12]+3873151461&4294967295,b=I+(A<<11&4294967295|A>>>21),A=D+(b^I^R)+x[15]+530742520&4294967295,D=b+(A<<16&4294967295|A>>>16),A=R+(D^b^I)+x[2]+3299628645&4294967295,R=D+(A<<23&4294967295|A>>>9),A=I+(D^(R|~b))+x[0]+4096336452&4294967295,I=R+(A<<6&4294967295|A>>>26),A=b+(R^(I|~D))+x[7]+1126891415&4294967295,b=I+(A<<10&4294967295|A>>>22),A=D+(I^(b|~R))+x[14]+2878612391&4294967295,D=b+(A<<15&4294967295|A>>>17),A=R+(b^(D|~I))+x[5]+4237533241&4294967295,R=D+(A<<21&4294967295|A>>>11),A=I+(D^(R|~b))+x[12]+1700485571&4294967295,I=R+(A<<6&4294967295|A>>>26),A=b+(R^(I|~D))+x[3]+2399980690&4294967295,b=I+(A<<10&4294967295|A>>>22),A=D+(I^(b|~R))+x[10]+4293915773&4294967295,D=b+(A<<15&4294967295|A>>>17),A=R+(b^(D|~I))+x[1]+2240044497&4294967295,R=D+(A<<21&4294967295|A>>>11),A=I+(D^(R|~b))+x[8]+1873313359&4294967295,I=R+(A<<6&4294967295|A>>>26),A=b+(R^(I|~D))+x[15]+4264355552&4294967295,b=I+(A<<10&4294967295|A>>>22),A=D+(I^(b|~R))+x[6]+2734768916&4294967295,D=b+(A<<15&4294967295|A>>>17),A=R+(b^(D|~I))+x[13]+1309151649&4294967295,R=D+(A<<21&4294967295|A>>>11),A=I+(D^(R|~b))+x[4]+4149444226&4294967295,I=R+(A<<6&4294967295|A>>>26),A=b+(R^(I|~D))+x[11]+3174756917&4294967295,b=I+(A<<10&4294967295|A>>>22),A=D+(I^(b|~R))+x[2]+718787259&4294967295,D=b+(A<<15&4294967295|A>>>17),A=R+(b^(D|~I))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+b&4294967295}o.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var R=I-this.blockSize,x=this.B,D=this.h,b=0;b<I;){if(D==0)for(;b<=R;)s(this,N,b),b+=this.blockSize;if(typeof N=="string"){for(;b<I;)if(x[D++]=N.charCodeAt(b++),D==this.blockSize){s(this,x),D=0;break}}else for(;b<I;)if(x[D++]=N[b++],D==this.blockSize){s(this,x),D=0;break}}this.h=D,this.o+=I},o.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var R=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=R&255,R/=256;for(this.u(N),N=Array(16),I=R=0;4>I;++I)for(var x=0;32>x;x+=8)N[R++]=this.g[I]>>>x&255;return N};function u(N,I){var R=f;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=I(N)}function h(N,I){this.h=I;for(var R=[],x=!0,D=N.length-1;0<=D;D--){var b=N[D]|0;x&&b==I||(R[D]=b,x=!1)}this.g=R}var f={};function g(N){return-128<=N&&128>N?u(N,function(I){return new h([I|0],0>I?-1:0)}):new h([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return T;if(0>N)return O(y(-N));for(var I=[],R=1,x=0;N>=R;x++)I[x]=N/R|0,R*=4294967296;return new h(I,0)}function E(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return O(E(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(I,8)),x=T,D=0;D<N.length;D+=8){var b=Math.min(8,N.length-D),A=parseInt(N.substring(D,D+b),I);8>b?(b=y(Math.pow(I,b)),x=x.j(b).add(y(A))):(x=x.j(R),x=x.add(y(A)))}return x}var T=g(0),S=g(1),k=g(16777216);i=h.prototype,i.m=function(){if(j(this))return-O(this).m();for(var N=0,I=1,R=0;R<this.g.length;R++){var x=this.i(R);N+=(0<=x?x:4294967296+x)*I,I*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(L(this))return"0";if(j(this))return"-"+O(this).toString(N);for(var I=y(Math.pow(N,6)),R=this,x="";;){var D=de(R,I).g;R=H(R,D.j(I));var b=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=D,L(R))return b+x;for(;6>b.length;)b="0"+b;x=b+x}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function L(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function j(N){return N.h==-1}i.l=function(N){return N=H(this,N),j(N)?-1:L(N)?0:1};function O(N){for(var I=N.g.length,R=[],x=0;x<I;x++)R[x]=~N.g[x];return new h(R,~N.h).add(S)}i.abs=function(){return j(this)?O(this):this},i.add=function(N){for(var I=Math.max(this.g.length,N.g.length),R=[],x=0,D=0;D<=I;D++){var b=x+(this.i(D)&65535)+(N.i(D)&65535),A=(b>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);x=A>>>16,b&=65535,A&=65535,R[D]=A<<16|b}return new h(R,R[R.length-1]&-2147483648?-1:0)};function H(N,I){return N.add(O(I))}i.j=function(N){if(L(this)||L(N))return T;if(j(this))return j(N)?O(this).j(O(N)):O(O(this).j(N));if(j(N))return O(this.j(O(N)));if(0>this.l(k)&&0>N.l(k))return y(this.m()*N.m());for(var I=this.g.length+N.g.length,R=[],x=0;x<2*I;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var D=0;D<N.g.length;D++){var b=this.i(x)>>>16,A=this.i(x)&65535,nt=N.i(D)>>>16,xt=N.i(D)&65535;R[2*x+2*D]+=A*xt,W(R,2*x+2*D),R[2*x+2*D+1]+=b*xt,W(R,2*x+2*D+1),R[2*x+2*D+1]+=A*nt,W(R,2*x+2*D+1),R[2*x+2*D+2]+=b*nt,W(R,2*x+2*D+2)}for(x=0;x<I;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=I;x<2*I;x++)R[x]=0;return new h(R,0)};function W(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function re(N,I){this.g=N,this.h=I}function de(N,I){if(L(I))throw Error("division by zero");if(L(N))return new re(T,T);if(j(N))return I=de(O(N),I),new re(O(I.g),O(I.h));if(j(I))return I=de(N,O(I)),new re(O(I.g),I.h);if(30<N.g.length){if(j(N)||j(I))throw Error("slowDivide_ only works with positive integers.");for(var R=S,x=I;0>=x.l(N);)R=Ie(R),x=Ie(x);var D=Se(R,1),b=Se(x,1);for(x=Se(x,2),R=Se(R,2);!L(x);){var A=b.add(x);0>=A.l(N)&&(D=D.add(R),b=A),x=Se(x,1),R=Se(R,1)}return I=H(N,D.j(I)),new re(D,I)}for(D=T;0<=N.l(I);){for(R=Math.max(1,Math.floor(N.m()/I.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),b=y(R),A=b.j(I);j(A)||0<A.l(N);)R-=x,b=y(R),A=b.j(I);L(b)&&(b=S),D=D.add(b),N=H(N,A)}return new re(D,N)}i.A=function(N){return de(this,N).h},i.and=function(N){for(var I=Math.max(this.g.length,N.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)&N.i(x);return new h(R,this.h&N.h)},i.or=function(N){for(var I=Math.max(this.g.length,N.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)|N.i(x);return new h(R,this.h|N.h)},i.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)^N.i(x);return new h(R,this.h^N.h)};function Ie(N){for(var I=N.g.length+1,R=[],x=0;x<I;x++)R[x]=N.i(x)<<1|N.i(x-1)>>>31;return new h(R,N.h)}function Se(N,I){var R=I>>5;I%=32;for(var x=N.g.length-R,D=[],b=0;b<x;b++)D[b]=0<I?N.i(b+R)>>>I|N.i(b+R+1)<<32-I:N.i(b+R);return new h(D,N.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Yg=o,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,Ui=h}).apply(typeof km<"u"?km:typeof self<"u"?self:typeof window<"u"?window:{});var Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xg,ia,Jg,nu,Uh,Zg,ey,ty;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,v){return l==Array.prototype||l==Object.prototype||(l[p]=v.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gl=="object"&&Gl];for(var p=0;p<l.length;++p){var v=l[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var o=n(this);function s(l,p){if(p)e:{var v=o;l=l.split(".");for(var w=0;w<l.length-1;w++){var F=l[w];if(!(F in v))break e;v=v[F]}l=l[l.length-1],w=v[l],p=p(w),p!=w&&p!=null&&e(v,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var v=0,w=!1,F={next:function(){if(!w&&v<l.length){var q=v++;return{value:p(q,l[q]),done:!1}}return w=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(l){return l||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function y(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function E(l,p,v){return l.call.apply(l.bind,arguments)}function T(l,p,v){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,w),l.apply(p,F)}}return function(){return l.apply(p,arguments)}}function S(l,p,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,S.apply(null,arguments)}function k(l,p){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function L(l,p){function v(){}v.prototype=p.prototype,l.aa=p.prototype,l.prototype=new v,l.prototype.constructor=l,l.Qb=function(w,F,q){for(var ne=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ne[Be-2]=arguments[Be];return p.prototype[F].apply(w,ne)}}function j(l){const p=l.length;if(0<p){const v=Array(p);for(let w=0;w<p;w++)v[w]=l[w];return v}return[]}function O(l,p){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(g(w)){const F=l.length||0,q=w.length||0;l.length=F+q;for(let ne=0;ne<q;ne++)l[F+ne]=w[ne]}else l.push(w)}}class H{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function W(l){return/^[\s\xa0]*$/.test(l)}function re(){var l=f.navigator;return l&&(l=l.userAgent)?l:""}function de(l){return de[" "](l),l}de[" "]=function(){};var Ie=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Se(l,p,v){for(const w in l)p.call(v,l[w],w,l)}function N(l,p){for(const v in l)p.call(void 0,l[v],v,l)}function I(l){const p={};for(const v in l)p[v]=l[v];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,p){let v,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(v in w)l[v]=w[v];for(let q=0;q<R.length;q++)v=R[q],Object.prototype.hasOwnProperty.call(w,v)&&(l[v]=w[v])}}function D(l){var p=1;l=l.split(":");const v=[];for(;0<p&&l.length;)v.push(l.shift()),p--;return l.length&&v.push(l.join(":")),v}function b(l){f.setTimeout(()=>{throw l},0)}function A(){var l=ge;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class nt{constructor(){this.h=this.g=null}add(p,v){const w=xt.get();w.set(p,v),this.h?this.h.next=w:this.g=w,this.h=w}}var xt=new H(()=>new Nt,l=>l.reset());class Nt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let je,ie=!1,ge=new nt,se=()=>{const l=f.Promise.resolve(void 0);je=()=>{l.then(M)}};var M=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(v){b(v)}var p=xt;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}ie=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return l}();function Re(l,p){if(pe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var v=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(Ie){e:{try{de(p.nodeName);var F=!0;break e}catch{}F=!1}F||(p=null)}}else v=="mouseover"?p=l.fromElement:v=="mouseout"&&(p=l.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ne[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Re.aa.h.call(this)}}L(Re,pe);var Ne={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function $e(l,p,v,w,F){this.listener=l,this.proxy=null,this.src=p,this.type=v,this.capture=!!w,this.ha=F,this.key=++Fe,this.da=this.fa=!1}function yt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function er(l){this.src=l,this.g={},this.h=0}er.prototype.add=function(l,p,v,w,F){var q=l.toString();l=this.g[q],l||(l=this.g[q]=[],this.h++);var ne=Ir(l,p,w,F);return-1<ne?(p=l[ne],v||(p.fa=!1)):(p=new $e(p,this.src,q,!!w,F),p.fa=v,l.push(p)),p};function Hi(l,p){var v=p.type;if(v in l.g){var w=l.g[v],F=Array.prototype.indexOf.call(w,p,void 0),q;(q=0<=F)&&Array.prototype.splice.call(w,F,1),q&&(yt(p),l.g[v].length==0&&(delete l.g[v],l.h--))}}function Ir(l,p,v,w){for(var F=0;F<l.length;++F){var q=l[F];if(!q.da&&q.listener==p&&q.capture==!!v&&q.ha==w)return F}return-1}var ui="closure_lm_"+(1e6*Math.random()|0),Wi={};function as(l,p,v,w,F){if(Array.isArray(p)){for(var q=0;q<p.length;q++)as(l,p[q],v,w,F);return null}return v=cs(v),l&&l[be]?l.K(p,v,y(w)?!!w.capture:!!w,F):ls(l,p,v,!1,w,F)}function ls(l,p,v,w,F,q){if(!p)throw Error("Invalid event type");var ne=y(F)?!!F.capture:!!F,Be=Qi(l);if(Be||(l[ui]=Be=new er(l)),v=Be.add(p,v,w,ne,q),v.proxy)return v;if(w=Va(),v.proxy=w,w.src=l,w.listener=v,l.addEventListener)Ce||(F=ne),F===void 0&&(F=!1),l.addEventListener(p.toString(),w,F);else if(l.attachEvent)l.attachEvent(nr(p.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Va(){function l(v){return p.call(l.src,l.listener,v)}const p=us;return l}function Ki(l,p,v,w,F){if(Array.isArray(p))for(var q=0;q<p.length;q++)Ki(l,p[q],v,w,F);else w=y(w)?!!w.capture:!!w,v=cs(v),l&&l[be]?(l=l.i,p=String(p).toString(),p in l.g&&(q=l.g[p],v=Ir(q,v,w,F),-1<v&&(yt(q[v]),Array.prototype.splice.call(q,v,1),q.length==0&&(delete l.g[p],l.h--)))):l&&(l=Qi(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Ir(p,v,w,F)),(v=-1<l?p[l]:null)&&tr(v))}function tr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[be])Hi(p.i,l);else{var v=l.type,w=l.proxy;p.removeEventListener?p.removeEventListener(v,w,l.capture):p.detachEvent?p.detachEvent(nr(v),w):p.addListener&&p.removeListener&&p.removeListener(w),(v=Qi(p))?(Hi(v,l),v.h==0&&(v.src=null,p[ui]=null)):yt(l)}}}function nr(l){return l in Wi?Wi[l]:Wi[l]="on"+l}function us(l,p){if(l.da)l=!0;else{p=new Re(p,this);var v=l.listener,w=l.ha||l.src;l.fa&&tr(l),l=v.call(w,p)}return l}function Qi(l){return l=l[ui],l instanceof er?l:null}var Gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function cs(l){return typeof l=="function"?l:(l[Gi]||(l[Gi]=function(p){return l.handleEvent(p)}),l[Gi])}function ct(){G.call(this),this.i=new er(this),this.M=this,this.F=null}L(ct,G),ct.prototype[be]=!0,ct.prototype.removeEventListener=function(l,p,v,w){Ki(this,l,p,v,w)};function ht(l,p){var v,w=l.F;if(w)for(v=[];w;w=w.F)v.push(w);if(l=l.M,w=p.type||p,typeof p=="string")p=new pe(p,l);else if(p instanceof pe)p.target=p.target||l;else{var F=p;p=new pe(w,l),x(p,F)}if(F=!0,v)for(var q=v.length-1;0<=q;q--){var ne=p.g=v[q];F=rr(ne,w,!0,p)&&F}if(ne=p.g=l,F=rr(ne,w,!0,p)&&F,F=rr(ne,w,!1,p)&&F,v)for(q=0;q<v.length;q++)ne=p.g=v[q],F=rr(ne,w,!1,p)&&F}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var v=l.g[p],w=0;w<v.length;w++)yt(v[w]);delete l.g[p],l.h--}}this.F=null},ct.prototype.K=function(l,p,v,w){return this.i.add(String(l),p,!1,v,w)},ct.prototype.L=function(l,p,v,w){return this.i.add(String(l),p,!0,v,w)};function rr(l,p,v,w){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var F=!0,q=0;q<p.length;++q){var ne=p[q];if(ne&&!ne.da&&ne.capture==v){var Be=ne.listener,dt=ne.ha||ne.src;ne.fa&&Hi(l.i,ne),F=Be.call(dt,w)!==!1&&F}}return F&&!w.defaultPrevented}function hs(l,p,v){if(typeof l=="function")v&&(l=S(l,v));else if(l&&typeof l.handleEvent=="function")l=S(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(l,p||0)}function Cr(l){l.g=hs(()=>{l.g=null,l.i&&(l.i=!1,Cr(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class ci extends G{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Cr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(l){G.call(this),this.h=l,this.g={}}L(hi,G);var ds=[];function fs(l){Se(l.g,function(p,v){this.g.hasOwnProperty(v)&&tr(p)},l),l.g={}}hi.prototype.N=function(){hi.aa.N.call(this),fs(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ps=f.JSON.stringify,ms=f.JSON.parse,gs=class{stringify(l){return f.JSON.stringify(l,void 0)}parse(l){return f.JSON.parse(l,void 0)}};function di(){}di.prototype.h=null;function Yi(l){return l.h||(l.h=l.i())}function Xi(){}var un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fn(){pe.call(this,"d")}L(Fn,pe);function Ji(){pe.call(this,"c")}L(Ji,pe);var Un={},ys=null;function fi(){return ys=ys||new ct}Un.La="serverreachability";function vs(l){pe.call(this,Un.La,l)}L(vs,pe);function ir(l){const p=fi();ht(p,new vs(p))}Un.STAT_EVENT="statevent";function _s(l,p){pe.call(this,Un.STAT_EVENT,l),this.stat=p}L(_s,pe);function rt(l){const p=fi();ht(p,new _s(p,l))}Un.Ma="timingevent";function Zi(l,p){pe.call(this,Un.Ma,l),this.size=p}L(Zi,pe);function En(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){l()},p)}function pi(){this.g=!0}pi.prototype.xa=function(){this.g=!1};function mi(l,p,v,w,F,q){l.info(function(){if(l.g)if(q)for(var ne="",Be=q.split("&"),dt=0;dt<Be.length;dt++){var Ve=Be[dt].split("=");if(1<Ve.length){var vt=Ve[0];Ve=Ve[1];var st=vt.split("_");ne=2<=st.length&&st[1]=="type"?ne+(vt+"="+Ve+"&"):ne+(vt+"=redacted&")}}else ne=null;else ne=q;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+p+`
`+v+`
`+ne})}function eo(l,p,v,w,F,q,ne){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+p+`
`+v+`
`+q+" "+ne})}function wn(l,p,v,w){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Uu(l,v)+(w?" "+w:"")})}function Es(l,p){l.info(function(){return"TIMEOUT: "+p})}pi.prototype.info=function(){};function Uu(l,p){if(!l.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(l=0;l<v.length;l++)if(Array.isArray(v[l])){var w=v[l];if(!(2>w.length)){var F=w[1];if(Array.isArray(F)&&!(1>F.length)){var q=F[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ne=1;ne<F.length;ne++)F[ne]=""}}}}return ps(v)}catch{return p}}var to={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Da={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tn;function gi(){}L(gi,di),gi.prototype.g=function(){return new XMLHttpRequest},gi.prototype.i=function(){return{}},Tn=new gi;function Sn(l,p,v,w){this.j=l,this.i=p,this.l=v,this.R=w||1,this.U=new hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new La}function La(){this.i=null,this.g="",this.h=!1}var ws={},no={};function ro(l,p,v){l.L=1,l.v=xr(tn(p)),l.m=v,l.P=!0,Ts(l,null)}function Ts(l,p){l.F=Date.now(),qe(l),l.A=tn(l.v);var v=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Vr(v.i,"t",w),l.C=0,v=l.j.J,l.h=new La,l.g=Ja(l.j,v?p:null,!l.m),0<l.O&&(l.M=new ci(S(l.Y,l,l.g),l.O)),p=l.U,v=l.g,w=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(ds[0]=F.toString()),F=ds);for(var q=0;q<F.length;q++){var ne=as(v,F[q],w||p.handleEvent,!1,p.h||p);if(!ne)break;p.g[ne.key]=ne}p=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),ir(),mi(l.i,l.u,l.A,l.l,l.R,l.m)}Sn.prototype.ca=function(l){l=l.target;const p=this.M;p&&qt(l)==3?p.j():this.Y(l)},Sn.prototype.Y=function(l){try{if(l==this.g)e:{const st=qt(this.g);var p=this.g.Ba();const dn=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||Ps(this.g)))){this.J||st!=4||p==7||(p==8||0>=dn?ir(3):ir(2)),yi(this);var v=this.g.Z();this.X=v;t:if(Oa(this)){var w=Ps(this.g);l="";var F=w.length,q=qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),Rr(this);var ne="";break t}this.h.i=new f.TextDecoder}for(p=0;p<F;p++)this.h.h=!0,l+=this.h.i.decode(w[p],{stream:!(q&&p==F-1)});w.length=0,this.h.g+=l,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=v==200,eo(this.i,this.u,this.A,this.l,this.R,st,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,dt=this.g;if((Be=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Be)){var Ve=Be;break t}}Ve=null}if(v=Ve)wn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ss(this,v);else{this.o=!1,this.s=3,rt(12),cn(this),Rr(this);break e}}if(this.P){v=!0;let rn;for(;!this.J&&this.C<ne.length;)if(rn=Bu(this,ne),rn==no){st==4&&(this.s=4,rt(14),v=!1),wn(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==ws){this.s=4,rt(15),wn(this.i,this.l,ne,"[Invalid Chunk]"),v=!1;break}else wn(this.i,this.l,rn,null),Ss(this,rn);if(Oa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||ne.length!=0||this.h.h||(this.s=1,rt(16),v=!1),this.o=this.o&&v,!v)wn(this.i,this.l,ne,"[Invalid Chunked Response]"),cn(this),Rr(this);else if(0<ne.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),xs(vt),vt.M=!0,rt(11))}}else wn(this.i,this.l,ne,null),Ss(this,ne);st==4&&cn(this),this.o&&!this.J&&(st==4?mo(this.j,this):(this.o=!1,qe(this)))}else uo(this.g),v==400&&0<ne.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),cn(this),Rr(this)}}}catch{}finally{}};function Oa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Bu(l,p){var v=l.C,w=p.indexOf(`
`,v);return w==-1?no:(v=Number(p.substring(v,w)),isNaN(v)?ws:(w+=1,w+v>p.length?no:(p=p.slice(w,w+v),l.C=w+v,p)))}Sn.prototype.cancel=function(){this.J=!0,cn(this)};function qe(l){l.S=Date.now()+l.I,Ma(l,l.I)}function Ma(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=En(S(l.ba,l),p)}function yi(l){l.B&&(f.clearTimeout(l.B),l.B=null)}Sn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Es(this.i,this.A),this.L!=2&&(ir(),rt(17)),cn(this),this.s=2,Rr(this)):Ma(this,this.S-l)};function Rr(l){l.j.G==0||l.J||mo(l.j,l)}function cn(l){yi(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,fs(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function Ss(l,p){try{var v=l.j;if(v.G!=0&&(v.g==l||Ut(v.h,l))){if(!l.K&&Ut(v.h,l)&&v.G==3){try{var w=v.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<l.F)po(v),Pn(v);else break e;fo(v),rt(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=En(S(v.Za,v),6e3));if(1>=Fa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ur(v,11)}else if((l.K||v.g==l)&&po(v),!W(p))for(F=v.Da.g.parse(p),p=0;p<F.length;p++){let Ve=F[p];if(v.T=Ve[0],Ve=Ve[1],v.G==2)if(Ve[0]=="c"){v.K=Ve[1],v.ia=Ve[2];const vt=Ve[3];vt!=null&&(v.la=vt,v.j.info("VER="+v.la));const st=Ve[4];st!=null&&(v.Aa=st,v.j.info("SVER="+v.Aa));const dn=Ve[5];dn!=null&&typeof dn=="number"&&0<dn&&(w=1.5*dn,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const rn=l.g;if(rn){const Ii=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var q=w.h;q.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Is(q,q.h),q.h=null))}if(w.D){const yo=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;yo&&(w.ya=yo,ze(w.I,w.D,yo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-l.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ne=l;if(w.qa=Xa(w,w.J?w.ia:null,w.W),ne.K){Ua(w.h,ne);var Be=ne,dt=w.L;dt&&(Be.I=dt),Be.B&&(yi(Be),qe(Be)),w.g=ne}else Si(w);0<v.i.length&&$n(v)}else Ve[0]!="stop"&&Ve[0]!="close"||ur(v,7);else v.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?ur(v,7):It(v):Ve[0]!="noop"&&v.l&&v.l.ta(Ve),v.v=0)}}ir(4)}catch{}}var ba=class{constructor(l,p){this.g=l,this.map=p}};function vi(l){this.l=l||10,f.PerformanceNavigationTiming?(l=f.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function en(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Fa(l){return l.h?1:l.g?l.g.size:0}function Ut(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Is(l,p){l.g?l.g.add(p):l.h=p}function Ua(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}vi.prototype.cancel=function(){if(this.i=Ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ba(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const v of l.g.values())p=p.concat(v.D);return p}return j(l.i)}function io(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],v=l.length,w=0;w<v;w++)p.push(l[w]);return p}p=[],v=0;for(w in l)p[v++]=l[w];return p}function oo(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var v=0;v<l;v++)p.push(v);return p}p=[],v=0;for(const w in l)p[v++]=w;return p}}}function Ar(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var v=oo(l),w=io(l),F=w.length,q=0;q<F;q++)p.call(void 0,w[q],v&&v[q],l)}var _i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ju(l,p){if(l){l=l.split("&");for(var v=0;v<l.length;v++){var w=l[v].indexOf("="),F=null;if(0<=w){var q=l[v].substring(0,w);F=l[v].substring(w+1)}else q=l[v];p(q,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function or(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof or){this.h=l.h,Ei(this,l.j),this.o=l.o,this.g=l.g,Pr(this,l.s),this.l=l.l;var p=l.i,v=new Bn;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),kr(this,v),this.m=l.m}else l&&(p=String(l).match(_i))?(this.h=!1,Ei(this,p[1]||"",!0),this.o=ke(p[2]||""),this.g=ke(p[3]||"",!0),Pr(this,p[4]),this.l=ke(p[5]||"",!0),kr(this,p[6]||"",!0),this.m=ke(p[7]||"")):(this.h=!1,this.i=new Bn(null,this.h))}or.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Nr(p,so,!0),":");var v=this.g;return(v||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Nr(p,so,!0),"@"),l.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&l.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&l.push("/"),l.push(Nr(v,v.charAt(0)=="/"?$a:za,!0))),(v=this.i.toString())&&l.push("?",v),(v=this.m)&&l.push("#",Nr(v,Cs)),l.join("")};function tn(l){return new or(l)}function Ei(l,p,v){l.j=v?ke(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Pr(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function kr(l,p,v){p instanceof Bn?(l.i=p,jn(l.i,l.h)):(v||(p=Nr(p,qa)),l.i=new Bn(p,l.h))}function ze(l,p,v){l.i.set(p,v)}function xr(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ke(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Nr(l,p,v){return typeof l=="string"?(l=encodeURI(l).replace(p,ja),v&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ja(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var so=/[#\/\?@]/g,za=/[#\?:]/g,$a=/[#\?]/g,qa=/[#\?@]/g,Cs=/#/g;function Bn(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function St(l){l.g||(l.g=new Map,l.h=0,l.i&&ju(l.i,function(p,v){l.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}i=Bn.prototype,i.add=function(l,p){St(this),this.i=null,l=hn(this,l);var v=this.g.get(l);return v||this.g.set(l,v=[]),v.push(p),this.h+=1,this};function In(l,p){St(l),p=hn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Cn(l,p){return St(l),p=hn(l,p),l.g.has(p)}i.forEach=function(l,p){St(this),this.g.forEach(function(v,w){v.forEach(function(F){l.call(p,F,w,this)},this)},this)},i.na=function(){St(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let w=0;w<p.length;w++){const F=l[w];for(let q=0;q<F.length;q++)v.push(p[w])}return v},i.V=function(l){St(this);let p=[];if(typeof l=="string")Cn(this,l)&&(p=p.concat(this.g.get(hn(this,l))));else{l=Array.from(this.g.values());for(let v=0;v<l.length;v++)p=p.concat(l[v])}return p},i.set=function(l,p){return St(this),this.i=null,l=hn(this,l),Cn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},i.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function Vr(l,p,v){In(l,p),0<v.length&&(l.i=null,l.g.set(hn(l,p),j(v)),l.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var w=p[v];const q=encodeURIComponent(String(w)),ne=this.V(w);for(w=0;w<ne.length;w++){var F=q;ne[w]!==""&&(F+="="+encodeURIComponent(String(ne[w]))),l.push(F)}}return this.i=l.join("&")};function hn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function jn(l,p){p&&!l.j&&(St(l),l.i=null,l.g.forEach(function(v,w){var F=w.toLowerCase();w!=F&&(In(this,w),Vr(this,F,v))},l)),l.j=p}function zu(l,p){const v=new pi;if(f.Image){const w=new Image;w.onload=k($t,v,"TestLoadImage: loaded",!0,p,w),w.onerror=k($t,v,"TestLoadImage: error",!1,p,w),w.onabort=k($t,v,"TestLoadImage: abort",!1,p,w),w.ontimeout=k($t,v,"TestLoadImage: timeout",!1,p,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else p(!1)}function Ha(l,p){const v=new pi,w=new AbortController,F=setTimeout(()=>{w.abort(),$t(v,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:w.signal}).then(q=>{clearTimeout(F),q.ok?$t(v,"TestPingServer: ok",!0,p):$t(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(F),$t(v,"TestPingServer: error",!1,p)})}function $t(l,p,v,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(v)}catch{}}function $u(){this.g=new gs}function Wa(l,p,v){const w=v||"";try{Ar(l,function(F,q){let ne=F;y(F)&&(ne=ps(F)),p.push(w+q+"="+encodeURIComponent(ne))})}catch(F){throw p.push(w+"type="+encodeURIComponent("_badmap")),F}}function sr(l){this.l=l.Ub||null,this.j=l.eb||!1}L(sr,di),sr.prototype.g=function(){return new wi(this.l,this.j)},sr.prototype.i=function(l){return function(){return l}}({});function wi(l,p){ct.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(wi,ct),i=wi.prototype,i.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,An(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ka(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ka(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Rn(this):An(this),this.readyState==3&&Ka(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Rn(this))},i.Qa=function(l){this.g&&(this.response=l,Rn(this))},i.ga=function(){this.g&&Rn(this)};function Rn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,An(l)}i.setRequestHeader=function(l,p){this.u.append(l,p)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,l.push(v[0]+": "+v[1]),v=p.next();return l.join(`\r
`)};function An(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ar(l){let p="";return Se(l,function(v,w){p+=w,p+=":",p+=v,p+=`\r
`}),p}function Dr(l,p,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=ar(v),typeof l=="string"?v!=null&&encodeURIComponent(String(v)):ze(l,p,v))}function Ge(l){ct.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ge,ct);var qu=/^https?$/i,Rs=["POST","PUT"];i=Ge.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,p,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tn.g(),this.v=this.o?Yi(this.o):Yi(Tn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(q){Ti(this,q);return}if(l=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)v.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const q of w.keys())v.set(q,w.get(q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),F=f.FormData&&l instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Rs,p,void 0))||w||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of v)this.g.setRequestHeader(q,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lo(this),this.u=!0,this.g.send(l),this.u=!1}catch(q){Ti(this,q)}};function Ti(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,ao(l),nn(l)}function ao(l){l.A||(l.A=!0,ht(l,"complete"),ht(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ht(this,"complete"),ht(this,"abort"),nn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nn(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?As(this):this.bb())},i.bb=function(){As(this)};function As(l){if(l.h&&typeof h<"u"&&(!l.v[1]||qt(l)!=4||l.Z()!=2)){if(l.u&&qt(l)==4)hs(l.Ea,0,l);else if(ht(l,"readystatechange"),qt(l)==4){l.h=!1;try{const ne=l.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var w;if(w=ne===0){var F=String(l.D).match(_i)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),w=!qu.test(F?F.toLowerCase():"")}v=w}if(v)ht(l,"complete"),ht(l,"success");else{l.m=6;try{var q=2<qt(l)?l.g.statusText:""}catch{q=""}l.l=q+" ["+l.Z()+"]",ao(l)}}finally{nn(l)}}}}function nn(l,p){if(l.g){lo(l);const v=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||ht(l,"ready");try{v.onreadystatechange=w}catch{}}}function lo(l){l.I&&(f.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function qt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),ms(p)}};function Ps(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function uo(l){const p={};l=(l.g&&2<=qt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(W(l[w]))continue;var v=D(l[w]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=p[F]||[];p[F]=q,q.push(v)}N(p,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zn(l,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[l]||p}function ks(l){this.Aa=0,this.i=[],this.j=new pi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zn("baseRetryDelayMs",5e3,l),this.cb=zn("retryDelaySeedMs",1e4,l),this.Wa=zn("forwardChannelMaxRetries",2,l),this.wa=zn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(l&&l.concurrentRequestLimit),this.Da=new $u,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ks.prototype,i.la=8,i.G=1,i.connect=function(l,p,v,w){rt(0),this.W=l,this.H=p||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Xa(this,null,this.W),$n(this)};function It(l){if(co(l),l.G==3){var p=l.U++,v=tn(l.I);if(ze(v,"SID",l.K),ze(v,"RID",p),ze(v,"TYPE","terminate"),lr(l,v),p=new Sn(l,l.j,p),p.L=2,p.v=xr(tn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.v,v=!0),v||(p.g=Ja(p.j,null),p.g.ea(p.v)),p.F=Date.now(),qe(p)}Ya(l)}function Pn(l){l.g&&(xs(l),l.g.cancel(),l.g=null)}function co(l){Pn(l),l.u&&(f.clearTimeout(l.u),l.u=null),po(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&f.clearTimeout(l.s),l.s=null)}function $n(l){if(!en(l.h)&&!l.s){l.s=!0;var p=l.Ga;je||se(),ie||(je(),ie=!0),ge.add(p,l),l.B=0}}function Hu(l,p){return Fa(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=En(S(l.Ga,l,p),Ga(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const F=new Sn(this,this.j,l);let q=this.o;if(this.S&&(q?(q=I(q),x(q,this.S)):q=this.S),this.m!==null||this.O||(F.H=q,q=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Lr(this,F,p),v=tn(this.I),ze(v,"RID",l),ze(v,"CVER",22),this.D&&ze(v,"X-HTTP-Session-Id",this.D),lr(this,v),q&&(this.O?p="headers="+encodeURIComponent(String(ar(q)))+"&"+p:this.m&&Dr(v,this.m,q)),Is(this.h,F),this.Ua&&ze(v,"TYPE","init"),this.P?(ze(v,"$req",p),ze(v,"SID","null"),F.T=!0,ro(F,v,null)):ro(F,v,p),this.G=2}}else this.G==3&&(l?ho(this,l):this.i.length==0||en(this.h)||ho(this))};function ho(l,p){var v;p?v=p.l:v=l.U++;const w=tn(l.I);ze(w,"SID",l.K),ze(w,"RID",v),ze(w,"AID",l.T),lr(l,w),l.m&&l.o&&Dr(w,l.m,l.o),v=new Sn(l,l.j,v,l.B+1),l.m===null&&(v.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Lr(l,v,1e3),v.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Is(l.h,v),ro(v,w,p)}function lr(l,p){l.H&&Se(l.H,function(v,w){ze(p,w,v)}),l.l&&Ar({},function(v,w){ze(p,w,v)})}function Lr(l,p,v){v=Math.min(l.i.length,v);var w=l.l?S(l.l.Na,l.l,l):null;e:{var F=l.i;let q=-1;for(;;){const ne=["count="+v];q==-1?0<v?(q=F[0].g,ne.push("ofs="+q)):q=0:ne.push("ofs="+q);let Be=!0;for(let dt=0;dt<v;dt++){let Ve=F[dt].g;const vt=F[dt].map;if(Ve-=q,0>Ve)q=Math.max(0,F[dt].g-100),Be=!1;else try{Wa(vt,ne,"req"+Ve+"_")}catch{w&&w(vt)}}if(Be){w=ne.join("&");break e}}}return l=l.i.splice(0,v),p.D=l,w}function Si(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;je||se(),ie||(je(),ie=!0),ge.add(p,l),l.v=0}}function fo(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=En(S(l.Fa,l),Ga(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Qa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=En(S(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Pn(this),Qa(this))};function xs(l){l.A!=null&&(f.clearTimeout(l.A),l.A=null)}function Qa(l){l.g=new Sn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=tn(l.qa);ze(p,"RID","rpc"),ze(p,"SID",l.K),ze(p,"AID",l.T),ze(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(p,"TO",l.ja),ze(p,"TYPE","xmlhttp"),lr(l,p),l.m&&l.o&&Dr(p,l.m,l.o),l.L&&(l.g.I=l.L);var v=l.g;l=l.ia,v.L=1,v.v=xr(tn(p)),v.m=null,v.P=!0,Ts(v,l)}i.Za=function(){this.C!=null&&(this.C=null,Pn(this),fo(this),rt(19))};function po(l){l.C!=null&&(f.clearTimeout(l.C),l.C=null)}function mo(l,p){var v=null;if(l.g==p){po(l),xs(l),l.g=null;var w=2}else if(Ut(l.h,p))v=p.D,Ua(l.h,p),w=1;else return;if(l.G!=0){if(p.o)if(w==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var F=l.B;w=fi(),ht(w,new Zi(w,v)),$n(l)}else Si(l);else if(F=p.s,F==3||F==0&&0<p.X||!(w==1&&Hu(l,p)||w==2&&fo(l)))switch(v&&0<v.length&&(p=l.h,p.i=p.i.concat(v)),F){case 1:ur(l,5);break;case 4:ur(l,10);break;case 3:ur(l,6);break;default:ur(l,2)}}}function Ga(l,p){let v=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(v*=2),v*p}function ur(l,p){if(l.j.info("Error code "+p),p==2){var v=S(l.fb,l),w=l.Xa;const F=!w;w=new or(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ei(w,"https"),xr(w),F?zu(w.toString(),v):Ha(w.toString(),v)}else rt(2);l.G=0,l.l&&l.l.sa(p),Ya(l),co(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Ya(l){if(l.G=0,l.ka=[],l.l){const p=Ba(l.h);(p.length!=0||l.i.length!=0)&&(O(l.ka,p),O(l.ka,l.i),l.h.i.length=0,j(l.i),l.i.length=0),l.l.ra()}}function Xa(l,p,v){var w=v instanceof or?tn(v):new or(v);if(w.g!="")p&&(w.g=p+"."+w.g),Pr(w,w.s);else{var F=f.location;w=F.protocol,p=p?p+"."+F.hostname:F.hostname,F=+F.port;var q=new or(null);w&&Ei(q,w),p&&(q.g=p),F&&Pr(q,F),v&&(q.l=v),w=q}return v=l.D,p=l.ya,v&&p&&ze(w,v,p),ze(w,"VER",l.la),lr(l,w),w}function Ja(l,p,v){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Ge(new sr({eb:v})):new Ge(l.pa),p.Ha(l.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ns(){}i=Ns.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function go(){}go.prototype.g=function(l,p){return new Bt(l,p)};function Bt(l,p){ct.call(this),this.g=new ks(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!W(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!W(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new qn(this)}L(Bt,ct),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){It(this.g)},Bt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var v={};v.__data__=l,l=v}else this.u&&(v={},v.__data__=ps(l),l=v);p.i.push(new ba(p.Ya++,l)),p.G==3&&$n(p)},Bt.prototype.N=function(){this.g.l=null,delete this.j,It(this.g),delete this.g,Bt.aa.N.call(this)};function Za(l){Fn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const v in p){l=v;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}L(Za,Fn);function el(){Ji.call(this),this.status=1}L(el,Ji);function qn(l){this.g=l}L(qn,Ns),qn.prototype.ua=function(){ht(this.g,"a")},qn.prototype.ta=function(l){ht(this.g,new Za(l))},qn.prototype.sa=function(l){ht(this.g,new el)},qn.prototype.ra=function(){ht(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,ty=function(){return new go},ey=function(){return fi()},Zg=Un,Uh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},to.NO_ERROR=0,to.TIMEOUT=8,to.HTTP_ERROR=6,nu=to,Da.COMPLETE="complete",Jg=Da,Xi.EventType=un,un.OPEN="a",un.CLOSE="b",un.ERROR="c",un.MESSAGE="d",ct.prototype.listen=ct.prototype.K,ia=Xi,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,Xg=Ge}).apply(typeof Gl<"u"?Gl:typeof self<"u"?self:typeof window<"u"?window:{});const xm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ns="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new qg("@firebase/firestore");function Fo(){return Bi.logLevel}function ae(i,...e){if(Bi.logLevel<=Le.DEBUG){const n=e.map(md);Bi.debug(`Firestore (${ns}): ${i}`,...n)}}function Tr(i,...e){if(Bi.logLevel<=Le.ERROR){const n=e.map(md);Bi.error(`Firestore (${ns}): ${i}`,...n)}}function Ho(i,...e){if(Bi.logLevel<=Le.WARN){const n=e.map(md);Bi.warn(`Firestore (${ns}): ${i}`,...n)}}function md(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i="Unexpected state"){const e=`FIRESTORE (${ns}) INTERNAL ASSERTION FAILED: `+i;throw Tr(e),new Error(e)}function Ue(i,e){i||Ee()}function Te(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class jw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zw{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0);let o=this.i;const s=g=>this.i!==o?(o=this.i,n(g)):Promise.resolve();let u=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _r,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await s(this.currentUser)})},f=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _r)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ue(typeof o.accessToken=="string"),new ny(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new bt(e)}}class $w{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class qw{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new $w(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ww{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ue(this.o===void 0);const o=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const s=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?s(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new Hw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const s=Kw(40);for(let u=0;u<s.length;++u)o.length<20&&s[u]<n&&(o+=e.charAt(s[u]%e.length))}return o}}function xe(i,e){return i<e?-1:i>e?1:0}function Wo(i,e,n){return i.length===e.length&&i.every((o,s)=>n(o,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new mt(n,o)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new le(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new mt(0,0))}static max(){return new we(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n,o){n===void 0?n=0:n>e.length&&Ee(),o===void 0?o=e.length-n:o>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return ma.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ma?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let s=0;s<o;s++){const u=e.get(s),h=n.get(s);if(u<h)return-1;if(u>h)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qe extends ma{construct(e,n,o){return new Qe(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new le(K.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(s=>s.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const Qw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends ma{construct(e,n,o){return new Pt(e,n,o)}static isValidIdentifier(e){return Qw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const n=[];let o="",s=0;const u=()=>{if(o.length===0)throw new le(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let h=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new le(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[s+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=g,s+=2}else f==="`"?(h=!h,s++):f!=="."||h?(o+=f,s++):(u(),s++)}if(u(),h)throw new le(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Qe.fromString(e))}static fromName(e){return new me(Qe.fromString(e).popFirst(5))}static empty(){return new me(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Qe(e.slice()))}}function Gw(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,s=we.fromTimestamp(o===1e9?new mt(n+1,0):new mt(n,o));return new ei(s,me.empty(),e)}function Yw(i){return new ei(i.readTime,i.key,-1)}class ei{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new ei(we.min(),me.empty(),-1)}static max(){return new ei(we.max(),me.empty(),-1)}}function Xw(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(i.documentKey,e.documentKey),n!==0?n:xe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rs(i){if(i.code!==K.FAILED_PRECONDITION||i.message!==Jw)throw i;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((o,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,s)},this.catchCallback=u=>{this.wrapFailure(n,u).next(o,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,o)=>{n(e)})}static reject(e){return new Q((n,o)=>{o(e)})}static waitFor(e){return new Q((n,o)=>{let s=0,u=0,h=!1;e.forEach(f=>{++s,f.next(()=>{++u,h&&u===s&&n()},g=>o(g))}),h=!0,u===s&&n()})}static or(e){let n=Q.resolve(!1);for(const o of e)n=n.next(s=>s?Q.resolve(s):o());return n}static forEach(e,n){const o=[];return e.forEach((s,u)=>{o.push(n.call(this,s,u))}),this.waitFor(o)}static mapArray(e,n){return new Q((o,s)=>{const u=e.length,h=new Array(u);let f=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next(E=>{h[y]=E,++f,f===u&&o(h)},E=>s(E))}})}static doWhile(e,n){return new Q((o,s)=>{const u=()=>{e()===!0?n().next(()=>{u()},s):o()};u()})}}function e1(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function is(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.ie(o),this.se=o=>n.writeSequenceNumber(o))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Su.oe=-1;function Iu(i){return i==null}function du(i){return i===0&&1/i==-1/0}function t1(i){return typeof i=="number"&&Number.isInteger(i)&&!du(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Nm(e)),e=r1(i.get(n),e);return Nm(e)}function r1(i,e){let n=e;const o=i.length;for(let s=0;s<o;s++){const u=i.charAt(s);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function Nm(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ai(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function iy(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(o===0)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const s=this.comparator(e,o.key);if(s===0)return n+o.left.size;s<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yl(this.root,e,this.comparator,!0)}}class Yl{constructor(e,n,o,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?o(e.key,n):1,n&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,o,s,u){this.key=e,this.value=n,this.color=o??At.RED,this.left=s??At.EMPTY,this.right=u??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,s,u){return new At(e??this.key,n??this.value,o??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let s=this;const u=o(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,n,o),null):u===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,o)),s.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return At.EMPTY;o=s.right.min(),s=s.copy(o.key,o.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,o,s,u){return this}insert(e,n,o){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const s=o.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let o;for(o=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dm(this.data.getIterator())}getIteratorFrom(e){return new Dm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,u=o.getNext().key;if(this.comparator(s,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class Dm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new ln([])}unionWith(e){let n=new gt(Pt.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,(n,o)=>n.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new oy("Invalid base64 string: "+u):u}}(e);return new kt(n)}static fromUint8Array(e){const n=function(s){let u="";for(let h=0;h<s.length;++h)u+=String.fromCharCode(s[h]);return u}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let s=0;s<n.length;s++)o[s]=n.charCodeAt(s);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const i1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(i){if(Ue(!!i),typeof i=="string"){let e=0;const n=i1.exec(i);if(Ue(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:ot(i.seconds),nanos:ot(i.nanos)}}function ot(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ni(i){return typeof i=="string"?kt.fromBase64String(i):kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Cu(i){const e=i.mapValue.fields.__previous_value__;return gd(e)?Cu(e):e}function ga(i){const e=ti(i.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n,o,s,u,h,f,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=s,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=y}}class ya{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ya("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ya&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ri(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?gd(i)?4:a1(i)?9007199254740991:s1(i)?10:11:Ee()}function Zn(i,e){if(i===e)return!0;const n=ri(i);if(n!==ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ga(i).isEqual(ga(e));case 3:return function(s,u){if(typeof s.timestampValue=="string"&&typeof u.timestampValue=="string"&&s.timestampValue.length===u.timestampValue.length)return s.timestampValue===u.timestampValue;const h=ti(s.timestampValue),f=ti(u.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(s,u){return ni(s.bytesValue).isEqual(ni(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,u){return ot(s.geoPointValue.latitude)===ot(u.geoPointValue.latitude)&&ot(s.geoPointValue.longitude)===ot(u.geoPointValue.longitude)}(i,e);case 2:return function(s,u){if("integerValue"in s&&"integerValue"in u)return ot(s.integerValue)===ot(u.integerValue);if("doubleValue"in s&&"doubleValue"in u){const h=ot(s.doubleValue),f=ot(u.doubleValue);return h===f?du(h)===du(f):isNaN(h)&&isNaN(f)}return!1}(i,e);case 9:return Wo(i.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return function(s,u){const h=s.mapValue.fields||{},f=u.mapValue.fields||{};if(Vm(h)!==Vm(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!Zn(h[g],f[g])))return!1;return!0}(i,e);default:return Ee()}}function va(i,e){return(i.values||[]).find(n=>Zn(n,e))!==void 0}function Ko(i,e){if(i===e)return 0;const n=ri(i),o=ri(e);if(n!==o)return xe(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(i.booleanValue,e.booleanValue);case 2:return function(u,h){const f=ot(u.integerValue||u.doubleValue),g=ot(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(i,e);case 3:return Lm(i.timestampValue,e.timestampValue);case 4:return Lm(ga(i),ga(e));case 5:return xe(i.stringValue,e.stringValue);case 6:return function(u,h){const f=ni(u),g=ni(h);return f.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const f=u.split("/"),g=h.split("/");for(let y=0;y<f.length&&y<g.length;y++){const E=xe(f[y],g[y]);if(E!==0)return E}return xe(f.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const f=xe(ot(u.latitude),ot(h.latitude));return f!==0?f:xe(ot(u.longitude),ot(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Om(i.arrayValue,e.arrayValue);case 10:return function(u,h){var f,g,y,E;const T=u.fields||{},S=h.fields||{},k=(f=T.value)===null||f===void 0?void 0:f.arrayValue,L=(g=S.value)===null||g===void 0?void 0:g.arrayValue,j=xe(((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0,((E=L==null?void 0:L.values)===null||E===void 0?void 0:E.length)||0);return j!==0?j:Om(k,L)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Xl.mapValue&&h===Xl.mapValue)return 0;if(u===Xl.mapValue)return 1;if(h===Xl.mapValue)return-1;const f=u.fields||{},g=Object.keys(f),y=h.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const S=xe(g[T],E[T]);if(S!==0)return S;const k=Ko(f[g[T]],y[E[T]]);if(k!==0)return k}return xe(g.length,E.length)}(i.mapValue,e.mapValue);default:throw Ee()}}function Lm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return xe(i,e);const n=ti(i),o=ti(e),s=xe(n.seconds,o.seconds);return s!==0?s:xe(n.nanos,o.nanos)}function Om(i,e){const n=i.values||[],o=e.values||[];for(let s=0;s<n.length&&s<o.length;++s){const u=Ko(n[s],o[s]);if(u)return u}return xe(n.length,o.length)}function Qo(i){return Bh(i)}function Bh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const o=ti(n);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ni(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return me.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let o="[",s=!0;for(const u of n.values||[])s?s=!1:o+=",",o+=Bh(u);return o+"]"}(i.arrayValue):"mapValue"in i?function(n){const o=Object.keys(n.fields||{}).sort();let s="{",u=!0;for(const h of o)u?u=!1:s+=",",s+=`${h}:${Bh(n.fields[h])}`;return s+"}"}(i.mapValue):Ee()}function ru(i){switch(ri(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cu(i);return e?16+ru(e):16;case 5:return 2*i.stringValue.length;case 6:return ni(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((s,u)=>s+ru(u),0)}(i.arrayValue);case 10:case 11:return function(o){let s=0;return ai(o.fields,(u,h)=>{s+=u.length+ru(h)}),s}(i.mapValue);default:throw Ee()}}function Mm(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function jh(i){return!!i&&"integerValue"in i}function yd(i){return!!i&&"arrayValue"in i}function bm(i){return!!i&&"nullValue"in i}function Fm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function iu(i){return!!i&&"mapValue"in i}function s1(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function la(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ai(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=la(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=la(i.arrayValue.values[n]);return e}return Object.assign({},i)}function a1(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!iu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=la(n)}setAll(e){let n=Pt.emptyPath(),o={},s=[];e.forEach((h,f)=>{if(!n.isImmediateParentOf(f)){const g=this.getFieldsMap(n);this.applyChanges(g,o,s),o={},s=[],n=f.popLast()}h?o[f.lastSegment()]=la(h):s.push(f.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,o,s)}delete(e){const n=this.field(e.popLast());iu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let s=n.mapValue.fields[e.get(o)];iu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,o){ai(n,(s,u)=>e[s]=u);for(const s of o)delete e[s]}clone(){return new Jt(la(this.value))}}function sy(i){const e=[];return ai(i.fields,(n,o)=>{const s=new Pt([n]);if(iu(o)){const u=sy(o.mapValue).fields;if(u.length===0)e.push(s);else for(const h of u)e.push(s.child(h))}else e.push(s)}),new ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,o,s,u,h,f){this.key=e,this.documentType=n,this.version=o,this.readTime=s,this.createTime=u,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Ft(e,0,we.min(),we.min(),we.min(),Jt.empty(),0)}static newFoundDocument(e,n,o,s){return new Ft(e,1,n,we.min(),o,s,0)}static newNoDocument(e,n){return new Ft(e,2,n,we.min(),we.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,we.min(),we.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.position=e,this.inclusive=n}}function Um(i,e,n){let o=0;for(let s=0;s<i.position.length;s++){const u=e[s],h=i.position[s];if(u.field.isKeyField()?o=me.comparator(me.fromName(h.referenceValue),n.key):o=Ko(h,n.data.field(u.field)),u.dir==="desc"&&(o*=-1),o!==0)break}return o}function Bm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Zn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n="asc"){this.field=e,this.dir=n}}function l1(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{}class ut extends ay{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,o):new c1(e,n,o):n==="array-contains"?new f1(e,o):n==="in"?new p1(e,o):n==="not-in"?new m1(e,o):n==="array-contains-any"?new g1(e,o):new ut(e,n,o)}static createKeyFieldInFilter(e,n,o){return n==="in"?new h1(e,o):new d1(e,o)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ko(n,this.value)):n!==null&&ri(this.value)===ri(n)&&this.matchesComparison(Ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends ay{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Mn(e,n)}matches(e){return ly(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ly(i){return i.op==="and"}function uy(i){return u1(i)&&ly(i)}function u1(i){for(const e of i.filters)if(e instanceof Mn)return!1;return!0}function zh(i){if(i instanceof ut)return i.field.canonicalString()+i.op.toString()+Qo(i.value);if(uy(i))return i.filters.map(e=>zh(e)).join(",");{const e=i.filters.map(n=>zh(n)).join(",");return`${i.op}(${e})`}}function cy(i,e){return i instanceof ut?function(o,s){return s instanceof ut&&o.op===s.op&&o.field.isEqual(s.field)&&Zn(o.value,s.value)}(i,e):i instanceof Mn?function(o,s){return s instanceof Mn&&o.op===s.op&&o.filters.length===s.filters.length?o.filters.reduce((u,h,f)=>u&&cy(h,s.filters[f]),!0):!1}(i,e):void Ee()}function hy(i){return i instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${Qo(n.value)}`}(i):i instanceof Mn?function(n){return n.op.toString()+" {"+n.getFilters().map(hy).join(" ,")+"}"}(i):"Filter"}class c1 extends ut{constructor(e,n,o){super(e,n,o),this.key=me.fromName(o.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class h1 extends ut{constructor(e,n){super(e,"in",n),this.keys=dy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class d1 extends ut{constructor(e,n){super(e,"not-in",n),this.keys=dy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dy(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(o=>me.fromName(o.referenceValue))}class f1 extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yd(n)&&va(n.arrayValue,this.value)}}class p1 extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&va(this.value.arrayValue,n)}}class m1 extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!va(this.value.arrayValue,n)}}class g1 extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>va(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n=null,o=[],s=[],u=null,h=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=s,this.limit=u,this.startAt=h,this.endAt=f,this.ue=null}}function jm(i,e=null,n=[],o=[],s=null,u=null,h=null){return new y1(i,e,n,o,s,u,h)}function vd(i){const e=Te(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>zh(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>function(u){return u.field.canonicalString()+u.dir}(o)).join(","),Iu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Qo(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Qo(o)).join(",")),e.ue=n}return e.ue}function _d(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!l1(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!cy(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Bm(i.startAt,e.startAt)&&Bm(i.endAt,e.endAt)}function $h(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n=null,o=[],s=[],u=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=s,this.limit=u,this.limitType=h,this.startAt=f,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function v1(i,e,n,o,s,u,h,f){return new os(i,e,n,o,s,u,h,f)}function Ed(i){return new os(i)}function zm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function fy(i){return i.collectionGroup!==null}function ua(i){const e=Te(i);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new gt(Pt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new _a(u,o))}),n.has(Pt.keyField().canonicalString())||e.ce.push(new _a(Pt.keyField(),o))}return e.ce}function Yn(i){const e=Te(i);return e.le||(e.le=_1(e,ua(i))),e.le}function _1(i,e){if(i.limitType==="F")return jm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(s=>{const u=s.dir==="desc"?"asc":"desc";return new _a(s.field,u)});const n=i.endAt?new fu(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new fu(i.startAt.position,i.startAt.inclusive):null;return jm(i.path,i.collectionGroup,e,i.filters,i.limit,n,o)}}function qh(i,e){const n=i.filters.concat([e]);return new os(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Hh(i,e,n){return new os(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Ru(i,e){return _d(Yn(i),Yn(e))&&i.limitType===e.limitType}function py(i){return`${vd(Yn(i))}|lt:${i.limitType}`}function Uo(i){return`Query(target=${function(n){let o=n.path.canonicalString();return n.collectionGroup!==null&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(s=>hy(s)).join(", ")}]`),Iu(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(s=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(s)).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(s=>Qo(s)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(s=>Qo(s)).join(",")),`Target(${o})`}(Yn(i))}; limitType=${i.limitType})`}function Au(i,e){return e.isFoundDocument()&&function(o,s){const u=s.key.path;return o.collectionGroup!==null?s.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(u):me.isDocumentKey(o.path)?o.path.isEqual(u):o.path.isImmediateParentOf(u)}(i,e)&&function(o,s){for(const u of ua(o))if(!u.field.isKeyField()&&s.data.field(u.field)===null)return!1;return!0}(i,e)&&function(o,s){for(const u of o.filters)if(!u.matches(s))return!1;return!0}(i,e)&&function(o,s){return!(o.startAt&&!function(h,f,g){const y=Um(h,f,g);return h.inclusive?y<=0:y<0}(o.startAt,ua(o),s)||o.endAt&&!function(h,f,g){const y=Um(h,f,g);return h.inclusive?y>=0:y>0}(o.endAt,ua(o),s))}(i,e)}function E1(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function my(i){return(e,n)=>{let o=!1;for(const s of ua(i)){const u=w1(s,e,n);if(u!==0)return u;o=o||s.field.isKeyField()}return 0}}function w1(i,e,n){const o=i.field.isKeyField()?me.comparator(e.key,n.key):function(u,h,f){const g=h.data.field(u),y=f.data.field(u);return g!==null&&y!==null?Ko(g,y):Ee()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(o!==void 0){for(const[s,u]of o)if(this.equalsFn(s,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const o=this.mapKeyFn(e),s=this.inner[o];if(s===void 0)return this.inner[o]=[[e,n]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(o===void 0)return!1;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return o.length===1?delete this.inner[n]:o.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ai(this.inner,(n,o)=>{for(const[s,u]of o)e(s,u)})}isEmpty(){return iy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new et(me.comparator);function Sr(){return T1}const gy=new et(me.comparator);function oa(...i){let e=gy;for(const n of i)e=e.insert(n.key,n);return e}function yy(i){let e=gy;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Fi(){return ca()}function vy(){return ca()}function ca(){return new zi(i=>i.toString(),(i,e)=>i.isEqual(e))}const S1=new et(me.comparator),I1=new gt(me.comparator);function Pe(...i){let e=I1;for(const n of i)e=e.add(n);return e}const C1=new gt(xe);function R1(){return C1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:du(e)?"-0":e}}function _y(i){return{integerValue:""+i}}function A1(i,e){return t1(e)?_y(e):wd(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(){this._=void 0}}function P1(i,e,n){return i instanceof pu?function(s,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return u&&gd(u)&&(u=Cu(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(n,e):i instanceof Ea?wy(i,e):i instanceof wa?Ty(i,e):function(s,u){const h=Ey(s,u),f=$m(h)+$m(s.Pe);return jh(h)&&jh(s.Pe)?_y(f):wd(s.serializer,f)}(i,e)}function k1(i,e,n){return i instanceof Ea?wy(i,e):i instanceof wa?Ty(i,e):n}function Ey(i,e){return i instanceof mu?function(o){return jh(o)||function(u){return!!u&&"doubleValue"in u}(o)}(e)?e:{integerValue:0}:null}class pu extends Pu{}class Ea extends Pu{constructor(e){super(),this.elements=e}}function wy(i,e){const n=Sy(e);for(const o of i.elements)n.some(s=>Zn(s,o))||n.push(o);return{arrayValue:{values:n}}}class wa extends Pu{constructor(e){super(),this.elements=e}}function Ty(i,e){let n=Sy(e);for(const o of i.elements)n=n.filter(s=>!Zn(s,o));return{arrayValue:{values:n}}}class mu extends Pu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function $m(i){return ot(i.integerValue||i.doubleValue)}function Sy(i){return yd(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function x1(i,e){return i.field.isEqual(e.field)&&function(o,s){return o instanceof Ea&&s instanceof Ea||o instanceof wa&&s instanceof wa?Wo(o.elements,s.elements,Zn):o instanceof mu&&s instanceof mu?Zn(o.Pe,s.Pe):o instanceof pu&&s instanceof pu}(i.transform,e.transform)}class N1{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ou(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ku{}function Iy(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ry(i.key,Xn.none()):new Ca(i.key,i.data,Xn.none());{const n=i.data,o=Jt.empty();let s=new gt(Pt.comparator);for(let u of e.fields)if(!s.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?o.delete(u):o.set(u,h),s=s.add(u)}return new li(i.key,o,new ln(s.toArray()),Xn.none())}}function V1(i,e,n){i instanceof Ca?function(s,u,h){const f=s.value.clone(),g=Hm(s.fieldTransforms,u,h.transformResults);f.setAll(g),u.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(i,e,n):i instanceof li?function(s,u,h){if(!ou(s.precondition,u))return void u.convertToUnknownDocument(h.version);const f=Hm(s.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Cy(s)),g.setAll(f),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(s,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function ha(i,e,n,o){return i instanceof Ca?function(u,h,f,g){if(!ou(u.precondition,h))return f;const y=u.value.clone(),E=Wm(u.fieldTransforms,g,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(i,e,n,o):i instanceof li?function(u,h,f,g){if(!ou(u.precondition,h))return f;const y=Wm(u.fieldTransforms,g,h),E=h.data;return E.setAll(Cy(u)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),f===null?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(i,e,n,o):function(u,h,f){return ou(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(i,e,n)}function D1(i,e){let n=null;for(const o of i.fieldTransforms){const s=e.data.field(o.field),u=Ey(o.transform,s||null);u!=null&&(n===null&&(n=Jt.empty()),n.set(o.field,u))}return n||null}function qm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(o,s){return o===void 0&&s===void 0||!(!o||!s)&&Wo(o,s,(u,h)=>x1(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ca extends ku{constructor(e,n,o,s=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class li extends ku{constructor(e,n,o,s,u=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Cy(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Hm(i,e,n){const o=new Map;Ue(i.length===n.length);for(let s=0;s<n.length;s++){const u=i[s],h=u.transform,f=e.data.field(u.field);o.set(u.field,k1(h,f,n[s]))}return o}function Wm(i,e,n){const o=new Map;for(const s of i){const u=s.transform,h=n.data.field(s.field);o.set(s.field,P1(u,h,e))}return o}class Ry extends ku{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L1 extends ku{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n,o,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=s}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&V1(u,e,o[s])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=ha(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=ha(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=vy();return this.mutations.forEach(s=>{const u=e.get(s.key),h=u.overlayedDocument;let f=this.applyToLocalView(h,u.mutatedFields);f=n.has(s.key)?null:f;const g=Iy(h,f);g!==null&&o.set(s.key,g),h.isValidDocument()||h.convertToNoDocument(we.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,(n,o)=>qm(n,o))&&Wo(this.baseMutations,e.baseMutations,(n,o)=>qm(n,o))}}class Td{constructor(e,n,o,s){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=s}static from(e,n,o){Ue(e.mutations.length===o.length);let s=function(){return S1}();const u=e.mutations;for(let h=0;h<u.length;h++)s=s.insert(u[h].key,o[h].version);return new Td(e,n,o,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,De;function F1(i){switch(i){default:return Ee();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function Ay(i){if(i===void 0)return Tr("GRPC error has no .code"),K.UNKNOWN;switch(i){case lt.OK:return K.OK;case lt.CANCELLED:return K.CANCELLED;case lt.UNKNOWN:return K.UNKNOWN;case lt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case lt.INTERNAL:return K.INTERNAL;case lt.UNAVAILABLE:return K.UNAVAILABLE;case lt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case lt.NOT_FOUND:return K.NOT_FOUND;case lt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case lt.ABORTED:return K.ABORTED;case lt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case lt.DATA_LOSS:return K.DATA_LOSS;default:return Ee()}}(De=lt||(lt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=new Ui([4294967295,4294967295],0);function Km(i){const e=U1().encode(i),n=new Yg;return n.update(e),new Uint8Array(n.digest())}function Qm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ui([n,o],0),new Ui([s,u],0)]}class Sd{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new sa(`Invalid padding: ${n}`);if(o<0)throw new sa(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new sa(`Invalid hash count: ${o}`);if(e.length===0&&n!==0)throw new sa(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Ui.fromNumber(this.Te)}Ee(e,n,o){let s=e.add(n.multiply(Ui.fromNumber(o)));return s.compare(B1)===1&&(s=new Ui([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Km(e),[o,s]=Qm(n);for(let u=0;u<this.hashCount;u++){const h=this.Ee(o,s,u);if(!this.de(h))return!1}return!0}static create(e,n,o){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Sd(u,s,n);return o.forEach(f=>h.insert(f)),h}insert(e){if(this.Te===0)return;const n=Km(e),[o,s]=Qm(n);for(let u=0;u<this.hashCount;u++){const h=this.Ee(o,s,u);this.Ae(h)}}Ae(e){const n=Math.floor(e/8),o=e%8;this.bitmap[n]|=1<<o}}class sa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n,o,s,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const s=new Map;return s.set(e,Ra.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new xu(we.min(),s,new et(xe),Sr(),Pe())}}class Ra{constructor(e,n,o,s,u){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Ra(o,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,o,s){this.Re=e,this.removedTargetIds=n,this.key=o,this.Ve=s}}class Py{constructor(e,n){this.targetId=e,this.me=n}}class ky{constructor(e,n,o=kt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=s}}class Gm{constructor(){this.fe=0,this.ge=Ym(),this.pe=kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),n=Pe(),o=Pe();return this.ge.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:o=o.add(s);break;default:Ee()}}),new Ra(this.pe,this.ye,e,n,o)}Ce(){this.we=!1,this.ge=Ym()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class j1{constructor(e){this.Le=e,this.Be=new Map,this.ke=Sr(),this.qe=Jl(),this.Qe=Jl(),this.Ke=new et(xe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const o=this.ze(n);switch(e.state){case 0:this.je(n)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(n);break;case 3:this.je(n)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),o.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((o,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,o=e.me.count,s=this.Ye(n);if(s){const u=s.target;if($h(u))if(o===0){const h=new me(u.path);this.We(n,h,Ft.newNoDocument(h,we.min()))}else Ue(o===1);else{const h=this.Ze(n);if(h!==o){const f=this.Xe(e),g=f?this.et(f,e,h):1;if(g!==0){this.He(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:s=0},hashCount:u=0}=n;let h,f;try{h=ni(o).toUint8Array()}catch(g){if(g instanceof oy)return Ho("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Sd(h,s,u)}catch(g){return Ho(g instanceof sa?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.Te===0?null:f}et(e,n,o){return n.me.count===o-this.rt(e,n.targetId)?0:2}rt(e,n){const o=this.Le.getRemoteKeysForTarget(n);let s=0;return o.forEach(u=>{const h=this.Le.nt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(f)||(this.We(n,u,null),s++)}),s}it(e){const n=new Map;this.Be.forEach((u,h)=>{const f=this.Ye(h);if(f){if(u.current&&$h(f.target)){const g=new me(f.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,Ft.newNoDocument(g,e))}u.be&&(n.set(h,u.ve()),u.Ce())}});let o=Pe();this.Qe.forEach((u,h)=>{let f=!0;h.forEachWhile(g=>{const y=this.Ye(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(o=o.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const s=new xu(e,n,this.Ke,this.ke,o);return this.ke=Sr(),this.qe=Jl(),this.Qe=Jl(),this.Ke=new et(xe),s}Ue(e,n){if(!this.je(e))return;const o=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,o),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,o){if(!this.je(e))return;const s=this.ze(e);this.ot(e,n)?s.Fe(n,1):s.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),o&&(this.ke=this.ke.insert(n,o))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new Gm,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new gt(xe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new gt(xe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Gm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Jl(){return new et(me.comparator)}function Ym(){return new et(me.comparator)}const z1={asc:"ASCENDING",desc:"DESCENDING"},$1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q1={and:"AND",or:"OR"};class H1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wh(i,e){return i.useProto3Json||Iu(e)?e:{value:e}}function gu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xy(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function W1(i,e){return gu(i,e.toTimestamp())}function Jn(i){return Ue(!!i),we.fromTimestamp(function(n){const o=ti(n);return new mt(o.seconds,o.nanos)}(i))}function Id(i,e){return Kh(i,e).canonicalString()}function Kh(i,e){const n=function(s){return new Qe(["projects",s.projectId,"databases",s.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Ny(i){const e=Qe.fromString(i);return Ue(My(e)),e}function Qh(i,e){return Id(i.databaseId,e.path)}function Th(i,e){const n=Ny(e);if(n.get(1)!==i.databaseId.projectId)throw new le(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new me(Dy(n))}function Vy(i,e){return Id(i.databaseId,e)}function K1(i){const e=Ny(i);return e.length===4?Qe.emptyPath():Dy(e)}function Gh(i){return new Qe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Dy(i){return Ue(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Xm(i,e,n){return{name:Qh(i,e),fields:n.value.mapValue.fields}}function Q1(i,e){let n;if("targetChange"in e){e.targetChange;const o=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Ue(E===void 0||typeof E=="string"),kt.fromBase64String(E||"")):(Ue(E===void 0||E instanceof Buffer||E instanceof Uint8Array),kt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(y){const E=y.code===void 0?K.UNKNOWN:Ay(y.code);return new le(E,y.message||"")}(h);n=new ky(o,s,u,f||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const s=Th(i,o.document.name),u=Jn(o.document.updateTime),h=o.document.createTime?Jn(o.document.createTime):we.min(),f=new Jt({mapValue:{fields:o.document.fields}}),g=Ft.newFoundDocument(s,u,h,f),y=o.targetIds||[],E=o.removedTargetIds||[];n=new su(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const s=Th(i,o.document),u=o.readTime?Jn(o.readTime):we.min(),h=Ft.newNoDocument(s,u),f=o.removedTargetIds||[];n=new su([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const s=Th(i,o.document),u=o.removedTargetIds||[];n=new su([],u,s,null)}else{if(!("filter"in e))return Ee();{e.filter;const o=e.filter;o.targetId;const{count:s=0,unchangedNames:u}=o,h=new b1(s,u),f=o.targetId;n=new Py(f,h)}}return n}function G1(i,e){let n;if(e instanceof Ca)n={update:Xm(i,e.key,e.value)};else if(e instanceof Ry)n={delete:Qh(i,e.key)};else if(e instanceof li)n={update:Xm(i,e.key,e.data),updateMask:iT(e.fieldMask)};else{if(!(e instanceof L1))return Ee();n={verify:Qh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,h){const f=h.transform;if(f instanceof pu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ea)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof wa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof mu)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw Ee()}(0,o))),e.precondition.isNone||(n.currentDocument=function(s,u){return u.updateTime!==void 0?{updateTime:W1(s,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee()}(i,e.precondition)),n}function Y1(i,e){return i&&i.length>0?(Ue(e!==void 0),i.map(n=>function(s,u){let h=s.updateTime?Jn(s.updateTime):Jn(u);return h.isEqual(we.min())&&(h=Jn(u)),new N1(h,s.transformResults||[])}(n,e))):[]}function X1(i,e){return{documents:[Vy(i,e.path)]}}function J1(i,e){const n={structuredQuery:{}},o=e.path;let s;e.collectionGroup!==null?(s=o,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=o.popLast(),n.structuredQuery.from=[{collectionId:o.lastSegment()}]),n.parent=Vy(i,s);const u=function(y){if(y.length!==0)return Oy(Mn.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(E=>function(S){return{field:Bo(S.field),direction:tT(S.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const f=Wh(i,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:n,parent:s}}function Z1(i){let e=K1(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let s=null;if(o>0){Ue(o===1);const E=n.from[0];E.allDescendants?s=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(T){const S=Ly(T);return S instanceof Mn&&uy(S)?S.getFilters():[S]}(n.where));let h=[];n.orderBy&&(h=function(T){return T.map(S=>function(L){return new _a(jo(L.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(S))}(n.orderBy));let f=null;n.limit&&(f=function(T){let S;return S=typeof T=="object"?T.value:T,Iu(S)?null:S}(n.limit));let g=null;n.startAt&&(g=function(T){const S=!!T.before,k=T.values||[];return new fu(k,S)}(n.startAt));let y=null;return n.endAt&&(y=function(T){const S=!T.before,k=T.values||[];return new fu(k,S)}(n.endAt)),v1(e,s,h,u,f,"F",g,y)}function eT(i,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ly(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=jo(n.unaryFilter.field);return ut.create(o,"==",{doubleValue:NaN});case"IS_NULL":const s=jo(n.unaryFilter.field);return ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=jo(n.unaryFilter.field);return ut.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=jo(n.unaryFilter.field);return ut.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(i):i.fieldFilter!==void 0?function(n){return ut.create(jo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Mn.create(n.compositeFilter.filters.map(o=>Ly(o)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(i):Ee()}function tT(i){return z1[i]}function nT(i){return $1[i]}function rT(i){return q1[i]}function Bo(i){return{fieldPath:i.canonicalString()}}function jo(i){return Pt.fromServerFormat(i.fieldPath)}function Oy(i){return i instanceof ut?function(n){if(n.op==="=="){if(Fm(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NAN"}};if(bm(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fm(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NAN"}};if(bm(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(n.field),op:nT(n.op),value:n.value}}}(i):i instanceof Mn?function(n){const o=n.getFilters().map(s=>Oy(s));return o.length===1?o[0]:{compositeFilter:{op:rT(n.op),filters:o}}}(i):Ee()}function iT(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function My(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n,o,s,u=we.min(),h=we.min(),f=kt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new Gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.ht=e}}function sT(i){const e=Z1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Hh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.ln=new lT}addToCollectionParentIndex(e,n){return this.ln.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(ei.min())}updateCollectionGroup(e,n,o){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class lT{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),s=this.index[n]||new gt(Qe.comparator),u=!s.has(o);return this.index[n]=s.add(o),u}has(e){const n=e.lastSegment(),o=e.popLast(),s=this.index[n];return s&&s.has(o)}getEntries(e){return(this.index[e]||new gt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(41943040,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Go(0)}static Qn(){return new Go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm([i,e],[n,o]){const s=xe(i,n);return s===0?xe(e,o):s}class uT{constructor(e){this.Gn=e,this.buffer=new gt(Zm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();Zm(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cT{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){is(n)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await rs(n)}await this.Yn(3e5)})}}class hT{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Su.oe);const o=new uT(n);return this.Zn.forEachTarget(e,s=>o.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>o.Hn(s))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.Zn.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Jm)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jm):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let o,s,u,h,f,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,h=Date.now(),this.nthSequenceNumber(e,s))).next(T=>(o=T,f=Date.now(),this.removeTargets(e,o,n))).next(T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,o))).next(T=>(y=Date.now(),Fo()<=Le.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${s} in `+(f-h)+`ms
	Removed ${u} targets in `+(g-f)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:T})))}}function dT(i,e){return new hT(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.changes=new zi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return o!==void 0?Q.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,o,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=s}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(o=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(o!==null&&ha(o.mutation,s,ln.empty(),mt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Pe()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Pe()){const s=Fi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,o).next(u=>{let h=oa();return u.forEach((f,g)=>{h=h.insert(f,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const o=Fi();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Pe()))}populateOverlays(e,n,o){const s=[];return o.forEach(u=>{n.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((h,f)=>{n.set(h,f)})})}computeViews(e,n,o,s){let u=Sr();const h=ca(),f=function(){return ca()}();return n.forEach((g,y)=>{const E=o.get(y.key);s.has(y.key)&&(E===void 0||E.mutation instanceof li)?u=u.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),ha(E.mutation,y,E.mutation.getFieldMask(),mt.now())):h.set(y.key,ln.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,E)=>h.set(y,E)),n.forEach((y,E)=>{var T;return f.set(y,new pT(E,(T=h.get(y))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,n){const o=ca();let s=new et((h,f)=>h-f),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const f of h)f.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let E=o.get(g)||ln.empty();E=f.applyToLocalView(y,E),o.set(g,E);const T=(s.get(f.batchId)||Pe()).add(g);s=s.insert(f.batchId,T)})}).next(()=>{const h=[],f=s.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),y=g.key,E=g.value,T=vy();E.forEach(S=>{if(!u.has(S)){const k=Iy(n.get(S),o.get(S));k!==null&&T.set(S,k),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return Q.waitFor(h)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,s){return function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,s):this.getDocumentsMatchingCollectionQuery(e,n,o,s)}getNextDocuments(e,n,o,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,s).next(u=>{const h=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,s-u.size):Q.resolve(Fi());let f=-1,g=u;return h.next(y=>Q.forEach(y,(E,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),u.get(E)?Q.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{g=g.insert(E,S)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,Pe())).next(E=>({batchId:f,changes:yy(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(o=>{let s=oa();return o.isFoundDocument()&&(s=s.insert(o.key,o)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,o,s){const u=n.collectionGroup;let h=oa();return this.indexManager.getCollectionParents(e,u).next(f=>Q.forEach(f,g=>{const y=function(T,S){return new os(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,o,s).next(E=>{E.forEach((T,S)=>{h=h.insert(T,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,o,s){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u,s))).next(h=>{u.forEach((g,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,Ft.newInvalidDocument(E)))});let f=oa();return h.forEach((g,y)=>{const E=u.get(g);E!==void 0&&ha(E.mutation,y,ln.empty(),mt.now()),Au(n,y)&&(f=f.insert(g,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return Q.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Jn(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(s){return{name:s.name,query:sT(s.bundledQuery),readTime:Jn(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.overlays=new et(me.comparator),this.Er=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Fi();return Q.forEach(n,s=>this.getOverlay(e,s).next(u=>{u!==null&&o.set(s,u)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((s,u)=>{this.Tt(e,n,u)}),Q.resolve()}removeOverlaysForBatchId(e,n,o){const s=this.Er.get(o);return s!==void 0&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.Er.delete(o)),Q.resolve()}getOverlaysForCollection(e,n,o){const s=Fi(),u=n.length+1,h=new me(n.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>o&&s.set(g.getKey(),g)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,o,s){let u=new et((y,E)=>y-E);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>o){let E=u.get(y.largestBatchId);E===null&&(E=Fi(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const f=Fi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>f.set(y,E)),!(f.size()>=s)););return Q.resolve(f)}Tt(e,n,o){const s=this.overlays.get(o.key);if(s!==null){const h=this.Er.get(s.largestBatchId).delete(o.key);this.Er.set(s.largestBatchId,h)}this.overlays=this.overlays.insert(o.key,new M1(n,o));let u=this.Er.get(n);u===void 0&&(u=Pe(),this.Er.set(n,u)),this.Er.set(n,u.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.dr=new gt(Tt.Ar),this.Rr=new gt(Tt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const o=new Tt(e,n);this.dr=this.dr.add(o),this.Rr=this.Rr.add(o)}mr(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.gr(new Tt(e,n))}pr(e,n){e.forEach(o=>this.removeReference(o,n))}yr(e){const n=new me(new Qe([])),o=new Tt(n,e),s=new Tt(n,e+1),u=[];return this.Rr.forEachInRange([o,s],h=>{this.gr(h),u.push(h.key)}),u}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new me(new Qe([])),o=new Tt(n,e),s=new Tt(n,e+1);let u=Pe();return this.Rr.forEachInRange([o,s],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Tt(e,0),o=this.dr.firstAfterOrEqual(n);return o!==null&&e.isEqual(o.key)}}class Tt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return me.comparator(e.key,n.key)||xe(e.br,n.br)}static Vr(e,n){return xe(e.br,n.br)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new gt(Tt.Ar)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,o,s){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new O1(u,n,o,s);this.mutationQueue.push(h);for(const f of s)this.vr=this.vr.add(new Tt(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,n){return Q.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const o=n+1,s=this.Fr(o),u=s<0?0:s;return Q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Tt(n,0),s=new Tt(n,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([o,s],h=>{const f=this.Cr(h.br);u.push(f)}),Q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new gt(xe);return n.forEach(s=>{const u=new Tt(s,0),h=new Tt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,h],f=>{o=o.add(f.br)})}),Q.resolve(this.Mr(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,s=o.length+1;let u=o;me.isDocumentKey(u)||(u=u.child(""));const h=new Tt(new me(u),0);let f=new gt(xe);return this.vr.forEachWhile(g=>{const y=g.key.path;return!!o.isPrefixOf(y)&&(y.length===s&&(f=f.add(g.br)),!0)},h),Q.resolve(this.Mr(f))}Mr(e){const n=[];return e.forEach(o=>{const s=this.Cr(o);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ue(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let o=this.vr;return Q.forEach(n.mutations,s=>{const u=new Tt(s.key,n.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=o})}Ln(e){}containsKey(e,n){const o=new Tt(n,0),s=this.vr.firstAfterOrEqual(o);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.Nr=e,this.docs=function(){return new et(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,s=this.docs.get(o),u=s?s.size:0,h=this.Nr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Q.resolve(o?o.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let o=Sr();return n.forEach(s=>{const u=this.docs.get(s);o=o.insert(s,u?u.document.mutableCopy():Ft.newInvalidDocument(s))}),Q.resolve(o)}getDocumentsMatchingQuery(e,n,o,s){let u=Sr();const h=n.path,f=new me(h.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||Xw(Yw(E),o)<=0||(s.has(E.key)||Au(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Q.resolve(u)}getAllFromCollectionGroup(e,n,o,s){Ee()}Lr(e,n){return Q.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new wT(this)}getSize(e){return Q.resolve(this.size)}}class wT extends fT{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((o,s)=>{s.isValidDocument()?n.push(this.hr.addEntry(e,s)):this.hr.removeEntry(o)}),Q.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e){this.persistence=e,this.Br=new zi(n=>vd(n),_d),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.kr=0,this.qr=new Cd,this.targetCount=0,this.Qr=Go.qn()}forEachTarget(e,n){return this.Br.forEach((o,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.kr&&(this.kr=n),Q.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Go(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Un(n),Q.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,o){let s=0;const u=[];return this.Br.forEach((h,f)=>{f.sequenceNumber<=n&&o.get(f.targetId)===null&&(this.Br.delete(h),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),Q.waitFor(u).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const o=this.Br.get(n)||null;return Q.resolve(o)}addMatchingKeys(e,n,o){return this.qr.mr(n,o),Q.resolve()}removeMatchingKeys(e,n,o){this.qr.pr(n,o);const s=this.persistence.referenceDelegate,u=[];return s&&n.forEach(h=>{u.push(s.markPotentiallyOrphaned(e,h))}),Q.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const o=this.qr.Sr(n);return Q.resolve(o)}containsKey(e,n){return Q.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Su(0),this.Ur=!1,this.Ur=!0,this.Wr=new vT,this.referenceDelegate=e(this),this.Gr=new TT(this),this.indexManager=new aT,this.remoteDocumentCache=function(s){return new ET(s)}(o=>this.referenceDelegate.zr(o)),this.serializer=new oT(n),this.jr=new gT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Kr[e.toKey()];return o||(o=new _T(n,this.referenceDelegate),this.Kr[e.toKey()]=o),o}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,o){ae("MemoryPersistence","Starting transaction:",e);const s=new ST(this.$r.next());return this.referenceDelegate.Hr(),o(s).next(u=>this.referenceDelegate.Jr(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Yr(e,n){return Q.or(Object.values(this.Kr).map(o=>()=>o.containsKey(e,n)))}}class ST extends Zw{constructor(e){super(),this.currentSequenceNumber=e}}class Rd{constructor(e){this.persistence=e,this.Zr=new Cd,this.Xr=null}static ei(e){return new Rd(e)}get ti(){if(this.Xr)return this.Xr;throw Ee()}addReference(e,n,o){return this.Zr.addReference(o,n),this.ti.delete(o.toString()),Q.resolve()}removeReference(e,n,o){return this.Zr.removeReference(o,n),this.ti.add(o.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(s=>this.ti.add(s.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(u=>this.ti.add(u.toString()))}).next(()=>o.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ti,o=>{const s=me.fromPath(o);return this.ni(e,s).next(u=>{u||n.removeEntry(s,we.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(o=>{o?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return Q.or([()=>Q.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class yu{constructor(e,n){this.persistence=e,this.ri=new zi(o=>n1(o.path),(o,s)=>o.isEqual(s)),this.garbageCollector=dT(this,n)}static ei(e,n){return new yu(e,n)}Hr(){}Jr(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>n.next(s=>o+s))}nr(e){let n=0;return this.er(e,o=>{n++}).next(()=>n)}er(e,n){return Q.forEach(this.ri,(o,s)=>this.ir(e,o,s).next(u=>u?Q.resolve():n(s)))}removeTargets(e,n,o){return this.persistence.getTargetCache().removeTargets(e,n,o)}removeOrphanedDocuments(e,n){let o=0;const s=this.persistence.getRemoteDocumentCache(),u=s.newChangeBuffer();return s.Lr(e,h=>this.ir(e,h,n).next(f=>{f||(o++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,n,o){return this.ri.set(o,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,o){return this.ri.set(o,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),Q.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ru(e.data.value)),n}ir(e,n,o){return Q.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.ri.get(n);return Q.resolve(s!==void 0&&s>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n,o,s){this.targetId=e,this.fromCache=n,this.Wi=o,this.Gi=s}static zi(e,n){let o=Pe(),s=Pe();for(const u of n.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new Ad(e,n.fromCache,o,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return TE()?8:e1(EE())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,o,s){const u={result:null};return this.Xi(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.es(e,n,s,o).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new IT;return this.ts(e,n,h).next(f=>{if(u.result=f,this.Hi)return this.ns(e,n,h,f.size)})}).next(()=>u.result)}ns(e,n,o,s){return o.documentReadCount<this.Ji?(Fo()<=Le.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Q.resolve()):(Fo()<=Le.DEBUG&&ae("QueryEngine","Query:",Uo(n),"scans",o.documentReadCount,"local documents and returns",s,"documents as results."),o.documentReadCount>this.Yi*s?(Fo()<=Le.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(n))):Q.resolve())}Xi(e,n){if(zm(n))return Q.resolve(null);let o=Yn(n);return this.indexManager.getIndexType(e,o).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Hh(n,null,"F"),o=Yn(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const h=Pe(...u);return this.Zi.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,o).next(g=>{const y=this.rs(n,f);return this.ss(n,y,h,g.readTime)?this.Xi(e,Hh(n,null,"F")):this.os(e,y,n,g)}))})))}es(e,n,o,s){return zm(n)||s.isEqual(we.min())?Q.resolve(null):this.Zi.getDocuments(e,o).next(u=>{const h=this.rs(n,u);return this.ss(n,h,o,s)?Q.resolve(null):(Fo()<=Le.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Uo(n)),this.os(e,h,n,Gw(s,-1)).next(f=>f))})}rs(e,n){let o=new gt(my(e));return n.forEach((s,u)=>{Au(e,u)&&(o=o.add(u))}),o}ss(e,n,o,s){if(e.limit===null)return!1;if(o.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}ts(e,n,o){return Fo()<=Le.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Uo(n)),this.Zi.getDocumentsMatchingQuery(e,n,ei.min(),o)}os(e,n,o,s){return this.Zi.getDocumentsMatchingQuery(e,o,s).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n,o,s){this.persistence=e,this._s=n,this.serializer=s,this.us=new et(xe),this.cs=new zi(u=>vd(u),_d),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(o)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mT(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function AT(i,e,n,o){return new RT(i,e,n,o)}async function Fy(i,e){const n=Te(i);return await n.persistence.runTransaction("Handle user change","readonly",o=>{let s;return n.mutationQueue.getAllMutationBatches(o).next(u=>(s=u,n.Ps(e),n.mutationQueue.getAllMutationBatches(o))).next(u=>{const h=[],f=[];let g=Pe();for(const y of s){h.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(o,g).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:f}))})})}function PT(i,e){const n=Te(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const s=e.batch.keys(),u=n.hs.newChangeBuffer({trackRemovals:!0});return function(f,g,y,E){const T=y.batch,S=T.keys();let k=Q.resolve();return S.forEach(L=>{k=k.next(()=>E.getEntry(g,L)).next(j=>{const O=y.docVersions.get(L);Ue(O!==null),j.version.compareTo(O)<0&&(T.applyToRemoteDocument(j,y),j.isValidDocument()&&(j.setReadTime(y.commitVersion),E.addEntry(j)))})}),k.next(()=>f.mutationQueue.removeMutationBatch(g,T))}(n,o,e,u).next(()=>u.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let g=Pe();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(g=g.add(f.batch.mutations[y].key));return g}(e))).next(()=>n.localDocuments.getDocuments(o,s))})}function Uy(i){const e=Te(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function kT(i,e){const n=Te(i),o=e.snapshotVersion;let s=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.hs.newChangeBuffer({trackRemovals:!0});s=n.us;const f=[];e.targetChanges.forEach((E,T)=>{const S=s.get(T);if(!S)return;f.push(n.Gr.removeMatchingKeys(u,E.removedDocuments,T).next(()=>n.Gr.addMatchingKeys(u,E.addedDocuments,T)));let k=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(kt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,o)),s=s.insert(T,k),function(j,O,H){return j.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(S,k,E)&&f.push(n.Gr.updateTargetData(u,k))});let g=Sr(),y=Pe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),f.push(xT(u,h,e.documentUpdates).next(E=>{g=E.Is,y=E.Es})),!o.isEqual(we.min())){const E=n.Gr.getLastRemoteSnapshotVersion(u).next(T=>n.Gr.setTargetsMetadata(u,u.currentSequenceNumber,o));f.push(E)}return Q.waitFor(f).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.us=s,u))}function xT(i,e,n){let o=Pe(),s=Pe();return n.forEach(u=>o=o.add(u)),e.getEntries(i,o).next(u=>{let h=Sr();return n.forEach((f,g)=>{const y=u.get(f);g.isFoundDocument()!==y.isFoundDocument()&&(s=s.add(f)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):ae("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",g.version)}),{Is:h,Es:s}})}function NT(i,e){const n=Te(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function VT(i,e){const n=Te(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let s;return n.Gr.getTargetData(o,e).next(u=>u?(s=u,Q.resolve(s)):n.Gr.allocateTargetId(o).next(h=>(s=new Gr(e,h,"TargetPurposeListen",o.currentSequenceNumber),n.Gr.addTargetData(o,s).next(()=>s))))}).then(o=>{const s=n.us.get(o.targetId);return(s===null||o.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.us=n.us.insert(o.targetId,o),n.cs.set(e,o.targetId)),o})}async function Yh(i,e,n){const o=Te(i),s=o.us.get(e),u=n?"readwrite":"readwrite-primary";try{n||await o.persistence.runTransaction("Release target",u,h=>o.persistence.referenceDelegate.removeTarget(h,s))}catch(h){if(!is(h))throw h;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}o.us=o.us.remove(e),o.cs.delete(s.target)}function eg(i,e,n){const o=Te(i);let s=we.min(),u=Pe();return o.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,E){const T=Te(g),S=T.cs.get(E);return S!==void 0?Q.resolve(T.us.get(S)):T.Gr.getTargetData(y,E)}(o,h,Yn(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,o.Gr.getMatchingKeysForTargetId(h,f.targetId).next(g=>{u=g})}).next(()=>o._s.getDocumentsMatchingQuery(h,e,n?s:we.min(),n?u:Pe())).next(f=>(DT(o,E1(e),f),{documents:f,ds:u})))}function DT(i,e,n){let o=i.ls.get(e)||we.min();n.forEach((s,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),i.ls.set(e,o)}class tg{constructor(){this.activeTargetIds=R1()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LT{constructor(){this._o=new tg,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,o){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new tg,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl=null;function Sh(){return Zl===null?Zl=function(){return 268435456+Math.round(2147483648*Math.random())}():Zl++,"0x"+Zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class FT extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=o+"://"+n.host,this.Mo=`projects/${s}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Oo(n,o,s,u,h){const f=Sh(),g=this.No(n,o.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${f}:`,g,s);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,u,h),this.Bo(n,g,y,s).then(E=>(ae("RestConnection",`Received RPC '${n}' ${f}: `,E),E),E=>{throw Ho("RestConnection",`RPC '${n}' ${f} failed with error: `,E,"url: ",g,"request:",s),E})}ko(n,o,s,u,h,f){return this.Oo(n,o,s,u,h)}Lo(n,o,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ns}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((u,h)=>n[h]=u),s&&s.headers.forEach((u,h)=>n[h]=u)}No(n,o){const s=MT[n];return`${this.Fo}/v1/${o}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,o,s){const u=Sh();return new Promise((h,f)=>{const g=new Xg;g.setWithCredentials(!0),g.listenOnce(Jg.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case nu.NO_ERROR:const E=g.getResponseJson();ae(Mt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case nu.TIMEOUT:ae(Mt,`RPC '${e}' ${u} timed out`),f(new le(K.DEADLINE_EXCEEDED,"Request time out"));break;case nu.HTTP_ERROR:const T=g.getStatus();if(ae(Mt,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S==null?void 0:S.error;if(k&&k.status&&k.message){const L=function(O){const H=O.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(H)>=0?H:K.UNKNOWN}(k.status);f(new le(L,k.message))}else f(new le(K.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new le(K.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ae(Mt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(s);ae(Mt,`RPC '${e}' ${u} sending request:`,s),g.send(n,"POST",y,o,15)})}qo(e,n,o){const s=Sh(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=ty(),f=ey(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,n,o),g.encodeInitMessageHeaders=!0;const E=u.join("");ae(Mt,`Creating RPC '${e}' stream ${s}: ${E}`,g);const T=h.createWebChannel(E,g);let S=!1,k=!1;const L=new bT({Eo:O=>{k?ae(Mt,`Not sending because RPC '${e}' stream ${s} is closed:`,O):(S||(ae(Mt,`Opening RPC '${e}' stream ${s} transport.`),T.open(),S=!0),ae(Mt,`RPC '${e}' stream ${s} sending:`,O),T.send(O))},Ao:()=>T.close()}),j=(O,H,W)=>{O.listen(H,re=>{try{W(re)}catch(de){setTimeout(()=>{throw de},0)}})};return j(T,ia.EventType.OPEN,()=>{k||(ae(Mt,`RPC '${e}' stream ${s} transport opened.`),L.So())}),j(T,ia.EventType.CLOSE,()=>{k||(k=!0,ae(Mt,`RPC '${e}' stream ${s} transport closed`),L.Do())}),j(T,ia.EventType.ERROR,O=>{k||(k=!0,Ho(Mt,`RPC '${e}' stream ${s} transport errored:`,O),L.Do(new le(K.UNAVAILABLE,"The operation could not be completed")))}),j(T,ia.EventType.MESSAGE,O=>{var H;if(!k){const W=O.data[0];Ue(!!W);const re=W,de=(re==null?void 0:re.error)||((H=re[0])===null||H===void 0?void 0:H.error);if(de){ae(Mt,`RPC '${e}' stream ${s} received error:`,de);const Ie=de.status;let Se=function(R){const x=lt[R];if(x!==void 0)return Ay(x)}(Ie),N=de.message;Se===void 0&&(Se=K.INTERNAL,N="Unknown error status: "+Ie+" with message "+de.message),k=!0,L.Do(new le(Se,N)),T.close()}else ae(Mt,`RPC '${e}' stream ${s} received:`,W),L.vo(W)}}),j(f,Zg.STAT_EVENT,O=>{O.stat===Uh.PROXY?ae(Mt,`RPC '${e}' stream ${s} detected buffering proxy`):O.stat===Uh.NOPROXY&&ae(Mt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{L.bo()},0),L}}function Ih(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(i){return new H1(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n,o=1e3,s=1.5,u=6e4){this.li=e,this.timerId=n,this.Qo=o,this.Ko=s,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),o=Math.max(0,Date.now()-this.Go),s=Math.max(0,n-o);s>0&&ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n,o,s,u,h,f,g){this.li=e,this.Yo=o,this.Zo=s,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new By(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,s])=>{this.Xo===n&&this.I_(o,s)},o=>{e(()=>{const s=new le(K.UNKNOWN,"Fetching auth token failed: "+o.message);return this.E_(s)})})}I_(e,n){const o=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{o(()=>this.listener.Ro())}),this.stream.mo(()=>{o(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{o(()=>this.E_(s))}),this.stream.onMessage(s=>{o(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UT extends jy{constructor(e,n,o,s,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,s,h),this.serializer=u}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=Q1(this.serializer,e),o=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Jn(h.readTime):we.min()}(e);return this.listener.R_(n,o)}V_(e){const n={};n.database=Gh(this.serializer),n.addTarget=function(u,h){let f;const g=h.target;if(f=$h(g)?{documents:X1(u,g)}:{query:J1(u,g).ct},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=xy(u,h.resumeToken);const y=Wh(u,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(we.min())>0){f.readTime=gu(u,h.snapshotVersion.toTimestamp());const y=Wh(u,h.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const o=eT(this.serializer,e);o&&(n.labels=o),this.c_(n)}m_(e){const n={};n.database=Gh(this.serializer),n.removeTarget=e,this.c_(n)}}class BT extends jy{constructor(e,n,o,s,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,s,h),this.serializer=u}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=Y1(e.writeResults,e.commitTime),o=Jn(e.commitTime);return this.listener.y_(o,n)}w_(){const e={};e.database=Gh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>G1(this.serializer,o))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends class{}{constructor(e,n,o,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new le(K.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,o,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Oo(e,Kh(n,o),s,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(K.UNKNOWN,u.toString())})}ko(e,n,o,s,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.ko(e,Kh(n,o),s,h,f,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(K.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class zT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Tr(n),this.C_=!1):ae("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,o,s,u){this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(h=>{o.enqueueAndForget(async()=>{$i(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(g){const y=Te(g);y.k_.add(4),await Aa(y),y.K_.set("Unknown"),y.k_.delete(4),await Vu(y)}(this))})}),this.K_=new zT(o,s)}}async function Vu(i){if($i(i))for(const e of i.q_)await e(!0)}async function Aa(i){for(const e of i.q_)await e(!1)}function zy(i,e){const n=Te(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Nd(n)?xd(n):ss(n).s_()&&kd(n,e))}function Pd(i,e){const n=Te(i),o=ss(n);n.B_.delete(e),o.s_()&&$y(n,e),n.B_.size===0&&(o.s_()?o.a_():$i(n)&&n.K_.set("Unknown"))}function kd(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ss(i).V_(e)}function $y(i,e){i.U_.xe(e),ss(i).m_(e)}function xd(i){i.U_=new j1({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),ss(i).start(),i.K_.F_()}function Nd(i){return $i(i)&&!ss(i).i_()&&i.B_.size>0}function $i(i){return Te(i).k_.size===0}function qy(i){i.U_=void 0}async function qT(i){i.K_.set("Online")}async function HT(i){i.B_.forEach((e,n)=>{kd(i,e)})}async function WT(i,e){qy(i),Nd(i)?(i.K_.O_(e),xd(i)):i.K_.set("Unknown")}async function KT(i,e,n){if(i.K_.set("Online"),e instanceof ky&&e.state===2&&e.cause)try{await async function(s,u){const h=u.cause;for(const f of u.targetIds)s.B_.has(f)&&(await s.remoteSyncer.rejectListen(f,h),s.B_.delete(f),s.U_.removeTarget(f))}(i,e)}catch(o){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),await vu(i,o)}else if(e instanceof su?i.U_.$e(e):e instanceof Py?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(we.min()))try{const o=await Uy(i.localStore);n.compareTo(o)>=0&&await function(u,h){const f=u.U_.it(h);return f.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.B_.get(y);E&&u.B_.set(y,E.withResumeToken(g.resumeToken,h))}}),f.targetMismatches.forEach((g,y)=>{const E=u.B_.get(g);if(!E)return;u.B_.set(g,E.withResumeToken(kt.EMPTY_BYTE_STRING,E.snapshotVersion)),$y(u,g);const T=new Gr(E.target,g,y,E.sequenceNumber);kd(u,T)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n)}catch(o){ae("RemoteStore","Failed to raise snapshot:",o),await vu(i,o)}}async function vu(i,e,n){if(!is(e))throw e;i.k_.add(1),await Aa(i),i.K_.set("Offline"),n||(n=()=>Uy(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await Vu(i)})}function Hy(i,e){return e().catch(n=>vu(i,n,e))}async function Du(i){const e=Te(i),n=ii(e);let o=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;QT(e);)try{const s=await NT(e.localStore,o);if(s===null){e.L_.length===0&&n.a_();break}o=s.batchId,GT(e,s)}catch(s){await vu(e,s)}Wy(e)&&Ky(e)}function QT(i){return $i(i)&&i.L_.length<10}function GT(i,e){i.L_.push(e);const n=ii(i);n.s_()&&n.f_&&n.g_(e.mutations)}function Wy(i){return $i(i)&&!ii(i).i_()&&i.L_.length>0}function Ky(i){ii(i).start()}async function YT(i){ii(i).w_()}async function XT(i){const e=ii(i);for(const n of i.L_)e.g_(n.mutations)}async function JT(i,e,n){const o=i.L_.shift(),s=Td.from(o,e,n);await Hy(i,()=>i.remoteSyncer.applySuccessfulWrite(s)),await Du(i)}async function ZT(i,e){e&&ii(i).f_&&await async function(o,s){if(function(h){return F1(h)&&h!==K.ABORTED}(s.code)){const u=o.L_.shift();ii(o).__(),await Hy(o,()=>o.remoteSyncer.rejectFailedWrite(u.batchId,s)),await Du(o)}}(i,e),Wy(i)&&Ky(i)}async function rg(i,e){const n=Te(i);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const o=$i(n);n.k_.add(3),await Aa(n),o&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Vu(n)}async function eS(i,e){const n=Te(i);e?(n.k_.delete(2),await Vu(n)):e||(n.k_.add(2),await Aa(n),n.K_.set("Unknown"))}function ss(i){return i.W_||(i.W_=function(n,o,s){const u=Te(n);return u.b_(),new UT(o,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,s)}(i.datastore,i.asyncQueue,{Ro:qT.bind(null,i),mo:HT.bind(null,i),po:WT.bind(null,i),R_:KT.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),Nd(i)?xd(i):i.K_.set("Unknown")):(await i.W_.stop(),qy(i))})),i.W_}function ii(i){return i.G_||(i.G_=function(n,o,s){const u=Te(n);return u.b_(),new BT(o,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,s)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:YT.bind(null,i),po:ZT.bind(null,i),p_:XT.bind(null,i),y_:JT.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await Du(i)):(await i.G_.stop(),i.L_.length>0&&(ae("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n,o,s,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=s,this.removalCallback=u,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,s,u){const h=Date.now()+o,f=new Vd(e,n,h,s,u);return f.start(o),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dd(i,e){if(Tr("AsyncQueue",`${e}: ${i}`),is(i))return new le(K.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(n,o)=>e(n,o)||me.comparator(n.key,o.key):(n,o)=>me.comparator(n.key,o.key),this.keyedMap=oa(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,u=o.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const o=new qo;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.z_=new et(me.comparator)}track(e){const n=e.doc.key,o=this.z_.get(n);o?e.type!==0&&o.type===3?this.z_=this.z_.insert(n,e):e.type===3&&o.type!==1?this.z_=this.z_.insert(n,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.z_=this.z_.remove(n):e.type===1&&o.type===2?this.z_=this.z_.insert(n,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Ee():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,o)=>{e.push(o)}),e}}class Yo{constructor(e,n,o,s,u,h,f,g,y){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=s,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,o,s,u){const h=[];return n.forEach(f=>{h.push({type:0,doc:f})}),new Yo(e,n,qo.emptySet(n),h,o,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ru(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==o[s].type||!n[s].doc.isEqual(o[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class nS{constructor(){this.queries=og(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,o){const s=Te(n),u=s.queries;s.queries=og(),u.forEach((h,f)=>{for(const g of f.J_)g.onError(o)})})(this,new le(K.ABORTED,"Firestore shutting down"))}}function og(){return new zi(i=>py(i),Ru)}async function Qy(i,e){const n=Te(i);let o=3;const s=e.query;let u=n.queries.get(s);u?!u.Y_()&&e.Z_()&&(o=2):(u=new tS,o=e.Z_()?0:1);try{switch(o){case 0:u.H_=await n.onListen(s,!0);break;case 1:u.H_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(h){const f=Dd(h,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(f)}n.queries.set(s,u),u.J_.push(e),e.ea(n.onlineState),u.H_&&e.ta(u.H_)&&Ld(n)}async function Gy(i,e){const n=Te(i),o=e.query;let s=3;const u=n.queries.get(o);if(u){const h=u.J_.indexOf(e);h>=0&&(u.J_.splice(h,1),u.J_.length===0?s=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return n.queries.delete(o),n.onUnlisten(o,!0);case 1:return n.queries.delete(o),n.onUnlisten(o,!1);case 2:return n.onLastRemoteStoreUnlisten(o);default:return}}function rS(i,e){const n=Te(i);let o=!1;for(const s of e){const u=s.query,h=n.queries.get(u);if(h){for(const f of h.J_)f.ta(s)&&(o=!0);h.H_=s}}o&&Ld(n)}function iS(i,e,n){const o=Te(i),s=o.queries.get(e);if(s)for(const u of s.J_)u.onError(n);o.queries.delete(e)}function Ld(i){i.X_.forEach(e=>{e.next()})}var Xh,sg;(sg=Xh||(Xh={})).na="default",sg.Cache="cache";class Yy{constructor(e,n,o){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=o||{}}ta(e){if(!this.options.includeMetadataChanges){const o=[];for(const s of e.docChanges)s.type!==3&&o.push(s);e=new Yo(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const o=n!=="Offline";return(!this.options.ua||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Xh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this.key=e}}class Jy{constructor(e){this.key=e}}class oS{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Pe(),this.mutatedKeys=Pe(),this.Va=my(e),this.ma=new qo(this.Va)}get fa(){return this.da}ga(e,n){const o=n?n.pa:new ig,s=n?n.ma:this.ma;let u=n?n.mutatedKeys:this.mutatedKeys,h=s,f=!1;const g=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,y=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((E,T)=>{const S=s.get(E),k=Au(this.query,T)?T:null,L=!!S&&this.mutatedKeys.has(S.key),j=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let O=!1;S&&k?S.data.isEqual(k.data)?L!==j&&(o.track({type:3,doc:k}),O=!0):this.ya(S,k)||(o.track({type:2,doc:k}),O=!0,(g&&this.Va(k,g)>0||y&&this.Va(k,y)<0)&&(f=!0)):!S&&k?(o.track({type:0,doc:k}),O=!0):S&&!k&&(o.track({type:1,doc:S}),O=!0,(g||y)&&(f=!0)),O&&(k?(h=h.add(k),u=j?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),o.track({type:1,doc:E})}return{ma:h,pa:o,ss:f,mutatedKeys:u}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o,s){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((E,T)=>function(k,L){const j=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return j(k)-j(L)}(E.type,T.type)||this.Va(E.doc,T.doc)),this.wa(o),s=s!=null&&s;const f=n&&!s?this.Sa():[],g=this.Ra.size===0&&this.current&&!s?1:0,y=g!==this.Aa;return this.Aa=g,h.length!==0||y?{snapshot:new Yo(this.query,e.ma,u,h,e.mutatedKeys,g===0,y,!1,!!o&&o.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new ig,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Pe(),this.ma.forEach(o=>{this.Da(o.key)&&(this.Ra=this.Ra.add(o.key))});const n=[];return e.forEach(o=>{this.Ra.has(o)||n.push(new Jy(o))}),this.Ra.forEach(o=>{e.has(o)||n.push(new Xy(o))}),n}va(e){this.da=e.ds,this.Ra=Pe();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Yo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class sS{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class aS{constructor(e){this.key=e,this.Fa=!1}}class lS{constructor(e,n,o,s,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new zi(f=>py(f),Ru),this.Oa=new Map,this.Na=new Set,this.La=new et(me.comparator),this.Ba=new Map,this.ka=new Cd,this.qa={},this.Qa=new Map,this.Ka=Go.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function uS(i,e,n=!0){const o=iv(i);let s;const u=o.xa.get(e);return u?(o.sharedClientState.addLocalQueryTarget(u.targetId),s=u.view.Ca()):s=await Zy(o,e,n,!0),s}async function cS(i,e){const n=iv(i);await Zy(n,e,!0,!1)}async function Zy(i,e,n,o){const s=await VT(i.localStore,Yn(e)),u=s.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let f;return o&&(f=await hS(i,e,u,h==="current",s.resumeToken)),i.isPrimaryClient&&n&&zy(i.remoteStore,s),f}async function hS(i,e,n,o,s){i.Ua=(T,S,k)=>async function(j,O,H,W){let re=O.view.ga(H);re.ss&&(re=await eg(j.localStore,O.query,!1).then(({documents:N})=>O.view.ga(N,re)));const de=W&&W.targetChanges.get(O.targetId),Ie=W&&W.targetMismatches.get(O.targetId)!=null,Se=O.view.applyChanges(re,j.isPrimaryClient,de,Ie);return lg(j,O.targetId,Se.ba),Se.snapshot}(i,T,S,k);const u=await eg(i.localStore,e,!0),h=new oS(e,u.ds),f=h.ga(u.documents),g=Ra.createSynthesizedTargetChangeForCurrentChange(n,o&&i.onlineState!=="Offline",s),y=h.applyChanges(f,i.isPrimaryClient,g);lg(i,n,y.ba);const E=new sS(e,n,h);return i.xa.set(e,E),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),y.snapshot}async function dS(i,e,n){const o=Te(i),s=o.xa.get(e),u=o.Oa.get(s.targetId);if(u.length>1)return o.Oa.set(s.targetId,u.filter(h=>!Ru(h,e))),void o.xa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(s.targetId),o.sharedClientState.isActiveQueryTarget(s.targetId)||await Yh(o.localStore,s.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(s.targetId),n&&Pd(o.remoteStore,s.targetId),Jh(o,s.targetId)}).catch(rs)):(Jh(o,s.targetId),await Yh(o.localStore,s.targetId,!0))}async function fS(i,e){const n=Te(i),o=n.xa.get(e),s=n.Oa.get(o.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(o.targetId),Pd(n.remoteStore,o.targetId))}async function pS(i,e,n){const o=wS(i);try{const s=await function(h,f){const g=Te(h),y=mt.now(),E=f.reduce((k,L)=>k.add(L.key),Pe());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",k=>{let L=Sr(),j=Pe();return g.hs.getEntries(k,E).next(O=>{L=O,L.forEach((H,W)=>{W.isValidDocument()||(j=j.add(H))})}).next(()=>g.localDocuments.getOverlayedDocuments(k,L)).next(O=>{T=O;const H=[];for(const W of f){const re=D1(W,T.get(W.key).overlayedDocument);re!=null&&H.push(new li(W.key,re,sy(re.value.mapValue),Xn.exists(!0)))}return g.mutationQueue.addMutationBatch(k,y,H,f)}).next(O=>{S=O;const H=O.applyToLocalDocumentSet(T,j);return g.documentOverlayCache.saveOverlays(k,O.batchId,H)})}).then(()=>({batchId:S.batchId,changes:yy(T)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(s.batchId),function(h,f,g){let y=h.qa[h.currentUser.toKey()];y||(y=new et(xe)),y=y.insert(f,g),h.qa[h.currentUser.toKey()]=y}(o,s.batchId,n),await Pa(o,s.changes),await Du(o.remoteStore)}catch(s){const u=Dd(s,"Failed to persist write");n.reject(u)}}async function ev(i,e){const n=Te(i);try{const o=await kT(n.localStore,e);e.targetChanges.forEach((s,u)=>{const h=n.Ba.get(u);h&&(Ue(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?h.Fa=!0:s.modifiedDocuments.size>0?Ue(h.Fa):s.removedDocuments.size>0&&(Ue(h.Fa),h.Fa=!1))}),await Pa(n,o,e)}catch(o){await rs(o)}}function ag(i,e,n){const o=Te(i);if(o.isPrimaryClient&&n===0||!o.isPrimaryClient&&n===1){const s=[];o.xa.forEach((u,h)=>{const f=h.view.ea(e);f.snapshot&&s.push(f.snapshot)}),function(h,f){const g=Te(h);g.onlineState=f;let y=!1;g.queries.forEach((E,T)=>{for(const S of T.J_)S.ea(f)&&(y=!0)}),y&&Ld(g)}(o.eventManager,e),s.length&&o.Ma.R_(s),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function mS(i,e,n){const o=Te(i);o.sharedClientState.updateQueryState(e,"rejected",n);const s=o.Ba.get(e),u=s&&s.key;if(u){let h=new et(me.comparator);h=h.insert(u,Ft.newNoDocument(u,we.min()));const f=Pe().add(u),g=new xu(we.min(),new Map,new et(xe),h,f);await ev(o,g),o.La=o.La.remove(u),o.Ba.delete(e),Od(o)}else await Yh(o.localStore,e,!1).then(()=>Jh(o,e,n)).catch(rs)}async function gS(i,e){const n=Te(i),o=e.batch.batchId;try{const s=await PT(n.localStore,e);nv(n,o,null),tv(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),await Pa(n,s)}catch(s){await rs(s)}}async function yS(i,e,n){const o=Te(i);try{const s=await function(h,f){const g=Te(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,f).next(T=>(Ue(T!==null),E=T.keys(),g.mutationQueue.removeMutationBatch(y,T))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,f)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(o.localStore,e);nv(o,e,n),tv(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),await Pa(o,s)}catch(s){await rs(s)}}function tv(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function nv(i,e,n){const o=Te(i);let s=o.qa[o.currentUser.toKey()];if(s){const u=s.get(e);u&&(n?u.reject(n):u.resolve(),s=s.remove(e)),o.qa[o.currentUser.toKey()]=s}}function Jh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.Oa.get(e))i.xa.delete(o),n&&i.Ma.Wa(o,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(o=>{i.ka.containsKey(o)||rv(i,o)})}function rv(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(Pd(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),Od(i))}function lg(i,e,n){for(const o of n)o instanceof Xy?(i.ka.addReference(o.key,e),vS(i,o)):o instanceof Jy?(ae("SyncEngine","Document no longer in limbo: "+o.key),i.ka.removeReference(o.key,e),i.ka.containsKey(o.key)||rv(i,o.key)):Ee()}function vS(i,e){const n=e.key,o=n.path.canonicalString();i.La.get(n)||i.Na.has(o)||(ae("SyncEngine","New document in limbo: "+n),i.Na.add(o),Od(i))}function Od(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new me(Qe.fromString(e)),o=i.Ka.next();i.Ba.set(o,new aS(n)),i.La=i.La.insert(n,o),zy(i.remoteStore,new Gr(Yn(Ed(n.path)),o,"TargetPurposeLimboResolution",Su.oe))}}async function Pa(i,e,n){const o=Te(i),s=[],u=[],h=[];o.xa.isEmpty()||(o.xa.forEach((f,g)=>{h.push(o.Ua(g,e,n).then(y=>{var E;if((y||n)&&o.isPrimaryClient){const T=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;o.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){s.push(y);const T=Ad.zi(g.targetId,y);u.push(T)}}))}),await Promise.all(h),o.Ma.R_(s),await async function(g,y){const E=Te(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Q.forEach(y,S=>Q.forEach(S.Wi,k=>E.persistence.referenceDelegate.addReference(T,S.targetId,k)).next(()=>Q.forEach(S.Gi,k=>E.persistence.referenceDelegate.removeReference(T,S.targetId,k)))))}catch(T){if(!is(T))throw T;ae("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const k=E.us.get(S),L=k.snapshotVersion,j=k.withLastLimboFreeSnapshotVersion(L);E.us=E.us.insert(S,j)}}}(o.localStore,u))}async function _S(i,e){const n=Te(i);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const o=await Fy(n.localStore,e);n.currentUser=e,function(u,h){u.Qa.forEach(f=>{f.forEach(g=>{g.reject(new le(K.CANCELLED,h))})}),u.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await Pa(n,o.Ts)}}function ES(i,e){const n=Te(i),o=n.Ba.get(e);if(o&&o.Fa)return Pe().add(o.key);{let s=Pe();const u=n.Oa.get(e);if(!u)return s;for(const h of u){const f=n.xa.get(h);s=s.unionWith(f.view.fa)}return s}}function iv(i){const e=Te(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ev.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ES.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mS.bind(null,e),e.Ma.R_=rS.bind(null,e.eventManager),e.Ma.Wa=iS.bind(null,e.eventManager),e}function wS(i){const e=Te(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yS.bind(null,e),e}class _u{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return AT(this.persistence,new CT,e.initialUser,this.serializer)}ja(e){return new by(Rd.ei,this.serializer)}za(e){return new LT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_u.provider={build:()=>new _u};class TS extends _u{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ue(this.persistence.referenceDelegate instanceof yu);const o=this.persistence.referenceDelegate.garbageCollector;return new cT(o,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new by(o=>yu.ei(o,n),this.serializer)}}class Zh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>ag(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=_S.bind(null,this.syncEngine),await eS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nS}()}createDatastore(e){const n=Nu(e.databaseInfo.databaseId),o=function(u){return new FT(u)}(e.databaseInfo);return function(u,h,f,g){return new jT(u,h,f,g)}(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return function(o,s,u,h,f){return new $T(o,s,u,h,f)}(this.localStore,this.datastore,e.asyncQueue,n=>ag(this.syncEngine,n,0),function(){return ng.p()?new ng:new OT}())}createSyncEngine(e,n){return function(s,u,h,f,g,y,E){const T=new lS(s,u,h,f,g,y);return E&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const u=Te(s);ae("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await Aa(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Zh.provider={build:()=>new Zh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n,o,s,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=s,this.user=bt.UNAUTHENTICATED,this.clientId=ry.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(o,async h=>{ae("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(o,h=>(ae("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const o=Dd(n,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function Ch(i,e){i.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(async s=>{o.isEqual(s)||(await Fy(e.localStore,s),o=s)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function ug(i,e){i.asyncQueue.verifyOperationInProgress();const n=await IS(i);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(o=>rg(e.remoteStore,o)),i.setAppCheckTokenChangeListener((o,s)=>rg(e.remoteStore,s)),i._onlineComponents=e}async function IS(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ch(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===K.FAILED_PRECONDITION||s.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ho("Error using user provided cache. Falling back to memory cache: "+n),await Ch(i,new _u)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Ch(i,new TS(void 0));return i._offlineComponents}async function sv(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await ug(i,i._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await ug(i,new Zh))),i._onlineComponents}function CS(i){return sv(i).then(e=>e.syncEngine)}async function av(i){const e=await sv(i),n=e.eventManager;return n.onListen=uS.bind(null,e.syncEngine),n.onUnlisten=dS.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cS.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fS.bind(null,e.syncEngine),n}function RS(i,e,n={}){const o=new _r;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,f,g,y){const E=new ov({next:S=>{E.eu(),h.enqueueAndForget(()=>Gy(u,T));const k=S.docs.has(f);!k&&S.fromCache?y.reject(new le(K.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&S.fromCache&&g&&g.source==="server"?y.reject(new le(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new Yy(Ed(f.path),E,{includeMetadataChanges:!0,ua:!0});return Qy(u,T)}(await av(i),i.asyncQueue,e,n,o)),o.promise}function AS(i,e,n={}){const o=new _r;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,f,g,y){const E=new ov({next:S=>{E.eu(),h.enqueueAndForget(()=>Gy(u,T)),S.fromCache&&g.source==="server"?y.reject(new le(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new Yy(f,E,{includeMetadataChanges:!0,ua:!0});return Qy(u,T)}(await av(i),i.asyncQueue,e,n,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(i,e,n){if(!n)throw new le(K.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function PS(i,e,n,o){if(e===!0&&o===!0)throw new le(K.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function hg(i){if(!me.isDocumentKey(i))throw new le(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function dg(i){if(me.isDocumentKey(i))throw new le(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Lu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee()}function oi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lu(i);throw new le(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){var n,o;if(e.host===void 0){if(e.ssl!==void 0)throw new le(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lv((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,s){return o.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ou{constructor(e,n,o,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fg(e),e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new Bw;switch(o.type){case"firstParty":return new qw(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new le(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=cg.get(n);o&&(ae("ComponentProvider","Removing Datastore"),cg.delete(n),o.terminate())}(this),Promise.resolve()}}function kS(i,e,n,o={}){var s;const u=(i=oi(i,Ou))._getSettings(),h=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),o.mockUserToken){let f,g;if(typeof o.mockUserToken=="string")f=o.mockUserToken,g=bt.MOCK_USER;else{f=_E(o.mockUserToken,(s=i._app)===null||s===void 0?void 0:s.options.projectId);const y=o.mockUserToken.sub||o.mockUserToken.user_id;if(!y)throw new le(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new bt(y)}i._authCredentials=new jw(new ny(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class Zt{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class Jr extends qi{constructor(e,n,o){super(e,n,Ed(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new me(e))}withConverter(e){return new Jr(this.firestore,e,this._path)}}function ka(i,e,...n){if(i=Er(i),uv("collection","path",e),i instanceof Ou){const o=Qe.fromString(e,...n);return dg(o),new Jr(i,null,o)}{if(!(i instanceof Zt||i instanceof Jr))throw new le(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Qe.fromString(e,...n));return dg(o),new Jr(i.firestore,null,o)}}function ed(i,e,...n){if(i=Er(i),arguments.length===1&&(e=ry.newId()),uv("doc","path",e),i instanceof Ou){const o=Qe.fromString(e,...n);return hg(o),new Zt(i,null,new me(o))}{if(!(i instanceof Zt||i instanceof Jr))throw new le(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Qe.fromString(e,...n));return hg(o),new Zt(i.firestore,i instanceof Jr?i.converter:null,new me(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new By(this,"async_queue_retry"),this.fu=()=>{const o=Ih();o&&ae("AsyncQueue","Visibility state changed to "+o.visibilityState),this.r_.Jo()},this.gu=e;const n=Ih();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Ih();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new _r;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!is(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(o=>{this.Au=o,this.Ru=!1;const s=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(o);throw Tr("INTERNAL UNHANDLED ERROR: ",s),o}).then(o=>(this.Ru=!1,o))));return this.gu=n,n}enqueueAfterDelay(e,n,o){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const s=Vd.createAndSchedule(this,e,n,o,u=>this.Su(u));return this.du.push(s),s}pu(){this.Au&&Ee()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class xa extends Ou{constructor(e,n,o,s){super(e,n,o,s),this.type="firestore",this._queue=new pg,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pg(e),this._firestoreClient=void 0,await e}}}function xS(i,e){const n=typeof i=="object"?i:Pw(),o=typeof i=="string"?i:"(default)",s=Iw(n,"firestore").getImmediate({identifier:o});if(!s._initialized){const u=yE("firestore");u&&kS(s,...u)}return s}function Md(i){if(i._terminated)throw new le(K.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||NS(i),i._firestoreClient}function NS(i){var e,n,o;const s=i._freezeSettings(),u=function(f,g,y,E){return new o1(f,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,lv(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,s);i._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((o=s.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(i._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),i._firestoreClient=new SS(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xo(kt.fromBase64String(e))}catch(n){throw new le(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xo(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,s){if(o.length!==s.length)return!1;for(let u=0;u<o.length;++u)if(o[u]!==s[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=/^__.*__$/;class DS{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return this.fieldMask!==null?new li(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ca(e,this.data,n,this.fieldTransforms)}}class cv{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new li(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Bd{constructor(e,n,o,s,u,h){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=s,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Bd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const o=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:o,Nu:!1});return s.Lu(e),s}Bu(e){var n;const o=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:o,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Eu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(hv(this.Mu)&&VS.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class LS{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||Nu(e)}$u(e,n,o,s=!1){return new Bd({Mu:e,methodName:n,Ku:o,path:Pt.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jd(i){const e=i._freezeSettings(),n=Nu(i._databaseId);return new LS(i._databaseId,!!e.ignoreUndefinedProperties,n)}function OS(i,e,n,o,s,u={}){const h=i.$u(u.merge||u.mergeFields?2:0,e,n,s);zd("Data must be an object, but it was:",h,o);const f=dv(o,h);let g,y;if(u.merge)g=new ln(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const S=td(e,T,n);if(!h.contains(S))throw new le(K.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);pv(E,S)||E.push(S)}g=new ln(E),y=h.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,y=h.fieldTransforms;return new DS(new Jt(f),g,y)}class bu extends bd{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bu}}function MS(i,e,n,o){const s=i.$u(1,e,n);zd("Data must be an object, but it was:",s,o);const u=[],h=Jt.empty();ai(o,(g,y)=>{const E=$d(e,g,n);y=Er(y);const T=s.Bu(E);if(y instanceof bu)u.push(E);else{const S=Na(y,T);S!=null&&(u.push(E),h.set(E,S))}});const f=new ln(u);return new cv(h,f,s.fieldTransforms)}function bS(i,e,n,o,s,u){const h=i.$u(1,e,n),f=[td(e,o,n)],g=[s];if(u.length%2!=0)throw new le(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)f.push(td(e,u[S])),g.push(u[S+1]);const y=[],E=Jt.empty();for(let S=f.length-1;S>=0;--S)if(!pv(y,f[S])){const k=f[S];let L=g[S];L=Er(L);const j=h.Bu(k);if(L instanceof bu)y.push(k);else{const O=Na(L,j);O!=null&&(y.push(k),E.set(k,O))}}const T=new ln(y);return new cv(E,T,h.fieldTransforms)}function FS(i,e,n,o=!1){return Na(n,i.$u(o?4:3,e))}function Na(i,e){if(fv(i=Er(i)))return zd("Unsupported field value:",e,i),dv(i,e);if(i instanceof bd)return function(o,s){if(!hv(s.Mu))throw s.qu(`${o._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${o._methodName}() is not currently supported inside arrays`);const u=o._toFieldTransform(s);u&&s.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(o,s){const u=[];let h=0;for(const f of o){let g=Na(f,s.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(i,e)}return function(o,s){if((o=Er(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return A1(s.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const u=mt.fromDate(o);return{timestampValue:gu(s.serializer,u)}}if(o instanceof mt){const u=new mt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:gu(s.serializer,u)}}if(o instanceof Fd)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Xo)return{bytesValue:xy(s.serializer,o._byteString)};if(o instanceof Zt){const u=s.databaseId,h=o.firestore._databaseId;if(!h.isEqual(u))throw s.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Id(o.firestore._databaseId||s.databaseId,o._key.path)}}if(o instanceof Ud)return function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw f.qu("VectorValues must only contain numeric values.");return wd(f.serializer,g)})}}}}}}(o,s);throw s.qu(`Unsupported field value: ${Lu(o)}`)}(i,e)}function dv(i,e){const n={};return iy(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ai(i,(o,s)=>{const u=Na(s,e.Ou(o));u!=null&&(n[o]=u)}),{mapValue:{fields:n}}}function fv(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof mt||i instanceof Fd||i instanceof Xo||i instanceof Zt||i instanceof bd||i instanceof Ud)}function zd(i,e,n){if(!fv(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const o=Lu(n);throw o==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+o)}}function td(i,e,n){if((e=Er(e))instanceof Mu)return e._internalPath;if(typeof e=="string")return $d(i,e);throw Eu("Field path arguments must be of type string or ",i,!1,void 0,n)}const US=new RegExp("[~\\*/\\[\\]]");function $d(i,e,n){if(e.search(US)>=0)throw Eu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Mu(...e.split("."))._internalPath}catch{throw Eu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Eu(i,e,n,o,s){const u=o&&!o.isEmpty(),h=s!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${o}`),h&&(g+=` in document ${s}`),g+=")"),new le(K.INVALID_ARGUMENT,f+i+g)}function pv(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,n,o,s,u){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BS extends mv{data(){return super.data()}}function qd(i,e){return typeof e=="string"?$d(i,e):e instanceof Mu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hd{}class gv extends Hd{}function zS(i,e,...n){let o=[];e instanceof Hd&&o.push(e),o=o.concat(n),function(u){const h=u.filter(g=>g instanceof Kd).length,f=u.filter(g=>g instanceof Wd).length;if(h>1||h>0&&f>0)throw new le(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const s of o)i=s._apply(i);return i}class Wd extends gv{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Wd(e,n,o)}_apply(e){const n=this._parse(e);return yv(e._query,n),new qi(e.firestore,e.converter,qh(e._query,n))}_parse(e){const n=jd(e.firestore);return function(u,h,f,g,y,E,T){let S;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){gg(T,E);const k=[];for(const L of T)k.push(mg(g,u,L));S={arrayValue:{values:k}}}else S=mg(g,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||gg(T,E),S=FS(f,h,T,E==="in"||E==="not-in");return ut.create(y,E,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Kd extends Hd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Kd(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return n.length===1?n[0]:Mn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,u){let h=s;const f=u.getFlattenedFilters();for(const g of f)yv(h,g),h=qh(h,g)}(e._query,n),new qi(e.firestore,e.converter,qh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qd extends gv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Qd(e,n)}_apply(e){const n=function(s,u,h){if(s.startAt!==null)throw new le(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new le(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _a(u,h)}(e._query,this._field,this._direction);return new qi(e.firestore,e.converter,function(s,u){const h=s.explicitOrderBy.concat([u]);return new os(s.path,s.collectionGroup,h,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function $S(i,e="asc"){const n=e,o=qd("orderBy",i);return Qd._create(o,n)}function mg(i,e,n){if(typeof(n=Er(n))=="string"){if(n==="")throw new le(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fy(e)&&n.indexOf("/")!==-1)throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Qe.fromString(n));if(!me.isDocumentKey(o))throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Mm(i,new me(o))}if(n instanceof Zt)return Mm(i,n._key);throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lu(n)}.`)}function gg(i,e){if(!Array.isArray(i)||i.length===0)throw new le(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yv(i,e){const n=function(s,u){for(const h of s)for(const f of h.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qS{convertValue(e,n="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return ai(e,(s,u)=>{o[s]=this.convertValue(u,n)}),o}convertVectorValue(e){var n,o,s;const u=(s=(o=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||o===void 0?void 0:o.values)===null||s===void 0?void 0:s.map(h=>ot(h.doubleValue));return new Ud(u)}convertGeoPoint(e){return new Fd(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Cu(e);return o==null?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(ga(e));default:return null}}convertTimestamp(e){const n=ti(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Qe.fromString(e);Ue(My(o));const s=new ya(o.get(1),o.get(3)),u=new me(o.popFirst(5));return s.isEqual(n)||Tr(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(i,e,n){let o;return o=i?i.toFirestore(e):e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vv extends mv{constructor(e,n,o,s,u,h){super(e,n,o,s,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(qd("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class au extends vv{data(e={}){return super.data(e)}}class WS{constructor(e,n,o,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new aa(s.hasPendingWrites,s.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new au(this._firestore,this._userDataWriter,o.key,o,new aa(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,u){if(s._snapshot.oldDocs.isEmpty()){let h=0;return s._snapshot.docChanges.map(f=>{const g=new au(s._firestore,s._userDataWriter,f.doc.key,f.doc,new aa(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>u||f.type!==3).map(f=>{const g=new au(s._firestore,s._userDataWriter,f.doc.key,f.doc,new aa(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let y=-1,E=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),E=h.indexOf(f.doc.key)),{type:KS(f.type),doc:g,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function KS(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(i){i=oi(i,Zt);const e=oi(i.firestore,xa);return RS(Md(e),i._key).then(n=>XS(e,i,n))}class _v extends qS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function Fu(i){i=oi(i,qi);const e=oi(i.firestore,xa),n=Md(e),o=new _v(e);return jS(i._query),AS(n,i._query).then(s=>new WS(e,o,i,s))}function GS(i,e,n,...o){i=oi(i,Zt);const s=oi(i.firestore,xa),u=jd(s);let h;return h=typeof(e=Er(e))=="string"||e instanceof Mu?bS(u,"updateDoc",i._key,e,n,o):MS(u,"updateDoc",i._key,e),Ev(s,[h.toMutation(i._key,Xn.exists(!0))])}function YS(i,e){const n=oi(i.firestore,xa),o=ed(i),s=HS(i.converter,e);return Ev(n,[OS(jd(i.firestore),"addDoc",o._key,s,i.converter!==null,{}).toMutation(o._key,Xn.exists(!1))]).then(()=>o)}function Ev(i,e){return function(o,s){const u=new _r;return o.asyncQueue.enqueueAndForget(async()=>pS(await CS(o),s,u)),u.promise}(Md(i),e)}function XS(i,e,n){const o=n.docs.get(e._key),s=new _v(i);return new vv(i,s,e._key,o,new aa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ns=s})(Aw),hu(new fa("firestore",(o,{instanceIdentifier:s,options:u})=>{const h=o.getProvider("app").getImmediate(),f=new xa(new zw(o.getProvider("auth-internal")),new Ww(o.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ya(y.options.projectId,E)}(h,s),h);return u=Object.assign({useFetchStreams:n},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),$o(xm,"4.7.5",e),$o(xm,"4.7.5","esm2017")})();const JS={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},ZS=Kg(JS),ji=xS(ZS),Gd=({headers:i,data:e})=>te.jsx("div",{className:"overflow-x-auto border border-neutral-100 rounded-lg",children:te.jsxs("table",{className:"min-w-full divide-y divide-neutral-100",children:[te.jsx("thead",{className:"bg-neutral-50",children:te.jsx("tr",{children:i.map((n,o)=>te.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:n},o))})}),te.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:e.map((n,o)=>te.jsx("tr",{className:"hover:bg-neutral-50",children:Object.values(n).map((s,u)=>te.jsx("td",{className:"px-4 py-2 text-sm text-neutral-900",children:s},u))},o))})]})}),eI=()=>{const[i,e]=$.useState([]),[n,o]=$.useState(!0);$.useEffect(()=>{(async()=>{try{const g=(await Fu(ka(ji,"careers"))).docs.map(y=>({...y.data(),id:y.id}));e(g)}catch(f){console.error("Error fetching career submissions:",f)}finally{o(!1)}})()},[]);const s=["Name","Email","Company","Phone"],u=i.map(h=>({userName:h.userName,userEmail:h.userEmail,userCompany:h.userCompany,userPhone:h.userPhone}));return n?te.jsx("div",{children:"Loading..."}):te.jsxs("div",{className:"space-y-4",children:[te.jsx("h2",{className:"text-xl font-semibold",children:"Career Form Submissions"}),te.jsx(Gd,{headers:s,data:u})]})},tI=()=>{const[i,e]=$.useState([]),[n,o]=$.useState(!0);$.useEffect(()=>{(async()=>{try{const g=(await Fu(ka(ji,"partners"))).docs.map(y=>({...y.data(),id:y.id}));e(g)}catch(f){console.error("Error fetching partner submissions:",f)}finally{o(!1)}})()},[]);const s=["Name","Email","Company","Phone","Message"],u=i.map(h=>({userName:h.userName,userEmail:h.userEmail,userCompany:h.userCompany,userPhone:h.userPhone,userMessage:h.userMessage}));return n?te.jsx("div",{children:"Loading..."}):te.jsxs("div",{className:"space-y-4",children:[te.jsx("h2",{className:"text-xl font-semibold",children:"Partner Form Submissions"}),te.jsx(Gd,{headers:s,data:u})]})},nI=()=>{const[i,e]=$.useState([]),[n,o]=$.useState(!0);$.useEffect(()=>{(async()=>{try{const g=(await Fu(ka(ji,"contacts"))).docs.map(y=>({...y.data(),id:y.id}));e(g)}catch(f){console.error("Error fetching contact submissions:",f)}finally{o(!1)}})()},[]);const s=["Name","Email","Company","Phone","Message"],u=i.map(h=>({userName:h.userName,userEmail:h.userEmail,userCompany:h.userCompany,userPhone:h.userPhone,userMessage:h.userMessage}));return n?te.jsx("div",{children:"Loading..."}):te.jsxs("div",{className:"space-y-4",children:[te.jsx("h2",{className:"text-xl font-semibold",children:"Contact Form Submissions"}),te.jsx(Gd,{headers:s,data:u})]})};var Rh={exports:{}},Ah,yg;function rI(){if(yg)return Ah;yg=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ah=i,Ah}var Ph,vg;function iI(){if(vg)return Ph;vg=1;var i=rI();function e(){}function n(){}return n.resetWarningCache=e,Ph=function(){function o(h,f,g,y,E,T){if(T!==i){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}o.isRequired=o;function s(){return o}var u={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:s,element:o,elementType:o,instanceOf:s,node:o,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},Ph}var _g;function oI(){return _g||(_g=1,Rh.exports=iI()()),Rh.exports}var Y=oI(),nd=function(){return nd=Object.assign||function(i){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},nd.apply(this,arguments)},wv={onActivate:Y.func,onAddUndo:Y.func,onBeforeAddUndo:Y.func,onBeforeExecCommand:Y.func,onBeforeGetContent:Y.func,onBeforeRenderUI:Y.func,onBeforeSetContent:Y.func,onBeforePaste:Y.func,onBlur:Y.func,onChange:Y.func,onClearUndos:Y.func,onClick:Y.func,onContextMenu:Y.func,onCommentChange:Y.func,onCompositionEnd:Y.func,onCompositionStart:Y.func,onCompositionUpdate:Y.func,onCopy:Y.func,onCut:Y.func,onDblclick:Y.func,onDeactivate:Y.func,onDirty:Y.func,onDrag:Y.func,onDragDrop:Y.func,onDragEnd:Y.func,onDragGesture:Y.func,onDragOver:Y.func,onDrop:Y.func,onExecCommand:Y.func,onFocus:Y.func,onFocusIn:Y.func,onFocusOut:Y.func,onGetContent:Y.func,onHide:Y.func,onInit:Y.func,onInput:Y.func,onKeyDown:Y.func,onKeyPress:Y.func,onKeyUp:Y.func,onLoadContent:Y.func,onMouseDown:Y.func,onMouseEnter:Y.func,onMouseLeave:Y.func,onMouseMove:Y.func,onMouseOut:Y.func,onMouseOver:Y.func,onMouseUp:Y.func,onNodeChange:Y.func,onObjectResizeStart:Y.func,onObjectResized:Y.func,onObjectSelected:Y.func,onPaste:Y.func,onPostProcess:Y.func,onPostRender:Y.func,onPreProcess:Y.func,onProgressState:Y.func,onRedo:Y.func,onRemove:Y.func,onReset:Y.func,onSaveContent:Y.func,onSelectionChange:Y.func,onSetAttrib:Y.func,onSetContent:Y.func,onShow:Y.func,onSubmit:Y.func,onUndo:Y.func,onVisualAid:Y.func,onSkinLoadError:Y.func,onThemeLoadError:Y.func,onModelLoadError:Y.func,onPluginLoadError:Y.func,onIconsLoadError:Y.func,onLanguageLoadError:Y.func,onScriptsLoad:Y.func,onScriptsLoadError:Y.func},sI=nd({apiKey:Y.string,licenseKey:Y.string,id:Y.string,inline:Y.bool,init:Y.object,initialValue:Y.string,onEditorChange:Y.func,value:Y.string,tagName:Y.string,tabIndex:Y.number,cloudChannel:Y.string,plugins:Y.oneOfType([Y.string,Y.array]),toolbar:Y.oneOfType([Y.string,Y.array]),disabled:Y.bool,textareaName:Y.string,tinymceScriptSrc:Y.oneOfType([Y.string,Y.arrayOf(Y.string),Y.arrayOf(Y.shape({src:Y.string,async:Y.bool,defer:Y.bool}))]),rollback:Y.oneOfType([Y.number,Y.oneOf([!1])]),scriptLoading:Y.shape({async:Y.bool,defer:Y.bool,delay:Y.number})},wv),kh=function(i){return typeof i=="function"},Eg=function(i){return i in wv},wg=function(i){return i.substr(2)},aI=function(i,e,n,o,s,u,h){var f=Object.keys(s).filter(Eg),g=Object.keys(u).filter(Eg),y=f.filter(function(T){return u[T]===void 0}),E=g.filter(function(T){return s[T]===void 0});y.forEach(function(T){var S=wg(T),k=h[S];n(S,k),delete h[S]}),E.forEach(function(T){var S=o(i,T),k=wg(T);h[k]=S,e(k,S)})},lI=function(i,e,n,o,s){return aI(s,i.on.bind(i),i.off.bind(i),function(u,h){return function(f){var g;return(g=u(h))===null||g===void 0?void 0:g(f,i)}},e,n,o)},Tg=0,Tv=function(i){var e=Date.now(),n=Math.floor(Math.random()*1e9);return Tg++,i+"_"+n+Tg+String(e)},Sg=function(i){return i!==null&&(i.tagName.toLowerCase()==="textarea"||i.tagName.toLowerCase()==="input")},Ig=function(i){return typeof i>"u"||i===""?[]:Array.isArray(i)?i:i.split(" ")},uI=function(i,e){return Ig(i).concat(Ig(e))},cI=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},hI=function(i){if(!("isConnected"in Node.prototype)){for(var e=i,n=i.parentNode;n!=null;)e=n,n=e.parentNode;return e===i.ownerDocument}return i.isConnected},Cg=function(i,e){i!==void 0&&(i.mode!=null&&typeof i.mode=="object"&&typeof i.mode.set=="function"?i.mode.set(e):i.setMode(e))},rd=function(){return rd=Object.assign||function(i){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},rd.apply(this,arguments)},dI=function(i,e,n){var o,s,u=i.createElement("script");u.referrerPolicy="origin",u.type="application/javascript",u.id=e.id,u.src=e.src,u.async=(o=e.async)!==null&&o!==void 0?o:!1,u.defer=(s=e.defer)!==null&&s!==void 0?s:!1;var h=function(){u.removeEventListener("load",h),u.removeEventListener("error",f),n(e.src)},f=function(g){u.removeEventListener("load",h),u.removeEventListener("error",f),n(e.src,g)};u.addEventListener("load",h),u.addEventListener("error",f),i.head&&i.head.appendChild(u)},fI=function(i){var e={},n=function(h,f){var g=e[h];g.done=!0,g.error=f;for(var y=0,E=g.handlers;y<E.length;y++){var T=E[y];T(h,f)}g.handlers=[]},o=function(h,f,g){var y=function(W){return g!==void 0?g(W):console.error(W)};if(h.length===0){y(new Error("At least one script must be provided"));return}for(var E=0,T=!1,S=function(W,re){T||(re?(T=!0,y(re)):++E===h.length&&f())},k=0,L=h;k<L.length;k++){var j=L[k],O=e[j.src];if(O)O.done?S(j.src,O.error):O.handlers.push(S);else{var H=Tv("tiny-");e[j.src]={id:H,src:j.src,done:!1,error:null,handlers:[S]},dI(i,rd({id:H},j),n)}}},s=function(){for(var h,f=0,g=Object.values(e);f<g.length;f++){var y=g[f],E=i.getElementById(y.id);E!=null&&E.tagName==="SCRIPT"&&((h=E.parentNode)===null||h===void 0||h.removeChild(E))}e={}},u=function(){return i};return{loadScripts:o,deleteScripts:s,getDocument:u}},pI=function(){var i=[],e=function(s){var u=i.find(function(h){return h.getDocument()===s});return u===void 0&&(u=fI(s),i.push(u)),u},n=function(s,u,h,f,g){var y=function(){return e(s).loadScripts(u,f,g)};h>0?setTimeout(y,h):y()},o=function(){for(var s=i.pop();s!=null;s=i.pop())s.deleteScripts()};return{loadList:n,reinitialize:o}},mI=pI(),xh=function(i){var e=i;return e&&e.tinymce?e.tinymce:null},gI=function(){var i=function(e,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(o[u]=s[u])},i(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");i(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),zo=function(){return zo=Object.assign||function(i){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},zo.apply(this,arguments)},Sv=function(i){gI(e,i);function e(n){var o,s,u,h=i.call(this,n)||this;return h.rollbackTimer=void 0,h.valueCursor=void 0,h.rollbackChange=function(){var f=h.editor,g=h.props.value;f&&g&&g!==h.currentContent&&f.undoManager.ignore(function(){if(f.setContent(g),h.valueCursor&&(!h.inline||f.hasFocus()))try{f.selection.moveToBookmark(h.valueCursor)}catch{}}),h.rollbackTimer=void 0},h.handleBeforeInput=function(f){if(h.props.value!==void 0&&h.props.value===h.currentContent&&h.editor&&(!h.inline||h.editor.hasFocus()))try{h.valueCursor=h.editor.selection.getBookmark(3)}catch{}},h.handleBeforeInputSpecial=function(f){(f.key==="Enter"||f.key==="Backspace"||f.key==="Delete")&&h.handleBeforeInput(f)},h.handleEditorChange=function(f){var g=h.editor;if(g&&g.initialized){var y=g.getContent();h.props.value!==void 0&&h.props.value!==y&&h.props.rollback!==!1&&(h.rollbackTimer||(h.rollbackTimer=window.setTimeout(h.rollbackChange,typeof h.props.rollback=="number"?h.props.rollback:200))),y!==h.currentContent&&(h.currentContent=y,kh(h.props.onEditorChange)&&h.props.onEditorChange(y,g))}},h.handleEditorChangeSpecial=function(f){(f.key==="Backspace"||f.key==="Delete")&&h.handleEditorChange(f)},h.initialise=function(f){var g,y,E;f===void 0&&(f=0);var T=h.elementRef.current;if(T){if(!hI(T)){if(f===0)setTimeout(function(){return h.initialise(1)},1);else if(f<100)setTimeout(function(){return h.initialise(f+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var S=xh(h.view);if(!S)throw new Error("tinymce should have been loaded into global scope");var k=zo(zo(zo(zo({},h.props.init),{selector:void 0,target:T,readonly:h.props.disabled,inline:h.inline,plugins:uI((g=h.props.init)===null||g===void 0?void 0:g.plugins,h.props.plugins),toolbar:(y=h.props.toolbar)!==null&&y!==void 0?y:(E=h.props.init)===null||E===void 0?void 0:E.toolbar}),h.props.licenseKey?{license_key:h.props.licenseKey}:{}),{setup:function(L){h.editor=L,h.bindHandlers({}),h.inline&&!Sg(T)&&L.once("PostRender",function(j){L.setContent(h.getInitialValue(),{no_events:!0})}),h.props.init&&kh(h.props.init.setup)&&h.props.init.setup(L)},init_instance_callback:function(L){var j,O,H=h.getInitialValue();h.currentContent=(j=h.currentContent)!==null&&j!==void 0?j:L.getContent(),h.currentContent!==H&&(h.currentContent=H,L.setContent(H),L.undoManager.clear(),L.undoManager.add(),L.setDirty(!1));var W=(O=h.props.disabled)!==null&&O!==void 0?O:!1;Cg(h.editor,W?"readonly":"design"),h.props.init&&kh(h.props.init.init_instance_callback)&&h.props.init.init_instance_callback(L)}});h.inline||(T.style.visibility=""),Sg(T)&&(T.value=h.getInitialValue()),S.init(k)}},h.id=h.props.id||Tv("tiny-react"),h.elementRef=$.createRef(),h.inline=(u=(o=h.props.inline)!==null&&o!==void 0?o:(s=h.props.init)===null||s===void 0?void 0:s.inline)!==null&&u!==void 0?u:!1,h.boundHandlers={},h}return Object.defineProperty(e.prototype,"view",{get:function(){var n,o;return(o=(n=this.elementRef.current)===null||n===void 0?void 0:n.ownerDocument.defaultView)!==null&&o!==void 0?o:window},enumerable:!1,configurable:!0}),e.prototype.componentDidUpdate=function(n){var o=this,s,u;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(n),this.editor.initialized)){if(this.currentContent=(s=this.currentContent)!==null&&s!==void 0?s:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==n.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var h=this.editor;h.undoManager.transact(function(){var g;if(!o.inline||h.hasFocus())try{g=h.selection.getBookmark(3)}catch{}var y=o.valueCursor;if(h.setContent(o.props.value),!o.inline||h.hasFocus())for(var E=0,T=[g,y];E<T.length;E++){var S=T[E];if(S)try{h.selection.moveToBookmark(S),o.valueCursor=S;break}catch{}}})}if(this.props.disabled!==n.disabled){var f=(u=this.props.disabled)!==null&&u!==void 0?u:!1;Cg(this.editor,f?"readonly":"design")}}},e.prototype.componentDidMount=function(){var n=this,o,s,u,h,f;if(xh(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(s=(o=this.props).onScriptsLoadError)===null||s===void 0||s.call(o,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((u=this.elementRef.current)===null||u===void 0)&&u.ownerDocument){var g=function(){var E,T;(T=(E=n.props).onScriptsLoad)===null||T===void 0||T.call(E),n.initialise()},y=function(E){var T,S;(S=(T=n.props).onScriptsLoadError)===null||S===void 0||S.call(T,E)};mI.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(f=(h=this.props.scriptLoading)===null||h===void 0?void 0:h.delay)!==null&&f!==void 0?f:0,g,y)}},e.prototype.componentWillUnmount=function(){var n=this,o=this.editor;o&&(o.off(this.changeEvents(),this.handleEditorChange),o.off(this.beforeInputEvent(),this.handleBeforeInput),o.off("keypress",this.handleEditorChangeSpecial),o.off("keydown",this.handleBeforeInputSpecial),o.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(s){o.off(s,n.boundHandlers[s])}),this.boundHandlers={},o.remove(),this.editor=void 0)},e.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},e.prototype.changeEvents=function(){var n,o,s,u=(s=(o=(n=xh(this.view))===null||n===void 0?void 0:n.Env)===null||o===void 0?void 0:o.browser)===null||s===void 0?void 0:s.isIE();return u?"change keyup compositionend setcontent CommentChange":"change input compositionend setcontent CommentChange"},e.prototype.beforeInputEvent=function(){return cI()?"beforeinput SelectionChange":"SelectionChange"},e.prototype.renderInline=function(){var n=this.props.tagName,o=n===void 0?"div":n;return $.createElement(o,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},e.prototype.renderIframe=function(){return $.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},e.prototype.getScriptSources=function(){var n,o,s=(n=this.props.scriptLoading)===null||n===void 0?void 0:n.async,u=(o=this.props.scriptLoading)===null||o===void 0?void 0:o.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:s,defer:u}]:this.props.tinymceScriptSrc.map(function(y){return typeof y=="string"?{src:y,async:s,defer:u}:y});var h=this.props.cloudChannel,f=this.props.apiKey?this.props.apiKey:"no-api-key",g="https://cdn.tiny.cloud/1/".concat(f,"/tinymce/").concat(h,"/tinymce.min.js");return[{src:g,async:s,defer:u}]},e.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},e.prototype.bindHandlers=function(n){var o=this;if(this.editor!==void 0){lI(this.editor,n,this.props,this.boundHandlers,function(f){return o.props[f]});var s=function(f){return f.onEditorChange!==void 0||f.value!==void 0},u=s(n),h=s(this.props);!u&&h?(this.editor.on(this.changeEvents(),this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):u&&!h&&(this.editor.off(this.changeEvents(),this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},e.propTypes=sI,e.defaultProps={cloudChannel:"7"},e}($.Component);const yI=()=>{const i=Sa(),[e,n]=$.useState(""),[o,s]=$.useState(""),[u,h]=$.useState(null),[f,g]=$.useState(""),y=$.useRef(null),E=k=>{const L=k.target.files[0];if(L){h(L);const j=URL.createObjectURL(L);g(j)}},T=k=>{s(k)},S=async()=>{try{const k=URL.createObjectURL(u),L={title:e,content:o,thumbnailUrl:k,createdAt:new Date};await YS(ka(ji,"blogs"),L),alert("Blog saved successfully!"),i("/admin/dashboard/blogs")}catch(k){console.error("Error saving blog:",k),alert("Error saving blog. Please try again.")}};return te.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[te.jsx("div",{children:te.jsx("input",{type:"text",placeholder:"Enter blog title",value:e,onChange:k=>n(k.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),te.jsxs("div",{className:"flex items-center space-x-4",children:[te.jsx("button",{onClick:()=>y.current.click(),className:"px-4 py-2 text-sm border rounded-md hover:bg-gray-50",children:"Upload Thumbnail"}),te.jsx("input",{type:"file",ref:y,onChange:E,accept:"image/*",className:"hidden"}),f&&te.jsx("div",{className:"w-12 h-12 overflow-hidden rounded-full border",children:te.jsx("img",{src:f,alt:"Thumbnail preview",className:"w-full h-full object-cover"})})]}),te.jsx(Sv,{apiKey:void 0,init:{height:500,menubar:!1,plugins:["advlist","autolink","lists","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","code","help","wordcount"],toolbar:"undo redo | formatselect | bold italic forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | image ",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",file_picker_types:"image",file_picker_callback:function(k,L,j){if(j.filetype==="image"){const O=document.createElement("input");O.setAttribute("type","file"),O.setAttribute("accept","image/*"),O.onchange=function(){const H=this.files[0],W=new FileReader;W.onload=function(){const re=URL.createObjectURL(H);k(re,{title:H.name})},W.readAsDataURL(H)},O.click()}},images_upload_handler:function(k,L){return new Promise((j,O)=>{const H=URL.createObjectURL(k.blob());j(H)})}},onEditorChange:T}),te.jsx("button",{className:"px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",onClick:S,children:"Save Blog"})]})},vI=()=>{const i=[{path:"career-form",name:"Career Form"},{path:"partner-form",name:"Partner Form"},{path:"contact-form",name:"Contact Form"},{path:"blogs",name:"Blogs"}];return te.jsxs("div",{className:"flex h-full p-2 gap-4",children:[te.jsx("div",{className:"w-60 h-full bg-white border rounded-xl p-4",children:te.jsx("nav",{className:"space-y-2",children:i.map(e=>te.jsx(Fg,{to:e.path,className:({isActive:n})=>`block px-4 text-sm text-gray-600 hover:text-black py-2 rounded-xl transition-colors ${n?"bg-blue-100 ":" hover:bg-blue-50"}`,children:e.name},e.path))})}),te.jsx("div",{className:"h-full w-full flex-1 bg-white p-4 border rounded-xl  ",children:te.jsx(A0,{})})]})},_I=({id:i,title:e,thumbnailUrl:n,content:o})=>{const s=Sa();return te.jsxs("div",{onClick:()=>s(`/admin/dashboard/edit-blog/${i}`),className:"border rounded-lg p-1 bg-white  overflow-hidden cursor-pointer shadow-sm hover:shadow-md transition-shadow",children:[te.jsx("div",{className:"h-48  overflow-hidden rounded-lg",children:te.jsx("img",{src:n,alt:e,className:"w-full h-full object-cover"})}),te.jsxs("div",{className:"px-2 py-1",children:[te.jsx("h3",{className:"text-xl font-semibold mb-2",children:e}),te.jsx("div",{className:"text-gray-600 line-clamp-3",dangerouslySetInnerHTML:{__html:o.substring(0,150)+"..."}})]})]})},EI=()=>{const[i,e]=$.useState([]),[n,o]=$.useState(!0);return $.useEffect(()=>{(async()=>{try{const u=zS(ka(ji,"blogs"),$S("createdAt","desc")),f=(await Fu(u)).docs.map(g=>({id:g.id,...g.data()}));e(f)}catch(u){console.error("Error fetching blogs:",u)}finally{o(!1)}})()},[]),n?te.jsx("div",{className:"flex items-center justify-center min-h-screen",children:te.jsx("div",{className:"text-xl",children:"Loading..."})}):te.jsxs("div",{className:"",children:[te.jsxs("div",{className:"flex justify-between items-center mb-6",children:[te.jsx("h2",{className:"text-2xl font-semibold",children:"Blogs"}),te.jsx(dd,{to:"/admin/dashboard/create-blog",className:"px-4 py-2 text-sm bg-blue-400 text-white hover:text-white rounded-md hover:bg-blue-300 transition-colors",children:"Create New Blog"})]}),te.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(240px,1fr))] gap-6",children:i.map(s=>te.jsx(_I,{id:s.id,title:s.title,thumbnailUrl:s.thumbnailUrl,content:s.content},s.id))})]})},wI=()=>{const{id:i}=f0(),e=Sa(),[n,o]=$.useState(""),[s,u]=$.useState(""),[h,f]=$.useState(null),[g,y]=$.useState(""),[E,T]=$.useState(!0),S=$.useRef(null);$.useEffect(()=>{(async()=>{try{const H=await QS(ed(ji,"blogs",i));if(H.exists()){const W=H.data();o(W.title),u(W.content),y(W.thumbnailUrl)}else alert("Blog not found!"),e("/admin/dashboard/blogs")}catch(H){console.error("Error fetching blog:",H),alert("Error loading blog")}finally{T(!1)}})()},[i,e]);const k=O=>{const H=O.target.files[0];if(H){f(H);const W=URL.createObjectURL(H);y(W)}},L=O=>{u(O)},j=async()=>{try{const O=ed(ji,"blogs",i),H={title:n,content:s,updatedAt:new Date};if(h){const W=URL.createObjectURL(h);H.thumbnailUrl=W}await GS(O,H),alert("Blog updated successfully!"),e("/admin/dashboard/blogs")}catch(O){console.error("Error updating blog:",O),alert("Error updating blog. Please try again.")}};return E?te.jsx("div",{className:"flex items-center justify-center min-h-screen",children:te.jsx("div",{className:"text-xl",children:"Loading..."})}):te.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[te.jsx("div",{children:te.jsx("input",{type:"text",placeholder:"Enter blog title",value:n,onChange:O=>o(O.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),te.jsxs("div",{className:"flex items-center space-x-4",children:[te.jsx("button",{onClick:()=>S.current.click(),className:"px-4 py-2 text-sm border rounded-md hover:bg-gray-50",children:"Change Thumbnail"}),te.jsx("input",{type:"file",ref:S,onChange:k,accept:"image/*",className:"hidden"}),g&&te.jsx("div",{className:"w-12 h-12 overflow-hidden rounded-full border",children:te.jsx("img",{src:g,alt:"Thumbnail preview",className:"w-full h-full object-cover"})})]}),te.jsx(Sv,{apiKey:void 0,value:s,init:{height:500,menubar:!1,plugins:["advlist","autolink","lists","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","code","help","wordcount"],toolbar:"undo redo | formatselect | bold italic forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | image | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",file_picker_types:"image",file_picker_callback:function(O,H,W){if(W.filetype==="image"){const re=document.createElement("input");re.setAttribute("type","file"),re.setAttribute("accept","image/*"),re.onchange=function(){const de=this.files[0],Ie=new FileReader;Ie.onload=function(){const Se=URL.createObjectURL(de);O(Se,{title:de.name})},Ie.readAsDataURL(de)},re.click()}},images_upload_handler:function(O,H){return new Promise((W,re)=>{const de=URL.createObjectURL(O.blob());W(de)})}},onEditorChange:L}),te.jsx("button",{className:"px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",onClick:j,children:"Update Blog"})]})};function TI(){return te.jsx(Z0,{children:te.jsxs(k0,{children:[te.jsx(Gn,{index:!0,element:te.jsx(ym,{to:"/admin/dashboard",replace:!0})}),te.jsxs(Gn,{path:"/admin/dashboard",element:te.jsx(vI,{}),children:[te.jsx(Gn,{index:!0,element:te.jsx(ym,{to:"career-form",replace:!0})}),te.jsx(Gn,{path:"career-form",element:te.jsx(eI,{})}),te.jsx(Gn,{path:"partner-form",element:te.jsx(tI,{})}),te.jsx(Gn,{path:"contact-form",element:te.jsx(nI,{})}),te.jsx(Gn,{path:"create-blog",element:te.jsx(yI,{})}),te.jsx(Gn,{path:"blogs",element:te.jsx(EI,{})}),te.jsx(Gn,{path:"edit-blog/:id",element:te.jsx(wI,{})})]})]})})}O_.createRoot(document.getElementById("root")).render(te.jsx($.StrictMode,{children:te.jsx(TI,{})}));
